var Hv=Object.defineProperty;var Zv=(e,t,n)=>t in e?Hv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Qv=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var bg=(e,t,n)=>Zv(e,typeof t!="symbol"?t+"":t,n);var lL=Qv(Dt=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Jv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Mp={exports:{}},Nh={},Sp={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pa=Symbol.for("react.element"),tx=Symbol.for("react.portal"),ex=Symbol.for("react.fragment"),nx=Symbol.for("react.strict_mode"),ix=Symbol.for("react.profiler"),rx=Symbol.for("react.provider"),sx=Symbol.for("react.context"),ox=Symbol.for("react.forward_ref"),ax=Symbol.for("react.suspense"),lx=Symbol.for("react.memo"),hx=Symbol.for("react.lazy"),zg=Symbol.iterator;function ux(e){return e===null||typeof e!="object"?null:(e=zg&&e[zg]||e["@@iterator"],typeof e=="function"?e:null)}var Cp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rp=Object.assign,Tp={};function Xs(e,t,n){this.props=e,this.context=t,this.refs=Tp,this.updater=n||Cp}Xs.prototype.isReactComponent={};Xs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ip(){}Ip.prototype=Xs.prototype;function Vf(e,t,n){this.props=e,this.context=t,this.refs=Tp,this.updater=n||Cp}var $f=Vf.prototype=new Ip;$f.constructor=Vf;Rp($f,Xs.prototype);$f.isPureReactComponent=!0;var Gg=Array.isArray,Ap=Object.prototype.hasOwnProperty,Yf={current:null},Pp={key:!0,ref:!0,__self:!0,__source:!0};function Lp(e,t,n){var i,r={},s=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Ap.call(t,i)&&!Pp.hasOwnProperty(i)&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),h=0;h<a;h++)l[h]=arguments[h+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Pa,type:e,key:s,ref:o,props:r,_owner:Yf.current}}function cx(e,t){return{$$typeof:Pa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pa}function fx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Bg=/\/+/g;function Au(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fx(""+e.key):t.toString(36)}function Il(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Pa:case tx:o=!0}}if(o)return o=e,r=r(o),e=i===""?"."+Au(o,0):i,Gg(r)?(n="",e!=null&&(n=e.replace(Bg,"$&/")+"/"),Il(r,t,n,"",function(h){return h})):r!=null&&(qf(r)&&(r=cx(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Bg,"$&/")+"/")+e)),t.push(r)),1;if(o=0,i=i===""?".":i+":",Gg(e))for(var a=0;a<e.length;a++){s=e[a];var l=i+Au(s,a);o+=Il(s,t,n,l,r)}else if(l=ux(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=i+Au(s,a++),o+=Il(s,t,n,l,r);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Qa(e,t,n){if(e==null)return e;var i=[],r=0;return Il(e,i,"","",function(s){return t.call(n,s,r++)}),i}function dx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _e={current:null},Al={transition:null},gx={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:Al,ReactCurrentOwner:Yf};function Op(){throw Error("act(...) is not supported in production builds of React.")}nt.Children={map:Qa,forEach:function(e,t,n){Qa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Qa(e,function(){t++}),t},toArray:function(e){return Qa(e,function(t){return t})||[]},only:function(e){if(!qf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};nt.Component=Xs;nt.Fragment=ex;nt.Profiler=ix;nt.PureComponent=Vf;nt.StrictMode=nx;nt.Suspense=ax;nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gx;nt.act=Op;nt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Rp({},e.props),r=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Yf.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Ap.call(t,l)&&!Pp.hasOwnProperty(l)&&(i[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var h=0;h<l;h++)a[h]=arguments[h+2];i.children=a}return{$$typeof:Pa,type:e.type,key:r,ref:s,props:i,_owner:o}};nt.createContext=function(e){return e={$$typeof:sx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rx,_context:e},e.Consumer=e};nt.createElement=Lp;nt.createFactory=function(e){var t=Lp.bind(null,e);return t.type=e,t};nt.createRef=function(){return{current:null}};nt.forwardRef=function(e){return{$$typeof:ox,render:e}};nt.isValidElement=qf;nt.lazy=function(e){return{$$typeof:hx,_payload:{_status:-1,_result:e},_init:dx}};nt.memo=function(e,t){return{$$typeof:lx,type:e,compare:t===void 0?null:t}};nt.startTransition=function(e){var t=Al.transition;Al.transition={};try{e()}finally{Al.transition=t}};nt.unstable_act=Op;nt.useCallback=function(e,t){return _e.current.useCallback(e,t)};nt.useContext=function(e){return _e.current.useContext(e)};nt.useDebugValue=function(){};nt.useDeferredValue=function(e){return _e.current.useDeferredValue(e)};nt.useEffect=function(e,t){return _e.current.useEffect(e,t)};nt.useId=function(){return _e.current.useId()};nt.useImperativeHandle=function(e,t,n){return _e.current.useImperativeHandle(e,t,n)};nt.useInsertionEffect=function(e,t){return _e.current.useInsertionEffect(e,t)};nt.useLayoutEffect=function(e,t){return _e.current.useLayoutEffect(e,t)};nt.useMemo=function(e,t){return _e.current.useMemo(e,t)};nt.useReducer=function(e,t,n){return _e.current.useReducer(e,t,n)};nt.useRef=function(e){return _e.current.useRef(e)};nt.useState=function(e){return _e.current.useState(e)};nt.useSyncExternalStore=function(e,t,n){return _e.current.useSyncExternalStore(e,t,n)};nt.useTransition=function(){return _e.current.useTransition()};nt.version="18.3.1";Sp.exports=nt;var ge=Sp.exports;const mx=Jv(ge);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var px=ge,_x=Symbol.for("react.element"),yx=Symbol.for("react.fragment"),vx=Object.prototype.hasOwnProperty,xx=px.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ex={key:!0,ref:!0,__self:!0,__source:!0};function kp(e,t,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)vx.call(t,i)&&!Ex.hasOwnProperty(i)&&(r[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)r[i]===void 0&&(r[i]=t[i]);return{$$typeof:_x,type:e,key:s,ref:o,props:r,_owner:xx.current}}Nh.Fragment=yx;Nh.jsx=kp;Nh.jsxs=kp;Mp.exports=Nh;var K=Mp.exports,Mc={},Np={exports:{}},Ge={},Dp={exports:{}},Fp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,z){var N=I.length;I.push(z);t:for(;0<N;){var U=N-1>>>1,W=I[U];if(0<r(W,z))I[U]=z,I[N]=W,N=U;else break t}}function n(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var z=I[0],N=I.pop();if(N!==z){I[0]=N;t:for(var U=0,W=I.length,ut=W>>>1;U<ut;){var L=2*(U+1)-1,zt=I[L],Et=L+1,yt=I[Et];if(0>r(zt,N))Et<W&&0>r(yt,zt)?(I[U]=yt,I[Et]=N,U=Et):(I[U]=zt,I[L]=N,U=L);else if(Et<W&&0>r(yt,N))I[U]=yt,I[Et]=N,U=Et;else break t}}return z}function r(I,z){var N=I.sortIndex-z.sortIndex;return N!==0?N:I.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],h=[],u=1,c=null,f=3,g=!1,d=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(I){for(var z=n(h);z!==null;){if(z.callback===null)i(h);else if(z.startTime<=I)i(h),z.sortIndex=z.expirationTime,t(l,z);else break;z=n(h)}}function x(I){if(p=!1,y(I),!d)if(n(l)!==null)d=!0,k(E);else{var z=n(h);z!==null&&it(x,z.startTime-I)}}function E(I,z){d=!1,p&&(p=!1,_(M),M=-1),g=!0;var N=f;try{for(y(z),c=n(l);c!==null&&(!(c.expirationTime>z)||I&&!F());){var U=c.callback;if(typeof U=="function"){c.callback=null,f=c.priorityLevel;var W=U(c.expirationTime<=z);z=e.unstable_now(),typeof W=="function"?c.callback=W:c===n(l)&&i(l),y(z)}else i(l);c=n(l)}if(c!==null)var ut=!0;else{var L=n(h);L!==null&&it(x,L.startTime-z),ut=!1}return ut}finally{c=null,f=N,g=!1}}var w=!1,S=null,M=-1,R=5,O=-1;function F(){return!(e.unstable_now()-O<R)}function B(){if(S!==null){var I=e.unstable_now();O=I;var z=!0;try{z=S(!0,I)}finally{z?$():(w=!1,S=null)}}else w=!1}var $;if(typeof m=="function")$=function(){m(B)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Z=Y.port2;Y.port1.onmessage=B,$=function(){Z.postMessage(null)}}else $=function(){v(B,0)};function k(I){S=I,w||(w=!0,$())}function it(I,z){M=v(function(){I(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){d||g||(d=!0,k(E))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(I){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var N=f;f=z;try{return I()}finally{f=N}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,z){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var N=f;f=I;try{return z()}finally{f=N}},e.unstable_scheduleCallback=function(I,z,N){var U=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?U+N:U):N=U,I){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=N+W,I={id:u++,callback:z,priorityLevel:I,startTime:N,expirationTime:W,sortIndex:-1},N>U?(I.sortIndex=N,t(h,I),n(l)===null&&I===n(h)&&(p?(_(M),M=-1):p=!0,it(x,N-U))):(I.sortIndex=W,t(l,I),d||g||(d=!0,k(E))),I},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(I){var z=f;return function(){var N=f;f=z;try{return I.apply(this,arguments)}finally{f=N}}}})(Fp);Dp.exports=Fp;var wx=Dp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mx=ge,ze=wx;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bp=new Set,Ko={};function Lr(e,t){Rs(e,t),Rs(e+"Capture",t)}function Rs(e,t){for(Ko[e]=t,e=0;e<t.length;e++)bp.add(t[e])}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sc=Object.prototype.hasOwnProperty,Sx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jg={},Ug={};function Cx(e){return Sc.call(Ug,e)?!0:Sc.call(jg,e)?!1:Sx.test(e)?Ug[e]=!0:(jg[e]=!0,!1)}function Rx(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Tx(e,t,n,i){if(t===null||typeof t>"u"||Rx(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ye(e,t,n,i,r,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qt[e]=new ye(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qt[t]=new ye(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qt[e]=new ye(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qt[e]=new ye(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qt[e]=new ye(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qt[e]=new ye(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qt[e]=new ye(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qt[e]=new ye(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qt[e]=new ye(e,5,!1,e.toLowerCase(),null,!1,!1)});var Kf=/[\-:]([a-z])/g;function Hf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Kf,Hf);Qt[t]=new ye(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Kf,Hf);Qt[t]=new ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Kf,Hf);Qt[t]=new ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qt[e]=new ye(e,1,!1,e.toLowerCase(),null,!1,!1)});Qt.xlinkHref=new ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qt[e]=new ye(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zf(e,t,n,i){var r=Qt.hasOwnProperty(t)?Qt[t]:null;(r!==null?r.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Tx(t,n,r,i)&&(n=null),i||r===null?Cx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,i=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var ai=Mx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ja=Symbol.for("react.element"),qr=Symbol.for("react.portal"),Kr=Symbol.for("react.fragment"),Qf=Symbol.for("react.strict_mode"),Cc=Symbol.for("react.profiler"),zp=Symbol.for("react.provider"),Gp=Symbol.for("react.context"),Jf=Symbol.for("react.forward_ref"),Rc=Symbol.for("react.suspense"),Tc=Symbol.for("react.suspense_list"),td=Symbol.for("react.memo"),Si=Symbol.for("react.lazy"),Bp=Symbol.for("react.offscreen"),Wg=Symbol.iterator;function oo(e){return e===null||typeof e!="object"?null:(e=Wg&&e[Wg]||e["@@iterator"],typeof e=="function"?e:null)}var Tt=Object.assign,Pu;function wo(e){if(Pu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Pu=t&&t[1]||""}return`
`+Pu+e}var Lu=!1;function Ou(e,t){if(!e||Lu)return"";Lu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var i=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){i=h}e.call(t.prototype)}else{try{throw Error()}catch(h){i=h}e()}}catch(h){if(h&&i&&typeof h.stack=="string"){for(var r=h.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Lu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?wo(e):""}function Ix(e){switch(e.tag){case 5:return wo(e.type);case 16:return wo("Lazy");case 13:return wo("Suspense");case 19:return wo("SuspenseList");case 0:case 2:case 15:return e=Ou(e.type,!1),e;case 11:return e=Ou(e.type.render,!1),e;case 1:return e=Ou(e.type,!0),e;default:return""}}function Ic(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kr:return"Fragment";case qr:return"Portal";case Cc:return"Profiler";case Qf:return"StrictMode";case Rc:return"Suspense";case Tc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gp:return(e.displayName||"Context")+".Consumer";case zp:return(e._context.displayName||"Context")+".Provider";case Jf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case td:return t=e.displayName||null,t!==null?t:Ic(e.type)||"Memo";case Si:t=e._payload,e=e._init;try{return Ic(e(t))}catch{}}return null}function Ax(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ic(t);case 8:return t===Qf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Px(e){var t=jp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tl(e){e._valueTracker||(e._valueTracker=Px(e))}function Up(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=jp(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function $l(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ac(e,t){var n=t.checked;return Tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Xg(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=Xi(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Wp(e,t){t=t.checked,t!=null&&Zf(e,"checked",t,!1)}function Pc(e,t){Wp(e,t);var n=Xi(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lc(e,t.type,n):t.hasOwnProperty("defaultValue")&&Lc(e,t.type,Xi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Vg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Lc(e,t,n){(t!=="number"||$l(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Mo=Array.isArray;function gs(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Xi(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Oc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return Tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $g(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(Mo(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Xi(n)}}function Xp(e,t){var n=Xi(t.value),i=Xi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Yg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var el,$p=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(el=el||document.createElement("div"),el.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=el.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ho(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Oo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lx=["Webkit","ms","Moz","O"];Object.keys(Oo).forEach(function(e){Lx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Oo[t]=Oo[e]})});function Yp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Oo.hasOwnProperty(e)&&Oo[e]?(""+t).trim():t+"px"}function qp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=Yp(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}var Ox=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nc(e,t){if(t){if(Ox[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function Dc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fc=null;function ed(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bc=null,ms=null,ps=null;function qg(e){if(e=ka(e)){if(typeof bc!="function")throw Error(P(280));var t=e.stateNode;t&&(t=Gh(t),bc(e.stateNode,e.type,t))}}function Kp(e){ms?ps?ps.push(e):ps=[e]:ms=e}function Hp(){if(ms){var e=ms,t=ps;if(ps=ms=null,qg(e),t)for(e=0;e<t.length;e++)qg(t[e])}}function Zp(e,t){return e(t)}function Qp(){}var ku=!1;function Jp(e,t,n){if(ku)return e(t,n);ku=!0;try{return Zp(e,t,n)}finally{ku=!1,(ms!==null||ps!==null)&&(Qp(),Hp())}}function Zo(e,t){var n=e.stateNode;if(n===null)return null;var i=Gh(n);if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var zc=!1;if(ni)try{var ao={};Object.defineProperty(ao,"passive",{get:function(){zc=!0}}),window.addEventListener("test",ao,ao),window.removeEventListener("test",ao,ao)}catch{zc=!1}function kx(e,t,n,i,r,s,o,a,l){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(u){this.onError(u)}}var ko=!1,Yl=null,ql=!1,Gc=null,Nx={onError:function(e){ko=!0,Yl=e}};function Dx(e,t,n,i,r,s,o,a,l){ko=!1,Yl=null,kx.apply(Nx,arguments)}function Fx(e,t,n,i,r,s,o,a,l){if(Dx.apply(this,arguments),ko){if(ko){var h=Yl;ko=!1,Yl=null}else throw Error(P(198));ql||(ql=!0,Gc=h)}}function Or(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function t_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kg(e){if(Or(e)!==e)throw Error(P(188))}function bx(e){var t=e.alternate;if(!t){if(t=Or(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Kg(r),e;if(s===i)return Kg(r),t;s=s.sibling}throw Error(P(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==i)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function e_(e){return e=bx(e),e!==null?n_(e):null}function n_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=n_(e);if(t!==null)return t;e=e.sibling}return null}var i_=ze.unstable_scheduleCallback,Hg=ze.unstable_cancelCallback,zx=ze.unstable_shouldYield,Gx=ze.unstable_requestPaint,Nt=ze.unstable_now,Bx=ze.unstable_getCurrentPriorityLevel,nd=ze.unstable_ImmediatePriority,r_=ze.unstable_UserBlockingPriority,Kl=ze.unstable_NormalPriority,jx=ze.unstable_LowPriority,s_=ze.unstable_IdlePriority,Dh=null,Ln=null;function Ux(e){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(Dh,e,void 0,(e.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:Vx,Wx=Math.log,Xx=Math.LN2;function Vx(e){return e>>>=0,e===0?32:31-(Wx(e)/Xx|0)|0}var nl=64,il=4194304;function So(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hl(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,r=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=So(a):(s&=o,s!==0&&(i=So(s)))}else o=n&~r,o!==0?i=So(o):s!==0&&(i=So(s));if(i===0)return 0;if(t!==0&&t!==i&&!(t&r)&&(r=i&-i,s=t&-t,r>=s||r===16&&(s&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-fn(t),r=1<<n,i|=e[n],t&=~r;return i}function $x(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yx(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-fn(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=$x(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Bc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function o_(){var e=nl;return nl<<=1,!(nl&4194240)&&(nl=64),e}function Nu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function La(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fn(t),e[t]=n}function qx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-fn(n),s=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~s}}function id(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-fn(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var pt=0;function a_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var l_,rd,h_,u_,c_,jc=!1,rl=[],Ni=null,Di=null,Fi=null,Qo=new Map,Jo=new Map,Ti=[],Kx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zg(e,t){switch(e){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":Qo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(t.pointerId)}}function lo(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=ka(t),t!==null&&rd(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Hx(e,t,n,i,r){switch(t){case"focusin":return Ni=lo(Ni,e,t,n,i,r),!0;case"dragenter":return Di=lo(Di,e,t,n,i,r),!0;case"mouseover":return Fi=lo(Fi,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Qo.set(s,lo(Qo.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Jo.set(s,lo(Jo.get(s)||null,e,t,n,i,r)),!0}return!1}function f_(e){var t=ur(e.target);if(t!==null){var n=Or(t);if(n!==null){if(t=n.tag,t===13){if(t=t_(n),t!==null){e.blockedOn=t,c_(e.priority,function(){h_(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Uc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Fc=i,n.target.dispatchEvent(i),Fc=null}else return t=ka(n),t!==null&&rd(t),e.blockedOn=n,!1;t.shift()}return!0}function Qg(e,t,n){Pl(e)&&n.delete(t)}function Zx(){jc=!1,Ni!==null&&Pl(Ni)&&(Ni=null),Di!==null&&Pl(Di)&&(Di=null),Fi!==null&&Pl(Fi)&&(Fi=null),Qo.forEach(Qg),Jo.forEach(Qg)}function ho(e,t){e.blockedOn===t&&(e.blockedOn=null,jc||(jc=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,Zx)))}function ta(e){function t(r){return ho(r,e)}if(0<rl.length){ho(rl[0],e);for(var n=1;n<rl.length;n++){var i=rl[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Ni!==null&&ho(Ni,e),Di!==null&&ho(Di,e),Fi!==null&&ho(Fi,e),Qo.forEach(t),Jo.forEach(t),n=0;n<Ti.length;n++)i=Ti[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Ti.length&&(n=Ti[0],n.blockedOn===null);)f_(n),n.blockedOn===null&&Ti.shift()}var _s=ai.ReactCurrentBatchConfig,Zl=!0;function Qx(e,t,n,i){var r=pt,s=_s.transition;_s.transition=null;try{pt=1,sd(e,t,n,i)}finally{pt=r,_s.transition=s}}function Jx(e,t,n,i){var r=pt,s=_s.transition;_s.transition=null;try{pt=4,sd(e,t,n,i)}finally{pt=r,_s.transition=s}}function sd(e,t,n,i){if(Zl){var r=Uc(e,t,n,i);if(r===null)Xu(e,t,i,Ql,n),Zg(e,i);else if(Hx(r,e,t,n,i))i.stopPropagation();else if(Zg(e,i),t&4&&-1<Kx.indexOf(e)){for(;r!==null;){var s=ka(r);if(s!==null&&l_(s),s=Uc(e,t,n,i),s===null&&Xu(e,t,i,Ql,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Xu(e,t,i,null,n)}}var Ql=null;function Uc(e,t,n,i){if(Ql=null,e=ed(i),e=ur(e),e!==null)if(t=Or(e),t===null)e=null;else if(n=t.tag,n===13){if(e=t_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ql=e,null}function d_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bx()){case nd:return 1;case r_:return 4;case Kl:case jx:return 16;case s_:return 536870912;default:return 16}default:return 16}}var Pi=null,od=null,Ll=null;function g_(){if(Ll)return Ll;var e,t=od,n=t.length,i,r="value"in Pi?Pi.value:Pi.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var o=n-e;for(i=1;i<=o&&t[n-i]===r[s-i];i++);return Ll=r.slice(e,1<i?1-i:void 0)}function Ol(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sl(){return!0}function Jg(){return!1}function Be(e){function t(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sl:Jg,this.isPropagationStopped=Jg,this}return Tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sl)},persist:function(){},isPersistent:sl}),t}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ad=Be(Vs),Oa=Tt({},Vs,{view:0,detail:0}),tE=Be(Oa),Du,Fu,uo,Fh=Tt({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ld,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==uo&&(uo&&e.type==="mousemove"?(Du=e.screenX-uo.screenX,Fu=e.screenY-uo.screenY):Fu=Du=0,uo=e),Du)},movementY:function(e){return"movementY"in e?e.movementY:Fu}}),t0=Be(Fh),eE=Tt({},Fh,{dataTransfer:0}),nE=Be(eE),iE=Tt({},Oa,{relatedTarget:0}),bu=Be(iE),rE=Tt({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),sE=Be(rE),oE=Tt({},Vs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aE=Be(oE),lE=Tt({},Vs,{data:0}),e0=Be(lE),hE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cE[e])?!!t[e]:!1}function ld(){return fE}var dE=Tt({},Oa,{key:function(e){if(e.key){var t=hE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ol(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ld,charCode:function(e){return e.type==="keypress"?Ol(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ol(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gE=Be(dE),mE=Tt({},Fh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),n0=Be(mE),pE=Tt({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ld}),_E=Be(pE),yE=Tt({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),vE=Be(yE),xE=Tt({},Fh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),EE=Be(xE),wE=[9,13,27,32],hd=ni&&"CompositionEvent"in window,No=null;ni&&"documentMode"in document&&(No=document.documentMode);var ME=ni&&"TextEvent"in window&&!No,m_=ni&&(!hd||No&&8<No&&11>=No),i0=" ",r0=!1;function p_(e,t){switch(e){case"keyup":return wE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function __(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hr=!1;function SE(e,t){switch(e){case"compositionend":return __(t);case"keypress":return t.which!==32?null:(r0=!0,i0);case"textInput":return e=t.data,e===i0&&r0?null:e;default:return null}}function CE(e,t){if(Hr)return e==="compositionend"||!hd&&p_(e,t)?(e=g_(),Ll=od=Pi=null,Hr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return m_&&t.locale!=="ko"?null:t.data;default:return null}}var RE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!RE[e.type]:t==="textarea"}function y_(e,t,n,i){Kp(i),t=Jl(t,"onChange"),0<t.length&&(n=new ad("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Do=null,ea=null;function TE(e){A_(e,0)}function bh(e){var t=Jr(e);if(Up(t))return e}function IE(e,t){if(e==="change")return t}var v_=!1;if(ni){var zu;if(ni){var Gu="oninput"in document;if(!Gu){var o0=document.createElement("div");o0.setAttribute("oninput","return;"),Gu=typeof o0.oninput=="function"}zu=Gu}else zu=!1;v_=zu&&(!document.documentMode||9<document.documentMode)}function a0(){Do&&(Do.detachEvent("onpropertychange",x_),ea=Do=null)}function x_(e){if(e.propertyName==="value"&&bh(ea)){var t=[];y_(t,ea,e,ed(e)),Jp(TE,t)}}function AE(e,t,n){e==="focusin"?(a0(),Do=t,ea=n,Do.attachEvent("onpropertychange",x_)):e==="focusout"&&a0()}function PE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bh(ea)}function LE(e,t){if(e==="click")return bh(t)}function OE(e,t){if(e==="input"||e==="change")return bh(t)}function kE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _n=typeof Object.is=="function"?Object.is:kE;function na(e,t){if(_n(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Sc.call(t,r)||!_n(e[r],t[r]))return!1}return!0}function l0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function h0(e,t){var n=l0(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=l0(n)}}function E_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?E_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function w_(){for(var e=window,t=$l();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$l(e.document)}return t}function ud(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function NE(e){var t=w_(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&E_(n.ownerDocument.documentElement,n)){if(i!==null&&ud(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!e.extend&&s>i&&(r=i,i=s,s=r),r=h0(n,s);var o=h0(n,i);r&&o&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var DE=ni&&"documentMode"in document&&11>=document.documentMode,Zr=null,Wc=null,Fo=null,Xc=!1;function u0(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xc||Zr==null||Zr!==$l(i)||(i=Zr,"selectionStart"in i&&ud(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Fo&&na(Fo,i)||(Fo=i,i=Jl(Wc,"onSelect"),0<i.length&&(t=new ad("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Zr)))}function ol(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qr={animationend:ol("Animation","AnimationEnd"),animationiteration:ol("Animation","AnimationIteration"),animationstart:ol("Animation","AnimationStart"),transitionend:ol("Transition","TransitionEnd")},Bu={},M_={};ni&&(M_=document.createElement("div").style,"AnimationEvent"in window||(delete Qr.animationend.animation,delete Qr.animationiteration.animation,delete Qr.animationstart.animation),"TransitionEvent"in window||delete Qr.transitionend.transition);function zh(e){if(Bu[e])return Bu[e];if(!Qr[e])return e;var t=Qr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in M_)return Bu[e]=t[n];return e}var S_=zh("animationend"),C_=zh("animationiteration"),R_=zh("animationstart"),T_=zh("transitionend"),I_=new Map,c0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hi(e,t){I_.set(e,t),Lr(t,[e])}for(var ju=0;ju<c0.length;ju++){var Uu=c0[ju],FE=Uu.toLowerCase(),bE=Uu[0].toUpperCase()+Uu.slice(1);Hi(FE,"on"+bE)}Hi(S_,"onAnimationEnd");Hi(C_,"onAnimationIteration");Hi(R_,"onAnimationStart");Hi("dblclick","onDoubleClick");Hi("focusin","onFocus");Hi("focusout","onBlur");Hi(T_,"onTransitionEnd");Rs("onMouseEnter",["mouseout","mouseover"]);Rs("onMouseLeave",["mouseout","mouseover"]);Rs("onPointerEnter",["pointerout","pointerover"]);Rs("onPointerLeave",["pointerout","pointerover"]);Lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Lr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Co));function f0(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,Fx(i,t,void 0,e),e.currentTarget=null}function A_(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,h=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break t;f0(r,a,h),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,h=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break t;f0(r,a,h),s=l}}}if(ql)throw e=Gc,ql=!1,Gc=null,e}function vt(e,t){var n=t[Kc];n===void 0&&(n=t[Kc]=new Set);var i=e+"__bubble";n.has(i)||(P_(t,e,2,!1),n.add(i))}function Wu(e,t,n){var i=0;t&&(i|=4),P_(n,e,i,t)}var al="_reactListening"+Math.random().toString(36).slice(2);function ia(e){if(!e[al]){e[al]=!0,bp.forEach(function(n){n!=="selectionchange"&&(zE.has(n)||Wu(n,!1,e),Wu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[al]||(t[al]=!0,Wu("selectionchange",!1,t))}}function P_(e,t,n,i){switch(d_(t)){case 1:var r=Qx;break;case 4:r=Jx;break;default:r=sd}n=r.bind(null,t,n,e),r=void 0,!zc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Xu(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=ur(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue t}a=a.parentNode}}i=i.return}Jp(function(){var h=s,u=ed(n),c=[];t:{var f=I_.get(e);if(f!==void 0){var g=ad,d=e;switch(e){case"keypress":if(Ol(n)===0)break t;case"keydown":case"keyup":g=gE;break;case"focusin":d="focus",g=bu;break;case"focusout":d="blur",g=bu;break;case"beforeblur":case"afterblur":g=bu;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=t0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=nE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=_E;break;case S_:case C_:case R_:g=sE;break;case T_:g=vE;break;case"scroll":g=tE;break;case"wheel":g=EE;break;case"copy":case"cut":case"paste":g=aE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=n0}var p=(t&4)!==0,v=!p&&e==="scroll",_=p?f!==null?f+"Capture":null:f;p=[];for(var m=h,y;m!==null;){y=m;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,_!==null&&(x=Zo(m,_),x!=null&&p.push(ra(m,x,y)))),v)break;m=m.return}0<p.length&&(f=new g(f,d,null,n,u),c.push({event:f,listeners:p}))}}if(!(t&7)){t:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==Fc&&(d=n.relatedTarget||n.fromElement)&&(ur(d)||d[ii]))break t;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(d=n.relatedTarget||n.toElement,g=h,d=d?ur(d):null,d!==null&&(v=Or(d),d!==v||d.tag!==5&&d.tag!==6)&&(d=null)):(g=null,d=h),g!==d)){if(p=t0,x="onMouseLeave",_="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(p=n0,x="onPointerLeave",_="onPointerEnter",m="pointer"),v=g==null?f:Jr(g),y=d==null?f:Jr(d),f=new p(x,m+"leave",g,n,u),f.target=v,f.relatedTarget=y,x=null,ur(u)===h&&(p=new p(_,m+"enter",d,n,u),p.target=y,p.relatedTarget=v,x=p),v=x,g&&d)e:{for(p=g,_=d,m=0,y=p;y;y=Fr(y))m++;for(y=0,x=_;x;x=Fr(x))y++;for(;0<m-y;)p=Fr(p),m--;for(;0<y-m;)_=Fr(_),y--;for(;m--;){if(p===_||_!==null&&p===_.alternate)break e;p=Fr(p),_=Fr(_)}p=null}else p=null;g!==null&&d0(c,f,g,p,!1),d!==null&&v!==null&&d0(c,v,d,p,!0)}}t:{if(f=h?Jr(h):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var E=IE;else if(s0(f))if(v_)E=OE;else{E=PE;var w=AE}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=LE);if(E&&(E=E(e,h))){y_(c,E,n,u);break t}w&&w(e,f,h),e==="focusout"&&(w=f._wrapperState)&&w.controlled&&f.type==="number"&&Lc(f,"number",f.value)}switch(w=h?Jr(h):window,e){case"focusin":(s0(w)||w.contentEditable==="true")&&(Zr=w,Wc=h,Fo=null);break;case"focusout":Fo=Wc=Zr=null;break;case"mousedown":Xc=!0;break;case"contextmenu":case"mouseup":case"dragend":Xc=!1,u0(c,n,u);break;case"selectionchange":if(DE)break;case"keydown":case"keyup":u0(c,n,u)}var S;if(hd)t:{switch(e){case"compositionstart":var M="onCompositionStart";break t;case"compositionend":M="onCompositionEnd";break t;case"compositionupdate":M="onCompositionUpdate";break t}M=void 0}else Hr?p_(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(m_&&n.locale!=="ko"&&(Hr||M!=="onCompositionStart"?M==="onCompositionEnd"&&Hr&&(S=g_()):(Pi=u,od="value"in Pi?Pi.value:Pi.textContent,Hr=!0)),w=Jl(h,M),0<w.length&&(M=new e0(M,e,null,n,u),c.push({event:M,listeners:w}),S?M.data=S:(S=__(n),S!==null&&(M.data=S)))),(S=ME?SE(e,n):CE(e,n))&&(h=Jl(h,"onBeforeInput"),0<h.length&&(u=new e0("onBeforeInput","beforeinput",null,n,u),c.push({event:u,listeners:h}),u.data=S))}A_(c,t)})}function ra(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Jl(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Zo(e,n),s!=null&&i.unshift(ra(e,s,r)),s=Zo(e,t),s!=null&&i.push(ra(e,s,r))),e=e.return}return i}function Fr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function d0(e,t,n,i,r){for(var s=t._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,h=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&h!==null&&(a=h,r?(l=Zo(n,s),l!=null&&o.unshift(ra(n,l,a))):r||(l=Zo(n,s),l!=null&&o.push(ra(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var GE=/\r\n?/g,BE=/\u0000|\uFFFD/g;function g0(e){return(typeof e=="string"?e:""+e).replace(GE,`
`).replace(BE,"")}function ll(e,t,n){if(t=g0(t),g0(e)!==t&&n)throw Error(P(425))}function th(){}var Vc=null,$c=null;function Yc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qc=typeof setTimeout=="function"?setTimeout:void 0,jE=typeof clearTimeout=="function"?clearTimeout:void 0,m0=typeof Promise=="function"?Promise:void 0,UE=typeof queueMicrotask=="function"?queueMicrotask:typeof m0<"u"?function(e){return m0.resolve(null).then(e).catch(WE)}:qc;function WE(e){setTimeout(function(){throw e})}function Vu(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){e.removeChild(r),ta(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);ta(t)}function bi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function p0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var $s=Math.random().toString(36).slice(2),Sn="__reactFiber$"+$s,sa="__reactProps$"+$s,ii="__reactContainer$"+$s,Kc="__reactEvents$"+$s,XE="__reactListeners$"+$s,VE="__reactHandles$"+$s;function ur(e){var t=e[Sn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ii]||n[Sn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=p0(e);e!==null;){if(n=e[Sn])return n;e=p0(e)}return t}e=n,n=e.parentNode}return null}function ka(e){return e=e[Sn]||e[ii],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function Gh(e){return e[sa]||null}var Hc=[],ts=-1;function Zi(e){return{current:e}}function xt(e){0>ts||(e.current=Hc[ts],Hc[ts]=null,ts--)}function _t(e,t){ts++,Hc[ts]=e.current,e.current=t}var Vi={},he=Zi(Vi),Re=Zi(!1),wr=Vi;function Ts(e,t){var n=e.type.contextTypes;if(!n)return Vi;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=t[s];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Te(e){return e=e.childContextTypes,e!=null}function eh(){xt(Re),xt(he)}function _0(e,t,n){if(he.current!==Vi)throw Error(P(168));_t(he,t),_t(Re,n)}function L_(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in t))throw Error(P(108,Ax(e)||"Unknown",r));return Tt({},n,i)}function nh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vi,wr=he.current,_t(he,e),_t(Re,Re.current),!0}function y0(e,t,n){var i=e.stateNode;if(!i)throw Error(P(169));n?(e=L_(e,t,wr),i.__reactInternalMemoizedMergedChildContext=e,xt(Re),xt(he),_t(he,e)):xt(Re),_t(Re,n)}var Yn=null,Bh=!1,$u=!1;function O_(e){Yn===null?Yn=[e]:Yn.push(e)}function $E(e){Bh=!0,O_(e)}function Qi(){if(!$u&&Yn!==null){$u=!0;var e=0,t=pt;try{var n=Yn;for(pt=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Yn=null,Bh=!1}catch(r){throw Yn!==null&&(Yn=Yn.slice(e+1)),i_(nd,Qi),r}finally{pt=t,$u=!1}}return null}var es=[],ns=0,ih=null,rh=0,qe=[],Ke=0,Mr=null,Kn=1,Hn="";function ar(e,t){es[ns++]=rh,es[ns++]=ih,ih=e,rh=t}function k_(e,t,n){qe[Ke++]=Kn,qe[Ke++]=Hn,qe[Ke++]=Mr,Mr=e;var i=Kn;e=Hn;var r=32-fn(i)-1;i&=~(1<<r),n+=1;var s=32-fn(t)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Kn=1<<32-fn(t)+r|n<<r|i,Hn=s+e}else Kn=1<<s|n<<r|i,Hn=e}function cd(e){e.return!==null&&(ar(e,1),k_(e,1,0))}function fd(e){for(;e===ih;)ih=es[--ns],es[ns]=null,rh=es[--ns],es[ns]=null;for(;e===Mr;)Mr=qe[--Ke],qe[Ke]=null,Hn=qe[--Ke],qe[Ke]=null,Kn=qe[--Ke],qe[Ke]=null}var be=null,De=null,wt=!1,cn=null;function N_(e,t){var n=Ze(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function v0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,be=e,De=bi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,be=e,De=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Mr!==null?{id:Kn,overflow:Hn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ze(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,be=e,De=null,!0):!1;default:return!1}}function Zc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qc(e){if(wt){var t=De;if(t){var n=t;if(!v0(e,t)){if(Zc(e))throw Error(P(418));t=bi(n.nextSibling);var i=be;t&&v0(e,t)?N_(i,n):(e.flags=e.flags&-4097|2,wt=!1,be=e)}}else{if(Zc(e))throw Error(P(418));e.flags=e.flags&-4097|2,wt=!1,be=e}}}function x0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;be=e}function hl(e){if(e!==be)return!1;if(!wt)return x0(e),wt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yc(e.type,e.memoizedProps)),t&&(t=De)){if(Zc(e))throw D_(),Error(P(418));for(;t;)N_(e,t),t=bi(t.nextSibling)}if(x0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){De=bi(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}De=null}}else De=be?bi(e.stateNode.nextSibling):null;return!0}function D_(){for(var e=De;e;)e=bi(e.nextSibling)}function Is(){De=be=null,wt=!1}function dd(e){cn===null?cn=[e]:cn.push(e)}var YE=ai.ReactCurrentBatchConfig;function co(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var i=n.stateNode}if(!i)throw Error(P(147,e));var r=i,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function ul(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function E0(e){var t=e._init;return t(e._payload)}function F_(e){function t(_,m){if(e){var y=_.deletions;y===null?(_.deletions=[m],_.flags|=16):y.push(m)}}function n(_,m){if(!e)return null;for(;m!==null;)t(_,m),m=m.sibling;return null}function i(_,m){for(_=new Map;m!==null;)m.key!==null?_.set(m.key,m):_.set(m.index,m),m=m.sibling;return _}function r(_,m){return _=ji(_,m),_.index=0,_.sibling=null,_}function s(_,m,y){return _.index=y,e?(y=_.alternate,y!==null?(y=y.index,y<m?(_.flags|=2,m):y):(_.flags|=2,m)):(_.flags|=1048576,m)}function o(_){return e&&_.alternate===null&&(_.flags|=2),_}function a(_,m,y,x){return m===null||m.tag!==6?(m=Ju(y,_.mode,x),m.return=_,m):(m=r(m,y),m.return=_,m)}function l(_,m,y,x){var E=y.type;return E===Kr?u(_,m,y.props.children,x,y.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Si&&E0(E)===m.type)?(x=r(m,y.props),x.ref=co(_,m,y),x.return=_,x):(x=Gl(y.type,y.key,y.props,null,_.mode,x),x.ref=co(_,m,y),x.return=_,x)}function h(_,m,y,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=tc(y,_.mode,x),m.return=_,m):(m=r(m,y.children||[]),m.return=_,m)}function u(_,m,y,x,E){return m===null||m.tag!==7?(m=xr(y,_.mode,x,E),m.return=_,m):(m=r(m,y),m.return=_,m)}function c(_,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ju(""+m,_.mode,y),m.return=_,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ja:return y=Gl(m.type,m.key,m.props,null,_.mode,y),y.ref=co(_,null,m),y.return=_,y;case qr:return m=tc(m,_.mode,y),m.return=_,m;case Si:var x=m._init;return c(_,x(m._payload),y)}if(Mo(m)||oo(m))return m=xr(m,_.mode,y,null),m.return=_,m;ul(_,m)}return null}function f(_,m,y,x){var E=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:a(_,m,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ja:return y.key===E?l(_,m,y,x):null;case qr:return y.key===E?h(_,m,y,x):null;case Si:return E=y._init,f(_,m,E(y._payload),x)}if(Mo(y)||oo(y))return E!==null?null:u(_,m,y,x,null);ul(_,y)}return null}function g(_,m,y,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return _=_.get(y)||null,a(m,_,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ja:return _=_.get(x.key===null?y:x.key)||null,l(m,_,x,E);case qr:return _=_.get(x.key===null?y:x.key)||null,h(m,_,x,E);case Si:var w=x._init;return g(_,m,y,w(x._payload),E)}if(Mo(x)||oo(x))return _=_.get(y)||null,u(m,_,x,E,null);ul(m,x)}return null}function d(_,m,y,x){for(var E=null,w=null,S=m,M=m=0,R=null;S!==null&&M<y.length;M++){S.index>M?(R=S,S=null):R=S.sibling;var O=f(_,S,y[M],x);if(O===null){S===null&&(S=R);break}e&&S&&O.alternate===null&&t(_,S),m=s(O,m,M),w===null?E=O:w.sibling=O,w=O,S=R}if(M===y.length)return n(_,S),wt&&ar(_,M),E;if(S===null){for(;M<y.length;M++)S=c(_,y[M],x),S!==null&&(m=s(S,m,M),w===null?E=S:w.sibling=S,w=S);return wt&&ar(_,M),E}for(S=i(_,S);M<y.length;M++)R=g(S,_,M,y[M],x),R!==null&&(e&&R.alternate!==null&&S.delete(R.key===null?M:R.key),m=s(R,m,M),w===null?E=R:w.sibling=R,w=R);return e&&S.forEach(function(F){return t(_,F)}),wt&&ar(_,M),E}function p(_,m,y,x){var E=oo(y);if(typeof E!="function")throw Error(P(150));if(y=E.call(y),y==null)throw Error(P(151));for(var w=E=null,S=m,M=m=0,R=null,O=y.next();S!==null&&!O.done;M++,O=y.next()){S.index>M?(R=S,S=null):R=S.sibling;var F=f(_,S,O.value,x);if(F===null){S===null&&(S=R);break}e&&S&&F.alternate===null&&t(_,S),m=s(F,m,M),w===null?E=F:w.sibling=F,w=F,S=R}if(O.done)return n(_,S),wt&&ar(_,M),E;if(S===null){for(;!O.done;M++,O=y.next())O=c(_,O.value,x),O!==null&&(m=s(O,m,M),w===null?E=O:w.sibling=O,w=O);return wt&&ar(_,M),E}for(S=i(_,S);!O.done;M++,O=y.next())O=g(S,_,M,O.value,x),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?M:O.key),m=s(O,m,M),w===null?E=O:w.sibling=O,w=O);return e&&S.forEach(function(B){return t(_,B)}),wt&&ar(_,M),E}function v(_,m,y,x){if(typeof y=="object"&&y!==null&&y.type===Kr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ja:t:{for(var E=y.key,w=m;w!==null;){if(w.key===E){if(E=y.type,E===Kr){if(w.tag===7){n(_,w.sibling),m=r(w,y.props.children),m.return=_,_=m;break t}}else if(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Si&&E0(E)===w.type){n(_,w.sibling),m=r(w,y.props),m.ref=co(_,w,y),m.return=_,_=m;break t}n(_,w);break}else t(_,w);w=w.sibling}y.type===Kr?(m=xr(y.props.children,_.mode,x,y.key),m.return=_,_=m):(x=Gl(y.type,y.key,y.props,null,_.mode,x),x.ref=co(_,m,y),x.return=_,_=x)}return o(_);case qr:t:{for(w=y.key;m!==null;){if(m.key===w)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(_,m.sibling),m=r(m,y.children||[]),m.return=_,_=m;break t}else{n(_,m);break}else t(_,m);m=m.sibling}m=tc(y,_.mode,x),m.return=_,_=m}return o(_);case Si:return w=y._init,v(_,m,w(y._payload),x)}if(Mo(y))return d(_,m,y,x);if(oo(y))return p(_,m,y,x);ul(_,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(_,m.sibling),m=r(m,y),m.return=_,_=m):(n(_,m),m=Ju(y,_.mode,x),m.return=_,_=m),o(_)):n(_,m)}return v}var As=F_(!0),b_=F_(!1),sh=Zi(null),oh=null,is=null,gd=null;function md(){gd=is=oh=null}function pd(e){var t=sh.current;xt(sh),e._currentValue=t}function Jc(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function ys(e,t){oh=e,gd=is=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ce=!0),e.firstContext=null)}function en(e){var t=e._currentValue;if(gd!==e)if(e={context:e,memoizedValue:t,next:null},is===null){if(oh===null)throw Error(P(308));is=e,oh.dependencies={lanes:0,firstContext:e}}else is=is.next=e;return t}var cr=null;function _d(e){cr===null?cr=[e]:cr.push(e)}function z_(e,t,n,i){var r=t.interleaved;return r===null?(n.next=n,_d(t)):(n.next=r.next,r.next=n),t.interleaved=n,ri(e,i)}function ri(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ci=!1;function yd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function G_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,st&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,ri(e,n)}return r=i.interleaved,r===null?(t.next=t,_d(i)):(t.next=r.next,r.next=t),i.interleaved=t,ri(e,n)}function kl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,id(e,n)}}function w0(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ah(e,t,n,i){var r=e.updateQueue;Ci=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,h=l.next;l.next=null,o===null?s=h:o.next=h,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=h:a.next=h,u.lastBaseUpdate=l))}if(s!==null){var c=r.baseState;o=0,u=h=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((i&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var d=e,p=a;switch(f=t,g=n,p.tag){case 1:if(d=p.payload,typeof d=="function"){c=d.call(g,c,f);break t}c=d;break t;case 3:d.flags=d.flags&-65537|128;case 0:if(d=p.payload,f=typeof d=="function"?d.call(g,c,f):d,f==null)break t;c=Tt({},c,f);break t;case 2:Ci=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(h=u=g,l=c):u=u.next=g,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(u===null&&(l=c),r.baseState=l,r.firstBaseUpdate=h,r.lastBaseUpdate=u,t=r.shared.interleaved,t!==null){r=t;do o|=r.lane,r=r.next;while(r!==t)}else s===null&&(r.shared.lanes=0);Cr|=o,e.lanes=o,e.memoizedState=c}}function M0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(P(191,r));r.call(i)}}}var Na={},On=Zi(Na),oa=Zi(Na),aa=Zi(Na);function fr(e){if(e===Na)throw Error(P(174));return e}function vd(e,t){switch(_t(aa,t),_t(oa,e),_t(On,Na),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kc(t,e)}xt(On),_t(On,t)}function Ps(){xt(On),xt(oa),xt(aa)}function B_(e){fr(aa.current);var t=fr(On.current),n=kc(t,e.type);t!==n&&(_t(oa,e),_t(On,n))}function xd(e){oa.current===e&&(xt(On),xt(oa))}var Ct=Zi(0);function lh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yu=[];function Ed(){for(var e=0;e<Yu.length;e++)Yu[e]._workInProgressVersionPrimary=null;Yu.length=0}var Nl=ai.ReactCurrentDispatcher,qu=ai.ReactCurrentBatchConfig,Sr=0,Rt=null,Gt=null,Ut=null,hh=!1,bo=!1,la=0,qE=0;function te(){throw Error(P(321))}function wd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_n(e[n],t[n]))return!1;return!0}function Md(e,t,n,i,r,s){if(Sr=s,Rt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Nl.current=e===null||e.memoizedState===null?QE:JE,e=n(i,r),bo){s=0;do{if(bo=!1,la=0,25<=s)throw Error(P(301));s+=1,Ut=Gt=null,t.updateQueue=null,Nl.current=t2,e=n(i,r)}while(bo)}if(Nl.current=uh,t=Gt!==null&&Gt.next!==null,Sr=0,Ut=Gt=Rt=null,hh=!1,t)throw Error(P(300));return e}function Sd(){var e=la!==0;return la=0,e}function Mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Rt.memoizedState=Ut=e:Ut=Ut.next=e,Ut}function nn(){if(Gt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Gt.next;var t=Ut===null?Rt.memoizedState:Ut.next;if(t!==null)Ut=t,Gt=e;else{if(e===null)throw Error(P(310));Gt=e,e={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},Ut===null?Rt.memoizedState=Ut=e:Ut=Ut.next=e}return Ut}function ha(e,t){return typeof t=="function"?t(e):t}function Ku(e){var t=nn(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var i=Gt,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,h=s;do{var u=h.lane;if((Sr&u)===u)l!==null&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),i=h.hasEagerState?h.eagerState:e(i,h.action);else{var c={lane:u,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};l===null?(a=l=c,o=i):l=l.next=c,Rt.lanes|=u,Cr|=u}h=h.next}while(h!==null&&h!==s);l===null?o=i:l.next=a,_n(i,t.memoizedState)||(Ce=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=l,n.lastRenderedState=i}if(e=n.interleaved,e!==null){r=e;do s=r.lane,Rt.lanes|=s,Cr|=s,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Hu(e){var t=nn(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=e(s,o.action),o=o.next;while(o!==r);_n(s,t.memoizedState)||(Ce=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function j_(){}function U_(e,t){var n=Rt,i=nn(),r=t(),s=!_n(i.memoizedState,r);if(s&&(i.memoizedState=r,Ce=!0),i=i.queue,Cd(V_.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||Ut!==null&&Ut.memoizedState.tag&1){if(n.flags|=2048,ua(9,X_.bind(null,n,i,r,t),void 0,null),Xt===null)throw Error(P(349));Sr&30||W_(n,t,r)}return r}function W_(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Rt.updateQueue,t===null?(t={lastEffect:null,stores:null},Rt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function X_(e,t,n,i){t.value=n,t.getSnapshot=i,$_(t)&&Y_(e)}function V_(e,t,n){return n(function(){$_(t)&&Y_(e)})}function $_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_n(e,n)}catch{return!0}}function Y_(e){var t=ri(e,1);t!==null&&dn(t,e,1,-1)}function S0(e){var t=Mn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:e},t.queue=e,e=e.dispatch=ZE.bind(null,Rt,e),[t.memoizedState,e]}function ua(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Rt.updateQueue,t===null?(t={lastEffect:null,stores:null},Rt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function q_(){return nn().memoizedState}function Dl(e,t,n,i){var r=Mn();Rt.flags|=e,r.memoizedState=ua(1|t,n,void 0,i===void 0?null:i)}function jh(e,t,n,i){var r=nn();i=i===void 0?null:i;var s=void 0;if(Gt!==null){var o=Gt.memoizedState;if(s=o.destroy,i!==null&&wd(i,o.deps)){r.memoizedState=ua(t,n,s,i);return}}Rt.flags|=e,r.memoizedState=ua(1|t,n,s,i)}function C0(e,t){return Dl(8390656,8,e,t)}function Cd(e,t){return jh(2048,8,e,t)}function K_(e,t){return jh(4,2,e,t)}function H_(e,t){return jh(4,4,e,t)}function Z_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Q_(e,t,n){return n=n!=null?n.concat([e]):null,jh(4,4,Z_.bind(null,t,e),n)}function Rd(){}function J_(e,t){var n=nn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&wd(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function ty(e,t){var n=nn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&wd(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function ey(e,t,n){return Sr&21?(_n(n,t)||(n=o_(),Rt.lanes|=n,Cr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ce=!0),e.memoizedState=n)}function KE(e,t){var n=pt;pt=n!==0&&4>n?n:4,e(!0);var i=qu.transition;qu.transition={};try{e(!1),t()}finally{pt=n,qu.transition=i}}function ny(){return nn().memoizedState}function HE(e,t,n){var i=Bi(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},iy(e))ry(t,n);else if(n=z_(e,t,n,i),n!==null){var r=pe();dn(n,e,i,r),sy(n,t,i)}}function ZE(e,t,n){var i=Bi(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(iy(e))ry(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,_n(a,o)){var l=t.interleaved;l===null?(r.next=r,_d(t)):(r.next=l.next,l.next=r),t.interleaved=r;return}}catch{}finally{}n=z_(e,t,r,i),n!==null&&(r=pe(),dn(n,e,i,r),sy(n,t,i))}}function iy(e){var t=e.alternate;return e===Rt||t!==null&&t===Rt}function ry(e,t){bo=hh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sy(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,id(e,n)}}var uh={readContext:en,useCallback:te,useContext:te,useEffect:te,useImperativeHandle:te,useInsertionEffect:te,useLayoutEffect:te,useMemo:te,useReducer:te,useRef:te,useState:te,useDebugValue:te,useDeferredValue:te,useTransition:te,useMutableSource:te,useSyncExternalStore:te,useId:te,unstable_isNewReconciler:!1},QE={readContext:en,useCallback:function(e,t){return Mn().memoizedState=[e,t===void 0?null:t],e},useContext:en,useEffect:C0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Dl(4194308,4,Z_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Dl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Dl(4,2,e,t)},useMemo:function(e,t){var n=Mn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Mn();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=HE.bind(null,Rt,e),[i.memoizedState,e]},useRef:function(e){var t=Mn();return e={current:e},t.memoizedState=e},useState:S0,useDebugValue:Rd,useDeferredValue:function(e){return Mn().memoizedState=e},useTransition:function(){var e=S0(!1),t=e[0];return e=KE.bind(null,e[1]),Mn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Rt,r=Mn();if(wt){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),Xt===null)throw Error(P(349));Sr&30||W_(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,C0(V_.bind(null,i,s,e),[e]),i.flags|=2048,ua(9,X_.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=Mn(),t=Xt.identifierPrefix;if(wt){var n=Hn,i=Kn;n=(i&~(1<<32-fn(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=la++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=qE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},JE={readContext:en,useCallback:J_,useContext:en,useEffect:Cd,useImperativeHandle:Q_,useInsertionEffect:K_,useLayoutEffect:H_,useMemo:ty,useReducer:Ku,useRef:q_,useState:function(){return Ku(ha)},useDebugValue:Rd,useDeferredValue:function(e){var t=nn();return ey(t,Gt.memoizedState,e)},useTransition:function(){var e=Ku(ha)[0],t=nn().memoizedState;return[e,t]},useMutableSource:j_,useSyncExternalStore:U_,useId:ny,unstable_isNewReconciler:!1},t2={readContext:en,useCallback:J_,useContext:en,useEffect:Cd,useImperativeHandle:Q_,useInsertionEffect:K_,useLayoutEffect:H_,useMemo:ty,useReducer:Hu,useRef:q_,useState:function(){return Hu(ha)},useDebugValue:Rd,useDeferredValue:function(e){var t=nn();return Gt===null?t.memoizedState=e:ey(t,Gt.memoizedState,e)},useTransition:function(){var e=Hu(ha)[0],t=nn().memoizedState;return[e,t]},useMutableSource:j_,useSyncExternalStore:U_,useId:ny,unstable_isNewReconciler:!1};function hn(e,t){if(e&&e.defaultProps){t=Tt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function tf(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Tt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Uh={isMounted:function(e){return(e=e._reactInternals)?Or(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=pe(),r=Bi(e),s=Zn(i,r);s.payload=t,n!=null&&(s.callback=n),t=zi(e,s,r),t!==null&&(dn(t,e,r,i),kl(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=pe(),r=Bi(e),s=Zn(i,r);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=zi(e,s,r),t!==null&&(dn(t,e,r,i),kl(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pe(),i=Bi(e),r=Zn(n,i);r.tag=2,t!=null&&(r.callback=t),t=zi(e,r,i),t!==null&&(dn(t,e,i,n),kl(t,e,i))}};function R0(e,t,n,i,r,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,o):t.prototype&&t.prototype.isPureReactComponent?!na(n,i)||!na(r,s):!0}function oy(e,t,n){var i=!1,r=Vi,s=t.contextType;return typeof s=="object"&&s!==null?s=en(s):(r=Te(t)?wr:he.current,i=t.contextTypes,s=(i=i!=null)?Ts(e,r):Vi),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Uh,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function T0(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Uh.enqueueReplaceState(t,t.state,null)}function ef(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},yd(e);var s=t.contextType;typeof s=="object"&&s!==null?r.context=en(s):(s=Te(t)?wr:he.current,r.context=Ts(e,s)),r.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(tf(e,t,s,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&Uh.enqueueReplaceState(r,r.state,null),ah(e,n,r,i),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function Ls(e,t){try{var n="",i=t;do n+=Ix(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:r,digest:null}}function Zu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function nf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var e2=typeof WeakMap=="function"?WeakMap:Map;function ay(e,t,n){n=Zn(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){fh||(fh=!0,df=i),nf(e,t)},n}function ly(e,t,n){n=Zn(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){nf(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){nf(e,t),typeof i!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function I0(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new e2;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=m2.bind(null,e,t,n),t.then(e,e))}function A0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function P0(e,t,n,i,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Zn(-1,1),t.tag=2,zi(n,t,1))),n.lanes|=1),e)}var n2=ai.ReactCurrentOwner,Ce=!1;function de(e,t,n,i){t.child=e===null?b_(t,null,n,i):As(t,e.child,n,i)}function L0(e,t,n,i,r){n=n.render;var s=t.ref;return ys(t,r),i=Md(e,t,n,i,s,r),n=Sd(),e!==null&&!Ce?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,si(e,t,r)):(wt&&n&&cd(t),t.flags|=1,de(e,t,i,r),t.child)}function O0(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!Nd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,hy(e,t,s,i,r)):(e=Gl(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:na,n(o,i)&&e.ref===t.ref)return si(e,t,r)}return t.flags|=1,e=ji(s,i),e.ref=t.ref,e.return=t,t.child=e}function hy(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(na(s,i)&&e.ref===t.ref)if(Ce=!1,t.pendingProps=i=s,(e.lanes&r)!==0)e.flags&131072&&(Ce=!0);else return t.lanes=e.lanes,si(e,t,r)}return rf(e,t,n,i,r)}function uy(e,t,n){var i=t.pendingProps,r=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(ss,Oe),Oe|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_t(ss,Oe),Oe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,_t(ss,Oe),Oe|=i}else s!==null?(i=s.baseLanes|n,t.memoizedState=null):i=n,_t(ss,Oe),Oe|=i;return de(e,t,r,n),t.child}function cy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function rf(e,t,n,i,r){var s=Te(n)?wr:he.current;return s=Ts(t,s),ys(t,r),n=Md(e,t,n,i,s,r),i=Sd(),e!==null&&!Ce?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,si(e,t,r)):(wt&&i&&cd(t),t.flags|=1,de(e,t,n,r),t.child)}function k0(e,t,n,i,r){if(Te(n)){var s=!0;nh(t)}else s=!1;if(ys(t,r),t.stateNode===null)Fl(e,t),oy(t,n,i),ef(t,n,i,r),i=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=en(h):(h=Te(n)?wr:he.current,h=Ts(t,h));var u=n.getDerivedStateFromProps,c=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==h)&&T0(t,o,i,h),Ci=!1;var f=t.memoizedState;o.state=f,ah(t,i,o,r),l=t.memoizedState,a!==i||f!==l||Re.current||Ci?(typeof u=="function"&&(tf(t,n,u,i),l=t.memoizedState),(a=Ci||R0(t,n,a,i,f,l,h))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=h,i=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,G_(e,t),a=t.memoizedProps,h=t.type===t.elementType?a:hn(t.type,a),o.props=h,c=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=en(l):(l=Te(n)?wr:he.current,l=Ts(t,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==c||f!==l)&&T0(t,o,i,l),Ci=!1,f=t.memoizedState,o.state=f,ah(t,i,o,r);var d=t.memoizedState;a!==c||f!==d||Re.current||Ci?(typeof g=="function"&&(tf(t,n,g,i),d=t.memoizedState),(h=Ci||R0(t,n,h,i,f,d,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,d,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,d,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=d),o.props=i,o.state=d,o.context=l,i=h):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),i=!1)}return sf(e,t,n,i,s,r)}function sf(e,t,n,i,r,s){cy(e,t);var o=(t.flags&128)!==0;if(!i&&!o)return r&&y0(t,n,!1),si(e,t,s);i=t.stateNode,n2.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&o?(t.child=As(t,e.child,null,s),t.child=As(t,null,a,s)):de(e,t,a,s),t.memoizedState=i.state,r&&y0(t,n,!0),t.child}function fy(e){var t=e.stateNode;t.pendingContext?_0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_0(e,t.context,!1),vd(e,t.containerInfo)}function N0(e,t,n,i,r){return Is(),dd(r),t.flags|=256,de(e,t,n,i),t.child}var of={dehydrated:null,treeContext:null,retryLane:0};function af(e){return{baseLanes:e,cachePool:null,transitions:null}}function dy(e,t,n){var i=t.pendingProps,r=Ct.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(r&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),_t(Ct,r&1),e===null)return Qc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Vh(o,i,0,null),e=xr(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=af(n),t.memoizedState=of,e):Td(t,o));if(r=e.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return i2(e,t,o,i,a,r,n);if(s){s=i.fallback,o=t.mode,r=e.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&t.child!==r?(i=t.child,i.childLanes=0,i.pendingProps=l,t.deletions=null):(i=ji(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=ji(a,s):(s=xr(s,o,n,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,o=e.child.memoizedState,o=o===null?af(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=of,i}return s=e.child,e=s.sibling,i=ji(s,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Td(e,t){return t=Vh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function cl(e,t,n,i){return i!==null&&dd(i),As(t,e.child,null,n),e=Td(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function i2(e,t,n,i,r,s,o){if(n)return t.flags&256?(t.flags&=-257,i=Zu(Error(P(422))),cl(e,t,o,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=i.fallback,r=t.mode,i=Vh({mode:"visible",children:i.children},r,0,null),s=xr(s,r,o,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,t.mode&1&&As(t,e.child,null,o),t.child.memoizedState=af(o),t.memoizedState=of,s);if(!(t.mode&1))return cl(e,t,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(P(419)),i=Zu(s,i,void 0),cl(e,t,o,i)}if(a=(o&e.childLanes)!==0,Ce||a){if(i=Xt,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,ri(e,r),dn(i,e,r,-1))}return kd(),i=Zu(Error(P(421))),cl(e,t,o,i)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=p2.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,De=bi(r.nextSibling),be=t,wt=!0,cn=null,e!==null&&(qe[Ke++]=Kn,qe[Ke++]=Hn,qe[Ke++]=Mr,Kn=e.id,Hn=e.overflow,Mr=t),t=Td(t,i.children),t.flags|=4096,t)}function D0(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Jc(e.return,t,n)}function Qu(e,t,n,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function gy(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(de(e,t,i.children,n),i=Ct.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&D0(e,n,t);else if(e.tag===19)D0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(_t(Ct,i),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&lh(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Qu(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&lh(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Qu(t,!0,n,null,s);break;case"together":Qu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function si(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Cr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=ji(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ji(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function r2(e,t,n){switch(t.tag){case 3:fy(t),Is();break;case 5:B_(t);break;case 1:Te(t.type)&&nh(t);break;case 4:vd(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;_t(sh,i._currentValue),i._currentValue=r;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(_t(Ct,Ct.current&1),t.flags|=128,null):n&t.child.childLanes?dy(e,t,n):(_t(Ct,Ct.current&1),e=si(e,t,n),e!==null?e.sibling:null);_t(Ct,Ct.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return gy(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),_t(Ct,Ct.current),i)break;return null;case 22:case 23:return t.lanes=0,uy(e,t,n)}return si(e,t,n)}var my,lf,py,_y;my=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lf=function(){};py=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,fr(On.current);var s=null;switch(n){case"input":r=Ac(e,r),i=Ac(e,i),s=[];break;case"select":r=Tt({},r,{value:void 0}),i=Tt({},i,{value:void 0}),s=[];break;case"textarea":r=Oc(e,r),i=Oc(e,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=th)}Nc(n,i);var o;n=null;for(h in r)if(!i.hasOwnProperty(h)&&r.hasOwnProperty(h)&&r[h]!=null)if(h==="style"){var a=r[h];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Ko.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in i){var l=i[h];if(a=r!=null?r[h]:void 0,i.hasOwnProperty(h)&&l!==a&&(l!=null||a!=null))if(h==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(h,n)),n=l;else h==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(h,l)):h==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(h,""+l):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Ko.hasOwnProperty(h)?(l!=null&&h==="onScroll"&&vt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}};_y=function(e,t,n,i){n!==i&&(t.flags|=4)};function fo(e,t){if(!wt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ee(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function s2(e,t,n){var i=t.pendingProps;switch(fd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(t),null;case 1:return Te(t.type)&&eh(),ee(t),null;case 3:return i=t.stateNode,Ps(),xt(Re),xt(he),Ed(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(hl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,cn!==null&&(pf(cn),cn=null))),lf(e,t),ee(t),null;case 5:xd(t);var r=fr(aa.current);if(n=t.type,e!==null&&t.stateNode!=null)py(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(P(166));return ee(t),null}if(e=fr(On.current),hl(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[Sn]=t,i[sa]=s,e=(t.mode&1)!==0,n){case"dialog":vt("cancel",i),vt("close",i);break;case"iframe":case"object":case"embed":vt("load",i);break;case"video":case"audio":for(r=0;r<Co.length;r++)vt(Co[r],i);break;case"source":vt("error",i);break;case"img":case"image":case"link":vt("error",i),vt("load",i);break;case"details":vt("toggle",i);break;case"input":Xg(i,s),vt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},vt("invalid",i);break;case"textarea":$g(i,s),vt("invalid",i)}Nc(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&ll(i.textContent,a,e),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ll(i.textContent,a,e),r=["children",""+a]):Ko.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&vt("scroll",i)}switch(n){case"input":tl(i),Vg(i,s,!0);break;case"textarea":tl(i),Yg(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=th)}i=r,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=o.createElement(n,{is:i.is}):(e=o.createElement(n),n==="select"&&(o=e,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):e=o.createElementNS(e,n),e[Sn]=t,e[sa]=i,my(e,t,!1,!1),t.stateNode=e;t:{switch(o=Dc(n,i),n){case"dialog":vt("cancel",e),vt("close",e),r=i;break;case"iframe":case"object":case"embed":vt("load",e),r=i;break;case"video":case"audio":for(r=0;r<Co.length;r++)vt(Co[r],e);r=i;break;case"source":vt("error",e),r=i;break;case"img":case"image":case"link":vt("error",e),vt("load",e),r=i;break;case"details":vt("toggle",e),r=i;break;case"input":Xg(e,i),r=Ac(e,i),vt("invalid",e);break;case"option":r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=Tt({},i,{value:void 0}),vt("invalid",e);break;case"textarea":$g(e,i),r=Oc(e,i),vt("invalid",e);break;default:r=i}Nc(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?qp(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$p(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ho(e,l):typeof l=="number"&&Ho(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ko.hasOwnProperty(s)?l!=null&&s==="onScroll"&&vt("scroll",e):l!=null&&Zf(e,s,l,o))}switch(n){case"input":tl(e),Vg(e,i,!1);break;case"textarea":tl(e),Yg(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Xi(i.value));break;case"select":e.multiple=!!i.multiple,s=i.value,s!=null?gs(e,!!i.multiple,s,!1):i.defaultValue!=null&&gs(e,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=th)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ee(t),null;case 6:if(e&&t.stateNode!=null)_y(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(P(166));if(n=fr(aa.current),fr(On.current),hl(t)){if(i=t.stateNode,n=t.memoizedProps,i[Sn]=t,(s=i.nodeValue!==n)&&(e=be,e!==null))switch(e.tag){case 3:ll(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ll(i.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Sn]=t,t.stateNode=i}return ee(t),null;case 13:if(xt(Ct),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wt&&De!==null&&t.mode&1&&!(t.flags&128))D_(),Is(),t.flags|=98560,s=!1;else if(s=hl(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(P(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[Sn]=t}else Is(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ee(t),s=!1}else cn!==null&&(pf(cn),cn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Ct.current&1?Bt===0&&(Bt=3):kd())),t.updateQueue!==null&&(t.flags|=4),ee(t),null);case 4:return Ps(),lf(e,t),e===null&&ia(t.stateNode.containerInfo),ee(t),null;case 10:return pd(t.type._context),ee(t),null;case 17:return Te(t.type)&&eh(),ee(t),null;case 19:if(xt(Ct),s=t.memoizedState,s===null)return ee(t),null;if(i=(t.flags&128)!==0,o=s.rendering,o===null)if(i)fo(s,!1);else{if(Bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=lh(e),o!==null){for(t.flags|=128,fo(s,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)s=n,e=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _t(Ct,Ct.current&1|2),t.child}e=e.sibling}s.tail!==null&&Nt()>Os&&(t.flags|=128,i=!0,fo(s,!1),t.lanes=4194304)}else{if(!i)if(e=lh(o),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),fo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!wt)return ee(t),null}else 2*Nt()-s.renderingStartTime>Os&&n!==1073741824&&(t.flags|=128,i=!0,fo(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Nt(),t.sibling=null,n=Ct.current,_t(Ct,i?n&1|2:n&1),t):(ee(t),null);case 22:case 23:return Od(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Oe&1073741824&&(ee(t),t.subtreeFlags&6&&(t.flags|=8192)):ee(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function o2(e,t){switch(fd(t),t.tag){case 1:return Te(t.type)&&eh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ps(),xt(Re),xt(he),Ed(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xd(t),null;case 13:if(xt(Ct),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));Is()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xt(Ct),null;case 4:return Ps(),null;case 10:return pd(t.type._context),null;case 22:case 23:return Od(),null;case 24:return null;default:return null}}var fl=!1,oe=!1,a2=typeof WeakSet=="function"?WeakSet:Set,G=null;function rs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Lt(e,t,i)}else n.current=null}function hf(e,t,n){try{n()}catch(i){Lt(e,t,i)}}var F0=!1;function l2(e,t){if(Vc=Zl,e=w_(),ud(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var o=0,a=-1,l=-1,h=0,u=0,c=e,f=null;e:for(;;){for(var g;c!==n||r!==0&&c.nodeType!==3||(a=o+r),c!==s||i!==0&&c.nodeType!==3||(l=o+i),c.nodeType===3&&(o+=c.nodeValue.length),(g=c.firstChild)!==null;)f=c,c=g;for(;;){if(c===e)break e;if(f===n&&++h===r&&(a=o),f===s&&++u===i&&(l=o),(g=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($c={focusedElem:e,selectionRange:n},Zl=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var d=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(d!==null){var p=d.memoizedProps,v=d.memoizedState,_=t.stateNode,m=_.getSnapshotBeforeUpdate(t.elementType===t.type?p:hn(t.type,p),v);_.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(x){Lt(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return d=F0,F0=!1,d}function zo(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,s!==void 0&&hf(t,n,s)}r=r.next}while(r!==i)}}function Wh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function uf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function yy(e){var t=e.alternate;t!==null&&(e.alternate=null,yy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Sn],delete t[sa],delete t[Kc],delete t[XE],delete t[VE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vy(e){return e.tag===5||e.tag===3||e.tag===4}function b0(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||vy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=th));else if(i!==4&&(e=e.child,e!==null))for(cf(e,t,n),e=e.sibling;e!==null;)cf(e,t,n),e=e.sibling}function ff(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(ff(e,t,n),e=e.sibling;e!==null;)ff(e,t,n),e=e.sibling}var $t=null,un=!1;function mi(e,t,n){for(n=n.child;n!==null;)xy(e,t,n),n=n.sibling}function xy(e,t,n){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(Dh,n)}catch{}switch(n.tag){case 5:oe||rs(n,t);case 6:var i=$t,r=un;$t=null,mi(e,t,n),$t=i,un=r,$t!==null&&(un?(e=$t,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$t.removeChild(n.stateNode));break;case 18:$t!==null&&(un?(e=$t,n=n.stateNode,e.nodeType===8?Vu(e.parentNode,n):e.nodeType===1&&Vu(e,n),ta(e)):Vu($t,n.stateNode));break;case 4:i=$t,r=un,$t=n.stateNode.containerInfo,un=!0,mi(e,t,n),$t=i,un=r;break;case 0:case 11:case 14:case 15:if(!oe&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&hf(n,t,o),r=r.next}while(r!==i)}mi(e,t,n);break;case 1:if(!oe&&(rs(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Lt(n,t,a)}mi(e,t,n);break;case 21:mi(e,t,n);break;case 22:n.mode&1?(oe=(i=oe)||n.memoizedState!==null,mi(e,t,n),oe=i):mi(e,t,n);break;default:mi(e,t,n)}}function z0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new a2),t.forEach(function(i){var r=_2.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}}function an(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=e,o=t,a=o;t:for(;a!==null;){switch(a.tag){case 5:$t=a.stateNode,un=!1;break t;case 3:$t=a.stateNode.containerInfo,un=!0;break t;case 4:$t=a.stateNode.containerInfo,un=!0;break t}a=a.return}if($t===null)throw Error(P(160));xy(s,o,r),$t=null,un=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(h){Lt(r,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ey(t,e),t=t.sibling}function Ey(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(an(t,e),En(e),i&4){try{zo(3,e,e.return),Wh(3,e)}catch(p){Lt(e,e.return,p)}try{zo(5,e,e.return)}catch(p){Lt(e,e.return,p)}}break;case 1:an(t,e),En(e),i&512&&n!==null&&rs(n,n.return);break;case 5:if(an(t,e),En(e),i&512&&n!==null&&rs(n,n.return),e.flags&32){var r=e.stateNode;try{Ho(r,"")}catch(p){Lt(e,e.return,p)}}if(i&4&&(r=e.stateNode,r!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Wp(r,s),Dc(a,o);var h=Dc(a,s);for(o=0;o<l.length;o+=2){var u=l[o],c=l[o+1];u==="style"?qp(r,c):u==="dangerouslySetInnerHTML"?$p(r,c):u==="children"?Ho(r,c):Zf(r,u,c,h)}switch(a){case"input":Pc(r,s);break;case"textarea":Xp(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?gs(r,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?gs(r,!!s.multiple,s.defaultValue,!0):gs(r,!!s.multiple,s.multiple?[]:"",!1))}r[sa]=s}catch(p){Lt(e,e.return,p)}}break;case 6:if(an(t,e),En(e),i&4){if(e.stateNode===null)throw Error(P(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(p){Lt(e,e.return,p)}}break;case 3:if(an(t,e),En(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ta(t.containerInfo)}catch(p){Lt(e,e.return,p)}break;case 4:an(t,e),En(e);break;case 13:an(t,e),En(e),r=e.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Pd=Nt())),i&4&&z0(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(oe=(h=oe)||u,an(t,e),oe=h):an(t,e),En(e),i&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!u&&e.mode&1)for(G=e,u=e.child;u!==null;){for(c=G=u;G!==null;){switch(f=G,g=f.child,f.tag){case 0:case 11:case 14:case 15:zo(4,f,f.return);break;case 1:rs(f,f.return);var d=f.stateNode;if(typeof d.componentWillUnmount=="function"){i=f,n=f.return;try{t=i,d.props=t.memoizedProps,d.state=t.memoizedState,d.componentWillUnmount()}catch(p){Lt(i,n,p)}}break;case 5:rs(f,f.return);break;case 22:if(f.memoizedState!==null){B0(c);continue}}g!==null?(g.return=f,G=g):B0(c)}u=u.sibling}t:for(u=null,c=e;;){if(c.tag===5){if(u===null){u=c;try{r=c.stateNode,h?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=c.stateNode,l=c.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Yp("display",o))}catch(p){Lt(e,e.return,p)}}}else if(c.tag===6){if(u===null)try{c.stateNode.nodeValue=h?"":c.memoizedProps}catch(p){Lt(e,e.return,p)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break t;for(;c.sibling===null;){if(c.return===null||c.return===e)break t;u===c&&(u=null),c=c.return}u===c&&(u=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:an(t,e),En(e),i&4&&z0(e);break;case 21:break;default:an(t,e),En(e)}}function En(e){var t=e.flags;if(t&2){try{t:{for(var n=e.return;n!==null;){if(vy(n)){var i=n;break t}n=n.return}throw Error(P(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Ho(r,""),i.flags&=-33);var s=b0(e);ff(e,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=b0(e);cf(e,a,o);break;default:throw Error(P(161))}}catch(l){Lt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function h2(e,t,n){G=e,wy(e)}function wy(e,t,n){for(var i=(e.mode&1)!==0;G!==null;){var r=G,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||fl;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||oe;a=fl;var h=oe;if(fl=o,(oe=l)&&!h)for(G=r;G!==null;)o=G,l=o.child,o.tag===22&&o.memoizedState!==null?j0(r):l!==null?(l.return=o,G=l):j0(r);for(;s!==null;)G=s,wy(s),s=s.sibling;G=r,fl=a,oe=h}G0(e)}else r.subtreeFlags&8772&&s!==null?(s.return=r,G=s):G0(e)}}function G0(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:oe||Wh(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!oe)if(n===null)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:hn(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&M0(t,s,i);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}M0(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var u=h.memoizedState;if(u!==null){var c=u.dehydrated;c!==null&&ta(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}oe||t.flags&512&&uf(t)}catch(f){Lt(t,t.return,f)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function B0(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function j0(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Wh(4,t)}catch(l){Lt(t,n,l)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var r=t.return;try{i.componentDidMount()}catch(l){Lt(t,r,l)}}var s=t.return;try{uf(t)}catch(l){Lt(t,s,l)}break;case 5:var o=t.return;try{uf(t)}catch(l){Lt(t,o,l)}}}catch(l){Lt(t,t.return,l)}if(t===e){G=null;break}var a=t.sibling;if(a!==null){a.return=t.return,G=a;break}G=t.return}}var u2=Math.ceil,ch=ai.ReactCurrentDispatcher,Id=ai.ReactCurrentOwner,Je=ai.ReactCurrentBatchConfig,st=0,Xt=null,Ft=null,Ht=0,Oe=0,ss=Zi(0),Bt=0,ca=null,Cr=0,Xh=0,Ad=0,Go=null,xe=null,Pd=0,Os=1/0,$n=null,fh=!1,df=null,Gi=null,dl=!1,Li=null,dh=0,Bo=0,gf=null,bl=-1,zl=0;function pe(){return st&6?Nt():bl!==-1?bl:bl=Nt()}function Bi(e){return e.mode&1?st&2&&Ht!==0?Ht&-Ht:YE.transition!==null?(zl===0&&(zl=o_()),zl):(e=pt,e!==0||(e=window.event,e=e===void 0?16:d_(e.type)),e):1}function dn(e,t,n,i){if(50<Bo)throw Bo=0,gf=null,Error(P(185));La(e,n,i),(!(st&2)||e!==Xt)&&(e===Xt&&(!(st&2)&&(Xh|=n),Bt===4&&Ii(e,Ht)),Ie(e,i),n===1&&st===0&&!(t.mode&1)&&(Os=Nt()+500,Bh&&Qi()))}function Ie(e,t){var n=e.callbackNode;Yx(e,t);var i=Hl(e,e===Xt?Ht:0);if(i===0)n!==null&&Hg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&Hg(n),t===1)e.tag===0?$E(U0.bind(null,e)):O_(U0.bind(null,e)),UE(function(){!(st&6)&&Qi()}),n=null;else{switch(a_(i)){case 1:n=nd;break;case 4:n=r_;break;case 16:n=Kl;break;case 536870912:n=s_;break;default:n=Kl}n=Py(n,My.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function My(e,t){if(bl=-1,zl=0,st&6)throw Error(P(327));var n=e.callbackNode;if(vs()&&e.callbackNode!==n)return null;var i=Hl(e,e===Xt?Ht:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=gh(e,i);else{t=i;var r=st;st|=2;var s=Cy();(Xt!==e||Ht!==t)&&($n=null,Os=Nt()+500,vr(e,t));do try{d2();break}catch(a){Sy(e,a)}while(!0);md(),ch.current=s,st=r,Ft!==null?t=0:(Xt=null,Ht=0,t=Bt)}if(t!==0){if(t===2&&(r=Bc(e),r!==0&&(i=r,t=mf(e,r))),t===1)throw n=ca,vr(e,0),Ii(e,i),Ie(e,Nt()),n;if(t===6)Ii(e,i);else{if(r=e.current.alternate,!(i&30)&&!c2(r)&&(t=gh(e,i),t===2&&(s=Bc(e),s!==0&&(i=s,t=mf(e,s))),t===1))throw n=ca,vr(e,0),Ii(e,i),Ie(e,Nt()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(P(345));case 2:lr(e,xe,$n);break;case 3:if(Ii(e,i),(i&130023424)===i&&(t=Pd+500-Nt(),10<t)){if(Hl(e,0)!==0)break;if(r=e.suspendedLanes,(r&i)!==i){pe(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=qc(lr.bind(null,e,xe,$n),t);break}lr(e,xe,$n);break;case 4:if(Ii(e,i),(i&4194240)===i)break;for(t=e.eventTimes,r=-1;0<i;){var o=31-fn(i);s=1<<o,o=t[o],o>r&&(r=o),i&=~s}if(i=r,i=Nt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*u2(i/1960))-i,10<i){e.timeoutHandle=qc(lr.bind(null,e,xe,$n),i);break}lr(e,xe,$n);break;case 5:lr(e,xe,$n);break;default:throw Error(P(329))}}}return Ie(e,Nt()),e.callbackNode===n?My.bind(null,e):null}function mf(e,t){var n=Go;return e.current.memoizedState.isDehydrated&&(vr(e,t).flags|=256),e=gh(e,t),e!==2&&(t=xe,xe=n,t!==null&&pf(t)),e}function pf(e){xe===null?xe=e:xe.push.apply(xe,e)}function c2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!_n(s(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ii(e,t){for(t&=~Ad,t&=~Xh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-fn(t),i=1<<n;e[n]=-1,t&=~i}}function U0(e){if(st&6)throw Error(P(327));vs();var t=Hl(e,0);if(!(t&1))return Ie(e,Nt()),null;var n=gh(e,t);if(e.tag!==0&&n===2){var i=Bc(e);i!==0&&(t=i,n=mf(e,i))}if(n===1)throw n=ca,vr(e,0),Ii(e,t),Ie(e,Nt()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lr(e,xe,$n),Ie(e,Nt()),null}function Ld(e,t){var n=st;st|=1;try{return e(t)}finally{st=n,st===0&&(Os=Nt()+500,Bh&&Qi())}}function Rr(e){Li!==null&&Li.tag===0&&!(st&6)&&vs();var t=st;st|=1;var n=Je.transition,i=pt;try{if(Je.transition=null,pt=1,e)return e()}finally{pt=i,Je.transition=n,st=t,!(st&6)&&Qi()}}function Od(){Oe=ss.current,xt(ss)}function vr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,jE(n)),Ft!==null)for(n=Ft.return;n!==null;){var i=n;switch(fd(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&eh();break;case 3:Ps(),xt(Re),xt(he),Ed();break;case 5:xd(i);break;case 4:Ps();break;case 13:xt(Ct);break;case 19:xt(Ct);break;case 10:pd(i.type._context);break;case 22:case 23:Od()}n=n.return}if(Xt=e,Ft=e=ji(e.current,null),Ht=Oe=t,Bt=0,ca=null,Ad=Xh=Cr=0,xe=Go=null,cr!==null){for(t=0;t<cr.length;t++)if(n=cr[t],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}cr=null}return e}function Sy(e,t){do{var n=Ft;try{if(md(),Nl.current=uh,hh){for(var i=Rt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}hh=!1}if(Sr=0,Ut=Gt=Rt=null,bo=!1,la=0,Id.current=null,n===null||n.return===null){Bt=1,ca=t,Ft=null;break}t:{var s=e,o=n.return,a=n,l=t;if(t=Ht,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=l,u=a,c=u.tag;if(!(u.mode&1)&&(c===0||c===11||c===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=A0(o);if(g!==null){g.flags&=-257,P0(g,o,a,s,t),g.mode&1&&I0(s,h,t),t=g,l=h;var d=t.updateQueue;if(d===null){var p=new Set;p.add(l),t.updateQueue=p}else d.add(l);break t}else{if(!(t&1)){I0(s,h,t),kd();break t}l=Error(P(426))}}else if(wt&&a.mode&1){var v=A0(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),P0(v,o,a,s,t),dd(Ls(l,a));break t}}s=l=Ls(l,a),Bt!==4&&(Bt=2),Go===null?Go=[s]:Go.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var _=ay(s,l,t);w0(s,_);break t;case 1:a=l;var m=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Gi===null||!Gi.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=ly(s,a,t);w0(s,x);break t}}s=s.return}while(s!==null)}Ty(n)}catch(E){t=E,Ft===n&&n!==null&&(Ft=n=n.return);continue}break}while(!0)}function Cy(){var e=ch.current;return ch.current=uh,e===null?uh:e}function kd(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Xt===null||!(Cr&268435455)&&!(Xh&268435455)||Ii(Xt,Ht)}function gh(e,t){var n=st;st|=2;var i=Cy();(Xt!==e||Ht!==t)&&($n=null,vr(e,t));do try{f2();break}catch(r){Sy(e,r)}while(!0);if(md(),st=n,ch.current=i,Ft!==null)throw Error(P(261));return Xt=null,Ht=0,Bt}function f2(){for(;Ft!==null;)Ry(Ft)}function d2(){for(;Ft!==null&&!zx();)Ry(Ft)}function Ry(e){var t=Ay(e.alternate,e,Oe);e.memoizedProps=e.pendingProps,t===null?Ty(e):Ft=t,Id.current=null}function Ty(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=o2(n,t),n!==null){n.flags&=32767,Ft=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Bt=6,Ft=null;return}}else if(n=s2(n,t,Oe),n!==null){Ft=n;return}if(t=t.sibling,t!==null){Ft=t;return}Ft=t=e}while(t!==null);Bt===0&&(Bt=5)}function lr(e,t,n){var i=pt,r=Je.transition;try{Je.transition=null,pt=1,g2(e,t,n,i)}finally{Je.transition=r,pt=i}return null}function g2(e,t,n,i){do vs();while(Li!==null);if(st&6)throw Error(P(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(qx(e,s),e===Xt&&(Ft=Xt=null,Ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dl||(dl=!0,Py(Kl,function(){return vs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Je.transition,Je.transition=null;var o=pt;pt=1;var a=st;st|=4,Id.current=null,l2(e,n),Ey(n,e),NE($c),Zl=!!Vc,$c=Vc=null,e.current=n,h2(n),Gx(),st=a,pt=o,Je.transition=s}else e.current=n;if(dl&&(dl=!1,Li=e,dh=r),s=e.pendingLanes,s===0&&(Gi=null),Ux(n.stateNode),Ie(e,Nt()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(fh)throw fh=!1,e=df,df=null,e;return dh&1&&e.tag!==0&&vs(),s=e.pendingLanes,s&1?e===gf?Bo++:(Bo=0,gf=e):Bo=0,Qi(),null}function vs(){if(Li!==null){var e=a_(dh),t=Je.transition,n=pt;try{if(Je.transition=null,pt=16>e?16:e,Li===null)var i=!1;else{if(e=Li,Li=null,dh=0,st&6)throw Error(P(331));var r=st;for(st|=4,G=e.current;G!==null;){var s=G,o=s.child;if(G.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var h=a[l];for(G=h;G!==null;){var u=G;switch(u.tag){case 0:case 11:case 15:zo(8,u,s)}var c=u.child;if(c!==null)c.return=u,G=c;else for(;G!==null;){u=G;var f=u.sibling,g=u.return;if(yy(u),u===h){G=null;break}if(f!==null){f.return=g,G=f;break}G=g}}}var d=s.alternate;if(d!==null){var p=d.child;if(p!==null){d.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}G=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,G=o;else t:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:zo(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,G=_;break t}G=s.return}}var m=e.current;for(G=m;G!==null;){o=G;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,G=y;else t:for(o=m;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wh(9,a)}}catch(E){Lt(a,a.return,E)}if(a===o){G=null;break t}var x=a.sibling;if(x!==null){x.return=a.return,G=x;break t}G=a.return}}if(st=r,Qi(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(Dh,e)}catch{}i=!0}return i}finally{pt=n,Je.transition=t}}return!1}function W0(e,t,n){t=Ls(n,t),t=ay(e,t,1),e=zi(e,t,1),t=pe(),e!==null&&(La(e,1,t),Ie(e,t))}function Lt(e,t,n){if(e.tag===3)W0(e,e,n);else for(;t!==null;){if(t.tag===3){W0(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Gi===null||!Gi.has(i))){e=Ls(n,e),e=ly(t,e,1),t=zi(t,e,1),e=pe(),t!==null&&(La(t,1,e),Ie(t,e));break}}t=t.return}}function m2(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=pe(),e.pingedLanes|=e.suspendedLanes&n,Xt===e&&(Ht&n)===n&&(Bt===4||Bt===3&&(Ht&130023424)===Ht&&500>Nt()-Pd?vr(e,0):Ad|=n),Ie(e,t)}function Iy(e,t){t===0&&(e.mode&1?(t=il,il<<=1,!(il&130023424)&&(il=4194304)):t=1);var n=pe();e=ri(e,t),e!==null&&(La(e,t,n),Ie(e,n))}function p2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Iy(e,n)}function _2(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(P(314))}i!==null&&i.delete(t),Iy(e,n)}var Ay;Ay=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Re.current)Ce=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ce=!1,r2(e,t,n);Ce=!!(e.flags&131072)}else Ce=!1,wt&&t.flags&1048576&&k_(t,rh,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Fl(e,t),e=t.pendingProps;var r=Ts(t,he.current);ys(t,n),r=Md(null,t,i,e,r,n);var s=Sd();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Te(i)?(s=!0,nh(t)):s=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,yd(t),r.updater=Uh,t.stateNode=r,r._reactInternals=t,ef(t,i,e,n),t=sf(null,t,i,!0,s,n)):(t.tag=0,wt&&s&&cd(t),de(null,t,r,n),t=t.child),t;case 16:i=t.elementType;t:{switch(Fl(e,t),e=t.pendingProps,r=i._init,i=r(i._payload),t.type=i,r=t.tag=v2(i),e=hn(i,e),r){case 0:t=rf(null,t,i,e,n);break t;case 1:t=k0(null,t,i,e,n);break t;case 11:t=L0(null,t,i,e,n);break t;case 14:t=O0(null,t,i,hn(i.type,e),n);break t}throw Error(P(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:hn(i,r),rf(e,t,i,r,n);case 1:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:hn(i,r),k0(e,t,i,r,n);case 3:t:{if(fy(t),e===null)throw Error(P(387));i=t.pendingProps,s=t.memoizedState,r=s.element,G_(e,t),ah(t,i,null,n);var o=t.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){r=Ls(Error(P(423)),t),t=N0(e,t,i,n,r);break t}else if(i!==r){r=Ls(Error(P(424)),t),t=N0(e,t,i,n,r);break t}else for(De=bi(t.stateNode.containerInfo.firstChild),be=t,wt=!0,cn=null,n=b_(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Is(),i===r){t=si(e,t,n);break t}de(e,t,i,n)}t=t.child}return t;case 5:return B_(t),e===null&&Qc(t),i=t.type,r=t.pendingProps,s=e!==null?e.memoizedProps:null,o=r.children,Yc(i,r)?o=null:s!==null&&Yc(i,s)&&(t.flags|=32),cy(e,t),de(e,t,o,n),t.child;case 6:return e===null&&Qc(t),null;case 13:return dy(e,t,n);case 4:return vd(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=As(t,null,i,n):de(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:hn(i,r),L0(e,t,i,r,n);case 7:return de(e,t,t.pendingProps,n),t.child;case 8:return de(e,t,t.pendingProps.children,n),t.child;case 12:return de(e,t,t.pendingProps.children,n),t.child;case 10:t:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value,_t(sh,i._currentValue),i._currentValue=o,s!==null)if(_n(s.value,o)){if(s.children===r.children&&!Re.current){t=si(e,t,n);break t}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Zn(-1,n&-n),l.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var u=h.pending;u===null?l.next=l:(l.next=u.next,u.next=l),h.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Jc(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Jc(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}de(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,ys(t,n),r=en(r),i=i(r),t.flags|=1,de(e,t,i,n),t.child;case 14:return i=t.type,r=hn(i,t.pendingProps),r=hn(i.type,r),O0(e,t,i,r,n);case 15:return hy(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:hn(i,r),Fl(e,t),t.tag=1,Te(i)?(e=!0,nh(t)):e=!1,ys(t,n),oy(t,i,r),ef(t,i,r,n),sf(null,t,i,!0,e,n);case 19:return gy(e,t,n);case 22:return uy(e,t,n)}throw Error(P(156,t.tag))};function Py(e,t){return i_(e,t)}function y2(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ze(e,t,n,i){return new y2(e,t,n,i)}function Nd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function v2(e){if(typeof e=="function")return Nd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jf)return 11;if(e===td)return 14}return 2}function ji(e,t){var n=e.alternate;return n===null?(n=Ze(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gl(e,t,n,i,r,s){var o=2;if(i=e,typeof e=="function")Nd(e)&&(o=1);else if(typeof e=="string")o=5;else t:switch(e){case Kr:return xr(n.children,r,s,t);case Qf:o=8,r|=8;break;case Cc:return e=Ze(12,n,t,r|2),e.elementType=Cc,e.lanes=s,e;case Rc:return e=Ze(13,n,t,r),e.elementType=Rc,e.lanes=s,e;case Tc:return e=Ze(19,n,t,r),e.elementType=Tc,e.lanes=s,e;case Bp:return Vh(n,r,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zp:o=10;break t;case Gp:o=9;break t;case Jf:o=11;break t;case td:o=14;break t;case Si:o=16,i=null;break t}throw Error(P(130,e==null?e:typeof e,""))}return t=Ze(o,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function xr(e,t,n,i){return e=Ze(7,e,i,t),e.lanes=n,e}function Vh(e,t,n,i){return e=Ze(22,e,i,t),e.elementType=Bp,e.lanes=n,e.stateNode={isHidden:!1},e}function Ju(e,t,n){return e=Ze(6,e,null,t),e.lanes=n,e}function tc(e,t,n){return t=Ze(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function x2(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nu(0),this.expirationTimes=Nu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nu(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Dd(e,t,n,i,r,s,o,a,l){return e=new x2(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ze(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yd(s),e}function E2(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qr,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function Ly(e){if(!e)return Vi;e=e._reactInternals;t:{if(Or(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(Te(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(Te(n))return L_(e,n,t)}return t}function Oy(e,t,n,i,r,s,o,a,l){return e=Dd(n,i,!0,e,r,s,o,a,l),e.context=Ly(null),n=e.current,i=pe(),r=Bi(n),s=Zn(i,r),s.callback=t??null,zi(n,s,r),e.current.lanes=r,La(e,r,i),Ie(e,i),e}function $h(e,t,n,i){var r=t.current,s=pe(),o=Bi(r);return n=Ly(n),t.context===null?t.context=n:t.pendingContext=n,t=Zn(s,o),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=zi(r,t,o),e!==null&&(dn(e,r,o,s),kl(e,r,o)),o}function mh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function X0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Fd(e,t){X0(e,t),(e=e.alternate)&&X0(e,t)}function w2(){return null}var ky=typeof reportError=="function"?reportError:function(e){console.error(e)};function bd(e){this._internalRoot=e}Yh.prototype.render=bd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));$h(e,t,null,null)};Yh.prototype.unmount=bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rr(function(){$h(null,e,null,null)}),t[ii]=null}};function Yh(e){this._internalRoot=e}Yh.prototype.unstable_scheduleHydration=function(e){if(e){var t=u_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ti.length&&t!==0&&t<Ti[n].priority;n++);Ti.splice(n,0,e),n===0&&f_(e)}};function zd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function V0(){}function M2(e,t,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var h=mh(o);s.call(h)}}var o=Oy(t,i,e,0,null,!1,!1,"",V0);return e._reactRootContainer=o,e[ii]=o.current,ia(e.nodeType===8?e.parentNode:e),Rr(),o}for(;r=e.lastChild;)e.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var h=mh(l);a.call(h)}}var l=Dd(e,0,!1,null,null,!1,!1,"",V0);return e._reactRootContainer=l,e[ii]=l.current,ia(e.nodeType===8?e.parentNode:e),Rr(function(){$h(t,l,n,i)}),l}function Kh(e,t,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=mh(o);a.call(l)}}$h(t,o,e,r)}else o=M2(n,t,e,r,i);return mh(o)}l_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=So(t.pendingLanes);n!==0&&(id(t,n|1),Ie(t,Nt()),!(st&6)&&(Os=Nt()+500,Qi()))}break;case 13:Rr(function(){var i=ri(e,1);if(i!==null){var r=pe();dn(i,e,1,r)}}),Fd(e,1)}};rd=function(e){if(e.tag===13){var t=ri(e,134217728);if(t!==null){var n=pe();dn(t,e,134217728,n)}Fd(e,134217728)}};h_=function(e){if(e.tag===13){var t=Bi(e),n=ri(e,t);if(n!==null){var i=pe();dn(n,e,t,i)}Fd(e,t)}};u_=function(){return pt};c_=function(e,t){var n=pt;try{return pt=e,t()}finally{pt=n}};bc=function(e,t,n){switch(t){case"input":if(Pc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=Gh(i);if(!r)throw Error(P(90));Up(i),Pc(i,r)}}}break;case"textarea":Xp(e,n);break;case"select":t=n.value,t!=null&&gs(e,!!n.multiple,t,!1)}};Zp=Ld;Qp=Rr;var S2={usingClientEntryPoint:!1,Events:[ka,Jr,Gh,Kp,Hp,Ld]},go={findFiberByHostInstance:ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C2={bundleType:go.bundleType,version:go.version,rendererPackageName:go.rendererPackageName,rendererConfig:go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=e_(e),e===null?null:e.stateNode},findFiberByHostInstance:go.findFiberByHostInstance||w2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gl.isDisabled&&gl.supportsFiber)try{Dh=gl.inject(C2),Ln=gl}catch{}}Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S2;Ge.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zd(t))throw Error(P(200));return E2(e,t,null,n)};Ge.createRoot=function(e,t){if(!zd(e))throw Error(P(299));var n=!1,i="",r=ky;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Dd(e,1,!1,null,null,n,!1,i,r),e[ii]=t.current,ia(e.nodeType===8?e.parentNode:e),new bd(t)};Ge.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=e_(t),e=e===null?null:e.stateNode,e};Ge.flushSync=function(e){return Rr(e)};Ge.hydrate=function(e,t,n){if(!qh(t))throw Error(P(200));return Kh(null,e,t,!0,n)};Ge.hydrateRoot=function(e,t,n){if(!zd(e))throw Error(P(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=ky;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Oy(t,null,e,1,n??null,r,!1,s,o),e[ii]=t.current,ia(e),i)for(e=0;e<i.length;e++)n=i[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Yh(t)};Ge.render=function(e,t,n){if(!qh(t))throw Error(P(200));return Kh(null,e,t,!1,n)};Ge.unmountComponentAtNode=function(e){if(!qh(e))throw Error(P(40));return e._reactRootContainer?(Rr(function(){Kh(null,null,e,!1,function(){e._reactRootContainer=null,e[ii]=null})}),!0):!1};Ge.unstable_batchedUpdates=Ld;Ge.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!qh(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return Kh(e,t,n,!1,i)};Ge.version="18.3.1-next-f1338f8080-20240426";function Ny(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ny)}catch(e){console.error(e)}}Ny(),Np.exports=Ge;var R2=Np.exports,$0=R2;Mc.createRoot=$0.createRoot,Mc.hydrateRoot=$0.hydrateRoot;const fa={WGS84:{name:"WGS84",EPSG:"EPSG:4326"},"-42":{name:"-42",EPSG:"EPSG:4284"},:{name:"",EPSG:"EPSG:3857"}},Dy=e=>{const[t,n]=ge.useState(fa[e]);return{projection:t,changeProjection:r=>{const s=typeof r=="function"?r(t):r,o=fa[s];o.name!==t.name&&n(o)}}};class li{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const ks={PROPERTYCHANGE:"propertychange"};class Gd{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function T2(e,t,n){let i,r;n=n||Qn;let s=0,o=e.length,a=!1;for(;s<o;)i=s+(o-s>>1),r=+n(e[i],t),r<0?s=i+1:(o=i,a=!r);return a?s:~s}function Qn(e,t){return e>t?1:e<t?-1:0}function Bd(e,t,n){if(e[0]<=t)return 0;const i=e.length;if(t<=e[i-1])return i-1;if(typeof n=="function"){for(let r=1;r<i;++r){const s=e[r];if(s===t)return r;if(s<t)return n(t,e[r-1],s)>0?r-1:r}return i-1}if(n>0){for(let r=1;r<i;++r)if(e[r]<t)return r-1;return i-1}if(n<0){for(let r=1;r<i;++r)if(e[r]<=t)return r;return i-1}for(let r=1;r<i;++r){if(e[r]==t)return r;if(e[r]<t)return e[r-1]-t<t-e[r]?r-1:r}return i-1}function I2(e,t,n){for(;t<n;){const i=e[t];e[t]=e[n],e[n]=i,++t,--n}}function Hh(e,t){const n=Array.isArray(t)?t:[t],i=n.length;for(let r=0;r<i;r++)e[e.length]=n[r]}function Ji(e,t){const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function A2(e,t,n){const i=t||Qn;return e.every(function(r,s){if(s===0)return!0;const o=i(e[s-1],r);return!(o>0||o===0)})}function da(){return!0}function Zh(){return!1}function Ns(){}function Fy(e){let t=!1,n,i,r;return function(){const s=Array.prototype.slice.call(arguments);return(!t||this!==r||!Ji(s,i))&&(t=!0,r=this,i=s,n=e.apply(this,arguments)),n}}function P2(e){function t(){let n;try{n=e()}catch(i){return Promise.reject(i)}return n instanceof Promise?n:Promise.resolve(n)}return t()}function Da(e){for(const t in e)delete e[t]}function Ds(e){let t;for(t in e)return!1;return!t}class Qh extends Gd{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,n){if(!t||!n)return;const i=this.listeners_||(this.listeners_={}),r=i[t]||(i[t]=[]);r.includes(n)||r.push(n)}dispatchEvent(t){const n=typeof t=="string",i=n?t:t.type,r=this.listeners_&&this.listeners_[i];if(!r)return;const s=n?new li(t):t;s.target||(s.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});i in o||(o[i]=0,a[i]=0),++o[i];let l;for(let h=0,u=r.length;h<u;++h)if("handleEvent"in r[h]?l=r[h].handleEvent(s):l=r[h].call(this,s),l===!1||s.propagationStopped){l=!1;break}if(--o[i]===0){let h=a[i];for(delete a[i];h--;)this.removeEventListener(i,Ns);delete o[i]}return l}disposeInternal(){this.listeners_&&Da(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,n){if(!this.listeners_)return;const i=this.listeners_[t];if(!i)return;const r=i.indexOf(n);r!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[r]=Ns,++this.pendingRemovals_[t]):(i.splice(r,1),i.length===0&&delete this.listeners_[t]))}}const Q={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function lt(e,t,n,i,r){if(i&&i!==e&&(n=n.bind(i)),r){const o=n;n=function(){e.removeEventListener(t,n),o.apply(this,arguments)}}const s={target:e,type:t,listener:n};return e.addEventListener(t,n),s}function ph(e,t,n,i){return lt(e,t,n,i,!0)}function Mt(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),Da(e))}class Fa extends Qh{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Q.CHANGE)}getRevision(){return this.revision_}onInternal(t,n){if(Array.isArray(t)){const i=t.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=lt(this,t[s],n);return r}return lt(this,t,n)}onceInternal(t,n){let i;if(Array.isArray(t)){const r=t.length;i=new Array(r);for(let s=0;s<r;++s)i[s]=ph(this,t[s],n)}else i=ph(this,t,n);return n.ol_key=i,i}unInternal(t,n){const i=n.ol_key;if(i)L2(i);else if(Array.isArray(t))for(let r=0,s=t.length;r<s;++r)this.removeEventListener(t[r],n);else this.removeEventListener(t,n)}}Fa.prototype.on;Fa.prototype.once;Fa.prototype.un;function L2(e){if(Array.isArray(e))for(let t=0,n=e.length;t<n;++t)Mt(e[t]);else Mt(e)}function at(){throw new Error("Unimplemented abstract method.")}let O2=0;function gt(e){return e.ol_uid||(e.ol_uid=String(++O2))}class Y0 extends li{constructor(t,n,i){super(t),this.key=n,this.oldValue=i}}class bn extends Fa{constructor(t){super(),this.on,this.once,this.un,gt(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let n;return this.values_&&this.values_.hasOwnProperty(t)&&(n=this.values_[t]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,n){let i;i=`change:${t}`,this.hasListener(i)&&this.dispatchEvent(new Y0(i,t,n)),i=ks.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new Y0(i,t,n))}addChangeListener(t,n){this.addEventListener(`change:${t}`,n)}removeChangeListener(t,n){this.removeEventListener(`change:${t}`,n)}set(t,n,i){const r=this.values_||(this.values_={});if(i)r[t]=n;else{const s=r[t];r[t]=n,s!==n&&this.notify(t,s)}}setProperties(t,n){for(const i in t)this.set(i,t[i],n)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,n){if(this.values_&&t in this.values_){const i=this.values_[t];delete this.values_[t],Ds(this.values_)&&(this.values_=null),n||this.notify(t,i)}}}const Ee={ADD:"add",REMOVE:"remove"},q0={LENGTH:"length"};class ml extends li{constructor(t,n,i){super(t),this.element=n,this.index=i}}class Tn extends bn{constructor(t,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=t||[],this.unique_)for(let i=0,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let n=0,i=t.length;n<i;++n)this.push(t[n]);return this}forEach(t){const n=this.array_;for(let i=0,r=n.length;i<r;++i)t(n[i],i,n)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(q0.LENGTH)}insertAt(t,n){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n),this.array_.splice(t,0,n),this.updateLength_(),this.dispatchEvent(new ml(Ee.ADD,n,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const n=this.getLength();return this.insertAt(n,t),this.getLength()}remove(t){const n=this.array_;for(let i=0,r=n.length;i<r;++i)if(n[i]===t)return this.removeAt(i)}removeAt(t){if(t<0||t>=this.getLength())return;const n=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new ml(Ee.REMOVE,n,t)),n}setAt(t,n){const i=this.getLength();if(t>=i){this.insertAt(t,n);return}if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n,t);const r=this.array_[t];this.array_[t]=n,this.dispatchEvent(new ml(Ee.REMOVE,r,t)),this.dispatchEvent(new ml(Ee.ADD,n,t))}updateLength_(){this.set(q0.LENGTH,this.array_.length)}assertUnique_(t,n){for(let i=0,r=this.array_.length;i<r;++i)if(this.array_[i]===t&&i!==n)throw new Error("Duplicate item added to a unique collection")}}function ot(e,t){if(!e)throw new Error(t)}class os extends bn{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){const n=t;this.setGeometry(n)}else{const n=t;this.setProperties(n)}}clone(){const t=new os(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&t.setGeometry(n.clone());const i=this.getStyle();return i&&t.setStyle(i),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Mt(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=lt(t,Q.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?k2(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function k2(e){if(typeof e=="function")return e;let t;return Array.isArray(e)?t=e:(ot(typeof e.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[e]),function(){return t}}new Array(6);function gn(){return[1,0,0,1,0,0]}function N2(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function qt(e,t){const n=t[0],i=t[1];return t[0]=e[0]*n+e[2]*i+e[4],t[1]=e[1]*n+e[3]*i+e[5],t}function oi(e,t,n,i,r,s,o,a){const l=Math.sin(s),h=Math.cos(s);return e[0]=i*h,e[1]=r*l,e[2]=-i*l,e[3]=r*h,e[4]=o*i*h-a*i*l+t,e[5]=o*r*l+a*r*h+n,e}function by(e,t){const n=D2(t);ot(n!==0,"Transformation matrix cannot be inverted");const i=t[0],r=t[1],s=t[2],o=t[3],a=t[4],l=t[5];return e[0]=o/n,e[1]=-r/n,e[2]=-s/n,e[3]=i/n,e[4]=(s*l-o*a)/n,e[5]=-(i*l-r*a)/n,e}function D2(e){return e[0]*e[3]-e[1]*e[2]}const K0=[1e6,1e6,1e6,1e6,2,2];function F2(e){return"matrix("+e.map((n,i)=>Math.round(n*K0[i])/K0[i]).join(", ")+")"}const jt={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function H0(e){const t=rn();for(let n=0,i=e.length;n<i;++n)jo(t,e[n]);return t}function jd(e,t,n){return n?(n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function zy(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function Ud(e,t,n){let i,r;return t<e[0]?i=e[0]-t:e[2]<t?i=t-e[2]:i=0,n<e[1]?r=e[1]-n:e[3]<n?r=n-e[3]:r=0,i*i+r*r}function Fs(e,t){return Gy(e,t[0],t[1])}function as(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function Gy(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function _f(e,t){const n=e[0],i=e[1],r=e[2],s=e[3],o=t[0],a=t[1];let l=jt.UNKNOWN;return o<n?l=l|jt.LEFT:o>r&&(l=l|jt.RIGHT),a<i?l=l|jt.BELOW:a>s&&(l=l|jt.ABOVE),l===jt.UNKNOWN&&(l=jt.INTERSECTING),l}function rn(){return[1/0,1/0,-1/0,-1/0]}function $i(e,t,n,i,r){return r?(r[0]=e,r[1]=t,r[2]=n,r[3]=i,r):[e,t,n,i]}function Jh(e){return $i(1/0,1/0,-1/0,-1/0,e)}function By(e,t){const n=e[0],i=e[1];return $i(n,i,n,i,t)}function Wd(e,t,n,i,r){const s=Jh(r);return jy(s,e,t,n,i)}function ga(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function b2(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function jo(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function jy(e,t,n,i,r){for(;n<i;n+=r)z2(e,t[n],t[n+1]);return e}function z2(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function Uy(e,t){let n;return n=t(tu(e)),n||(n=t(eu(e)),n)||(n=t(nu(e)),n)||(n=t(kr(e)),n)?n:!1}function yf(e){let t=0;return iu(e)||(t=ht(e)*ae(e)),t}function tu(e){return[e[0],e[1]]}function eu(e){return[e[2],e[1]]}function Tr(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function G2(e,t){let n;if(t==="bottom-left")n=tu(e);else if(t==="bottom-right")n=eu(e);else if(t==="top-left")n=kr(e);else if(t==="top-right")n=nu(e);else throw new Error("Invalid corner");return n}function vf(e,t,n,i,r){const[s,o,a,l,h,u,c,f]=xf(e,t,n,i);return $i(Math.min(s,a,h,c),Math.min(o,l,u,f),Math.max(s,a,h,c),Math.max(o,l,u,f),r)}function xf(e,t,n,i){const r=t*i[0]/2,s=t*i[1]/2,o=Math.cos(n),a=Math.sin(n),l=r*o,h=r*a,u=s*o,c=s*a,f=e[0],g=e[1];return[f-l+c,g-h-u,f-l-c,g-h+u,f+l-c,g+h+u,f+l+c,g+h-u,f-l+c,g-h-u]}function ae(e){return e[3]-e[1]}function Uo(e,t,n){const i=n||rn();return Me(e,t)?(e[0]>t[0]?i[0]=e[0]:i[0]=t[0],e[1]>t[1]?i[1]=e[1]:i[1]=t[1],e[2]<t[2]?i[2]=e[2]:i[2]=t[2],e[3]<t[3]?i[3]=e[3]:i[3]=t[3]):Jh(i),i}function kr(e){return[e[0],e[3]]}function nu(e){return[e[2],e[3]]}function ht(e){return e[2]-e[0]}function Me(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function iu(e){return e[2]<e[0]||e[3]<e[1]}function B2(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function j2(e,t,n){let i=!1;const r=_f(e,t),s=_f(e,n);if(r===jt.INTERSECTING||s===jt.INTERSECTING)i=!0;else{const o=e[0],a=e[1],l=e[2],h=e[3],u=t[0],c=t[1],f=n[0],g=n[1],d=(g-c)/(f-u);let p,v;s&jt.ABOVE&&!(r&jt.ABOVE)&&(p=f-(g-h)/d,i=p>=o&&p<=l),!i&&s&jt.RIGHT&&!(r&jt.RIGHT)&&(v=g-(f-l)*d,i=v>=a&&v<=h),!i&&s&jt.BELOW&&!(r&jt.BELOW)&&(p=f-(g-a)/d,i=p>=o&&p<=l),!i&&s&jt.LEFT&&!(r&jt.LEFT)&&(v=g-(f-o)*d,i=v>=a&&v<=h)}return i}function Wy(e,t){const n=t.getExtent(),i=Tr(e);if(t.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const r=ht(n),o=Math.floor((i[0]-n[0])/r)*r;e[0]-=o,e[2]-=o}return e}function Xy(e,t,n){if(t.canWrapX()){const i=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[i[0],e[1],i[2],e[3]]];Wy(e,t);const r=ht(i);if(ht(e)>r&&!n)return[[i[0],e[1],i[2],e[3]]];if(e[0]<i[0])return[[e[0]+r,e[1],i[2],e[3]],[i[0],e[1],e[2],e[3]]];if(e[2]>i[2])return[[e[0],e[1],i[2],e[3]],[i[0],e[1],e[2]-r,e[3]]]}return[e]}const Xd={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};let Vd=class{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Xd[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}};const ba=6378137,ls=Math.PI*ba,U2=[-ls,-ls,ls,ls],W2=[-180,-85,180,85],pl=ba*Math.log(Math.tan(Math.PI/2));class br extends Vd{constructor(t){super({code:t,units:"m",extent:U2,global:!0,worldExtent:W2,getPointResolution:function(n,i){return n/Math.cosh(i[1]/ba)}})}}const Z0=[new br("EPSG:3857"),new br("EPSG:102100"),new br("EPSG:102113"),new br("EPSG:900913"),new br("http://www.opengis.net/def/crs/EPSG/0/3857"),new br("http://www.opengis.net/gml/srs/epsg.xml#3857")];function X2(e,t,n){const i=e.length;n=n>1?n:2,t===void 0&&(n>2?t=e.slice():t=new Array(i));for(let r=0;r<i;r+=n){t[r]=ls*e[r]/180;let s=ba*Math.log(Math.tan(Math.PI*(+e[r+1]+90)/360));s>pl?s=pl:s<-pl&&(s=-pl),t[r+1]=s}return t}function V2(e,t,n){const i=e.length;n=n>1?n:2,t===void 0&&(n>2?t=e.slice():t=new Array(i));for(let r=0;r<i;r+=n)t[r]=180*e[r]/ls,t[r+1]=360*Math.atan(Math.exp(e[r+1]/ba))/Math.PI-90;return t}const $2=6378137,Q0=[-180,-90,180,90],Y2=Math.PI*$2/180;class sr extends Vd{constructor(t,n){super({code:t,units:"degrees",extent:Q0,axisOrientation:n,global:!0,metersPerUnit:Y2,worldExtent:Q0})}}const J0=[new sr("CRS:84"),new sr("EPSG:4326","neu"),new sr("urn:ogc:def:crs:OGC:1.3:CRS84"),new sr("urn:ogc:def:crs:OGC:2:84"),new sr("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new sr("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new sr("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Ef={};function q2(e){return Ef[e]||Ef[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function K2(e,t){Ef[e]=t}let xs={};function bs(e,t,n){const i=e.getCode(),r=t.getCode();i in xs||(xs[i]={}),xs[i][r]=n}function Vy(e,t){let n;return e in xs&&t in xs[e]&&(n=xs[e][t]),n}function Ot(e,t,n){return Math.min(Math.max(e,t),n)}function H2(e,t,n,i,r,s){const o=r-n,a=s-i;if(o!==0||a!==0){const l=((e-n)*o+(t-i)*a)/(o*o+a*a);l>1?(n=r,i=s):l>0&&(n+=o*l,i+=a*l)}return Es(e,t,n,i)}function Es(e,t,n,i){const r=n-e,s=i-t;return r*r+s*s}function Z2(e){const t=e.length;for(let i=0;i<t;i++){let r=i,s=Math.abs(e[i][i]);for(let a=i+1;a<t;a++){const l=Math.abs(e[a][i]);l>s&&(s=l,r=a)}if(s===0)return null;const o=e[r];e[r]=e[i],e[i]=o;for(let a=i+1;a<t;a++){const l=-e[a][i]/e[i][i];for(let h=i;h<t+1;h++)i==h?e[a][h]=0:e[a][h]+=l*e[i][h]}}const n=new Array(t);for(let i=t-1;i>=0;i--){n[i]=e[i][t]/e[i][i];for(let r=i-1;r>=0;r--)e[r][t]-=e[r][i]*n[i]}return n}function Bl(e){return e*Math.PI/180}function ws(e,t){const n=e%t;return n*t<0?n+t:n}function ke(e,t,n){return e+n*(t-e)}function $d(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}function _l(e,t){return Math.floor($d(e,t))}function yl(e,t){return Math.ceil($d(e,t))}function Q2(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function _h(e,t){let n=!0;for(let i=e.length-1;i>=0;--i)if(e[i]!=t[i]){n=!1;break}return n}function Yd(e,t){const n=Math.cos(t),i=Math.sin(t),r=e[0]*n-e[1]*i,s=e[1]*n+e[0]*i;return e[0]=r,e[1]=s,e}function J2(e,t){return e[0]*=t,e[1]*=t,e}function $y(e,t){if(t.canWrapX()){const n=ht(t.getExtent()),i=Yy(e,t,n);i&&(e[0]-=i*n)}return e}function Yy(e,t,n){const i=t.getExtent();let r=0;return t.canWrapX()&&(e[0]<i[0]||e[0]>i[2])&&(n=n||ht(i),r=Math.floor((e[0]-i[0])/n)),r}const tw=63710088e-1;function tm(e,t,n){n=n||tw;const i=Bl(e[1]),r=Bl(t[1]),s=(r-i)/2,o=Bl(t[0]-e[0])/2,a=Math.sin(s)*Math.sin(s)+Math.sin(o)*Math.sin(o)*Math.cos(i)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function qy(...e){console.warn(...e)}let wf=!0;function ew(e){wf=!1}function qd(e,t){if(t!==void 0){for(let n=0,i=e.length;n<i;++n)t[n]=e[n];t=t}else t=e.slice();return t}function Ky(e,t){if(t!==void 0&&e!==t){for(let n=0,i=e.length;n<i;++n)t[n]=e[n];e=t}return e}function Hy(e){K2(e.getCode(),e),bs(e,e,qd)}function nw(e){e.forEach(Hy)}function Zt(e){return typeof e=="string"?q2(e):e||null}function em(e,t,n,i){e=Zt(e);let r;const s=e.getPointResolutionFunc();if(s)r=s(t,n);else{const o=e.getUnits();if(o=="degrees"&&!i||i=="degrees")r=t;else{const a=Hd(e,Zt("EPSG:4326"));if(a===Ky&&o!=="degrees")r=t*e.getMetersPerUnit();else{let h=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];h=a(h,h,2);const u=tm(h.slice(0,2),h.slice(2,4)),c=tm(h.slice(4,6),h.slice(6,8));r=(u+c)/2}const l=e.getMetersPerUnit();l!==void 0&&(r/=l)}}return r}function Mf(e){nw(e),e.forEach(function(t){e.forEach(function(n){t!==n&&bs(t,n,qd)})})}function iw(e,t,n,i){e.forEach(function(r){t.forEach(function(s){bs(r,s,n),bs(s,r,i)})})}function Kd(e,t){return e?typeof e=="string"?Zt(e):e:Zt(t)}function nm(e){return function(t,n,i){const r=t.length;i=i!==void 0?i:2,n=n!==void 0?n:new Array(r);for(let s=0;s<r;s+=i){const o=e(t.slice(s,s+i)),a=o.length;for(let l=0,h=i;l<h;++l)n[s+l]=l>=a?t[s+l]:o[l]}return n}}function rw(e,t,n,i){const r=Zt(e),s=Zt(t);bs(r,s,nm(n)),bs(s,r,nm(i))}function Ur(e,t){if(e===t)return!0;const n=e.getUnits()===t.getUnits();return(e.getCode()===t.getCode()||Hd(e,t)===qd)&&n}function Hd(e,t){const n=e.getCode(),i=t.getCode();let r=Vy(n,i);return r||(r=Ky),r}function zs(e,t){const n=Zt(e),i=Zt(t);return Hd(n,i)}function Ai(e,t,n){return zs(t,n)(e,void 0,e.length)}function Sf(e,t){return e}function Xn(e,t){return wf&&!_h(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(wf=!1,qy("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e}function Zy(e,t){return e}function dr(e,t){return e}function im(e,t,n){return function(i){let r,s;if(e.canWrapX()){const o=e.getExtent(),a=ht(o);i=i.slice(0),s=Yy(i,e,a),s&&(i[0]=i[0]-s*a),i[0]=Ot(i[0],o[0],o[2]),i[1]=Ot(i[1],o[1],o[3]),r=n(i)}else r=n(i);return s&&t.canWrapX()&&(r[0]+=s*ht(t.getExtent())),r}}function sw(){Mf(Z0),Mf(J0),iw(J0,Z0,X2,V2)}sw();function Ui(e,t,n,i,r,s){s=s||[];let o=0;for(let a=t;a<n;a+=i){const l=e[a],h=e[a+1];s[o++]=r[0]*l+r[2]*h+r[4],s[o++]=r[1]*l+r[3]*h+r[5]}return s&&s.length!=o&&(s.length=o),s}function Qy(e,t,n,i,r,s,o){o=o||[];const a=Math.cos(r),l=Math.sin(r),h=s[0],u=s[1];let c=0;for(let f=t;f<n;f+=i){const g=e[f]-h,d=e[f+1]-u;o[c++]=h+g*a-d*l,o[c++]=u+g*l+d*a;for(let p=f+2;p<f+i;++p)o[c++]=e[p]}return o&&o.length!=c&&(o.length=c),o}function ow(e,t,n,i,r,s,o,a){a=a||[];const l=o[0],h=o[1];let u=0;for(let c=t;c<n;c+=i){const f=e[c]-l,g=e[c+1]-h;a[u++]=l+r*f,a[u++]=h+s*g;for(let d=c+2;d<c+i;++d)a[u++]=e[d]}return a&&a.length!=u&&(a.length=u),a}function aw(e,t,n,i,r,s,o){o=o||[];let a=0;for(let l=t;l<n;l+=i){o[a++]=e[l]+r,o[a++]=e[l+1]+s;for(let h=l+2;h<l+i;++h)o[a++]=e[h]}return o&&o.length!=a&&(o.length=a),o}const rm=gn();class lw extends bn{constructor(){super(),this.extent_=rn(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=Fy((t,n,i)=>{if(!i)return this.getSimplifiedGeometry(n);const r=this.clone();return r.applyTransform(i),r.getSimplifiedGeometry(n)})}simplifyTransformed(t,n){return this.simplifyTransformedInternal(this.getRevision(),t,n)}clone(){return at()}closestPointXY(t,n,i,r){return at()}containsXY(t,n){const i=this.getClosestPoint([t,n]);return i[0]===t&&i[1]===n}getClosestPoint(t,n){return n=n||[NaN,NaN],this.closestPointXY(t[0],t[1],n,1/0),n}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return at()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&Jh(n),this.extentRevision_=this.getRevision()}return B2(this.extent_,t)}rotate(t,n){at()}scale(t,n,i){at()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return at()}getType(){return at()}applyTransform(t){at()}intersectsExtent(t){return at()}translate(t,n){at()}transform(t,n){const i=Zt(t),r=i.getUnits()=="tile-pixels"?function(s,o,a){const l=i.getExtent(),h=i.getWorldExtent(),u=ae(h)/ae(l);return oi(rm,h[0],h[3],u,-u,0,0,0),Ui(s,0,s.length,a,rm,o),zs(i,n)(s,o,a)}:zs(i,n);return this.applyTransform(r),this}}class ru extends lw{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return Wd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return at()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,n){this.stride=sm(t),this.layout=t,this.flatCoordinates=n}setCoordinates(t,n){at()}setLayout(t,n,i){let r;if(t)r=sm(t);else{for(let s=0;s<i;++s){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}r=n.length,t=hw(r)}this.layout=t,this.stride=r}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(t,n){const i=this.getFlatCoordinates();if(i){const r=this.getStride();Qy(i,0,i.length,r,t,n,i),this.changed()}}scale(t,n,i){n===void 0&&(n=t),i||(i=Tr(this.getExtent()));const r=this.getFlatCoordinates();if(r){const s=this.getStride();ow(r,0,r.length,s,t,n,i,r),this.changed()}}translate(t,n){const i=this.getFlatCoordinates();if(i){const r=this.getStride();aw(i,0,i.length,r,t,n,i),this.changed()}}}function hw(e){let t;return e==2?t="XY":e==3?t="XYZ":e==4&&(t="XYZM"),t}function sm(e){let t;return e=="XY"?t=2:e=="XYZ"||e=="XYM"?t=3:e=="XYZM"&&(t=4),t}function uw(e,t,n){const i=e.getFlatCoordinates();if(!i)return null;const r=e.getStride();return Ui(i,0,i.length,r,t,n)}function om(e,t,n,i,r,s,o){const a=e[t],l=e[t+1],h=e[n]-a,u=e[n+1]-l;let c;if(h===0&&u===0)c=t;else{const f=((r-a)*h+(s-l)*u)/(h*h+u*u);if(f>1)c=n;else if(f>0){for(let g=0;g<i;++g)o[g]=ke(e[t+g],e[n+g],f);o.length=i;return}else c=t}for(let f=0;f<i;++f)o[f]=e[c+f];o.length=i}function Zd(e,t,n,i,r){let s=e[t],o=e[t+1];for(t+=i;t<n;t+=i){const a=e[t],l=e[t+1],h=Es(s,o,a,l);h>r&&(r=h),s=a,o=l}return r}function cw(e,t,n,i,r){for(let s=0,o=n.length;s<o;++s){const a=n[s];r=Zd(e,t,a,i,r),t=a}return r}function Qd(e,t,n,i,r,s,o,a,l,h,u){if(t==n)return h;let c,f;if(r===0){if(f=Es(o,a,e[t],e[t+1]),f<h){for(c=0;c<i;++c)l[c]=e[t+c];return l.length=i,f}return h}u=u||[NaN,NaN];let g=t+i;for(;g<n;)if(om(e,g-i,g,i,o,a,u),f=Es(o,a,u[0],u[1]),f<h){for(h=f,c=0;c<i;++c)l[c]=u[c];l.length=i,g+=i}else g+=i*Math.max((Math.sqrt(f)-Math.sqrt(h))/r|0,1);if(s&&(om(e,n-i,t,i,o,a,u),f=Es(o,a,u[0],u[1]),f<h)){for(h=f,c=0;c<i;++c)l[c]=u[c];l.length=i}return h}function fw(e,t,n,i,r,s,o,a,l,h,u){u=u||[NaN,NaN];for(let c=0,f=n.length;c<f;++c){const g=n[c];h=Qd(e,t,g,i,r,s,o,a,l,h,u),t=g}return h}function dw(e,t,n,i){for(let r=0,s=n.length;r<s;++r)e[t++]=n[r];return t}function Jd(e,t,n,i){for(let r=0,s=n.length;r<s;++r){const o=n[r];for(let a=0;a<i;++a)e[t++]=o[a]}return t}function gw(e,t,n,i,r){r=r||[];let s=0;for(let o=0,a=n.length;o<a;++o){const l=Jd(e,t,n[o],i);r[s++]=l,t=l}return r.length=s,r}function su(e,t,n,i,r,s,o){const a=(n-t)/i;if(a<3){for(;t<n;t+=i)s[o++]=e[t],s[o++]=e[t+1];return o}const l=new Array(a);l[0]=1,l[a-1]=1;const h=[t,n-i];let u=0;for(;h.length>0;){const c=h.pop(),f=h.pop();let g=0;const d=e[f],p=e[f+1],v=e[c],_=e[c+1];for(let m=f+i;m<c;m+=i){const y=e[m],x=e[m+1],E=H2(y,x,d,p,v,_);E>g&&(u=m,g=E)}g>r&&(l[(u-t)/i]=1,f+i<u&&h.push(f,u),u+i<c&&h.push(u,c))}for(let c=0;c<a;++c)l[c]&&(s[o++]=e[t+c*i],s[o++]=e[t+c*i+1]);return o}function mw(e,t,n,i,r,s,o,a){for(let l=0,h=n.length;l<h;++l){const u=n[l];o=su(e,t,u,i,r,s,o),a.push(o),t=u}return o}function hr(e,t){return t*Math.round(e/t)}function pw(e,t,n,i,r,s,o){if(t==n)return o;let a=hr(e[t],r),l=hr(e[t+1],r);t+=i,s[o++]=a,s[o++]=l;let h,u;do if(h=hr(e[t],r),u=hr(e[t+1],r),t+=i,t==n)return s[o++]=h,s[o++]=u,o;while(h==a&&u==l);for(;t<n;){const c=hr(e[t],r),f=hr(e[t+1],r);if(t+=i,c==h&&f==u)continue;const g=h-a,d=u-l,p=c-a,v=f-l;if(g*v==d*p&&(g<0&&p<g||g==p||g>0&&p>g)&&(d<0&&v<d||d==v||d>0&&v>d)){h=c,u=f;continue}s[o++]=h,s[o++]=u,a=h,l=u,h=c,u=f}return s[o++]=h,s[o++]=u,o}function Jy(e,t,n,i,r,s,o,a){for(let l=0,h=n.length;l<h;++l){const u=n[l];o=pw(e,t,u,i,r,s,o),a.push(o),t=u}return o}function gr(e,t,n,i,r){r=r!==void 0?r:[];let s=0;for(let o=t;o<n;o+=i)r[s++]=e.slice(o,o+i);return r.length=s,r}function yh(e,t,n,i,r){r=r!==void 0?r:[];let s=0;for(let o=0,a=n.length;o<a;++o){const l=n[o];r[s++]=gr(e,t,l,i,r[s]),t=l}return r.length=s,r}function am(e,t,n,i,r){r=r!==void 0?r:[];let s=0;for(let o=0,a=n.length;o<a;++o){const l=n[o];r[s++]=l.length===1&&l[0]===t?[]:yh(e,t,l,i,r[s]),t=l[l.length-1]}return r.length=s,r}function t1(e,t,n,i){let r=0,s=e[n-i],o=e[n-i+1];for(;t<n;t+=i){const a=e[t],l=e[t+1];r+=o*a-s*l,s=a,o=l}return r/2}function _w(e,t,n,i){let r=0;for(let s=0,o=n.length;s<o;++s){const a=n[s];r+=t1(e,t,a,i),t=a}return r}class ma extends ru{constructor(t,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}clone(){return new ma(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,n,i,r){return r<Ud(this.getExtent(),t,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Zd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Qd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,n,i,r))}getArea(){return t1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return gr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const n=[];return n.length=su(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new ma(n,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Jd(this.flatCoordinates,0,t,this.stride),this.changed()}}let e1=class n1 extends ru{constructor(t,n){super(),this.setCoordinates(t,n)}clone(){const t=new n1(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,i,r){const s=this.flatCoordinates,o=Es(t,n,s[0],s[1]);if(o<r){const a=this.stride;for(let l=0;l<a;++l)i[l]=s[l];return i.length=a,o}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return By(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return Gy(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=dw(this.flatCoordinates,0,t,this.stride),this.changed()}};function yw(e,t,n,i,r){return!Uy(r,function(o){return!mr(e,t,n,i,o[0],o[1])})}function mr(e,t,n,i,r,s){let o=0,a=e[n-i],l=e[n-i+1];for(;t<n;t+=i){const h=e[t],u=e[t+1];l<=s?u>s&&(h-a)*(s-l)-(r-a)*(u-l)>0&&o++:u<=s&&(h-a)*(s-l)-(r-a)*(u-l)<0&&o--,a=h,l=u}return o!==0}function i1(e,t,n,i,r,s){if(n.length===0||!mr(e,t,n[0],i,r,s))return!1;for(let o=1,a=n.length;o<a;++o)if(mr(e,n[o-1],n[o],i,r,s))return!1;return!0}function tg(e,t,n,i,r,s,o){let a,l,h,u,c,f,g;const d=r[s+1],p=[];for(let m=0,y=n.length;m<y;++m){const x=n[m];for(u=e[x-i],f=e[x-i+1],a=t;a<x;a+=i)c=e[a],g=e[a+1],(d<=f&&g<=d||f<=d&&d<=g)&&(h=(d-f)/(g-f)*(c-u)+u,p.push(h)),u=c,f=g}let v=NaN,_=-1/0;for(p.sort(Qn),u=p[0],a=1,l=p.length;a<l;++a){c=p[a];const m=Math.abs(c-u);m>_&&(h=(u+c)/2,i1(e,t,n,i,h,d)&&(v=h,_=m)),u=c}return isNaN(v)&&(v=r[s]),o?(o.push(v,d,_),o):[v,d,_]}function vw(e,t,n,i,r){let s=[];for(let o=0,a=n.length;o<a;++o){const l=n[o];s=tg(e,t,l,i,r,2*o,s),t=l[l.length-1]}return s}function r1(e,t,n,i,r){let s;for(t+=i;t<n;t+=i)if(s=r(e.slice(t-i,t),e.slice(t,t+i)),s)return s;return!1}function eg(e,t,n,i,r){const s=jy(rn(),e,t,n,i);return Me(r,s)?as(r,s)||s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3]?!0:r1(e,t,n,i,function(o,a){return j2(r,o,a)}):!1}function s1(e,t,n,i,r){return!!(eg(e,t,n,i,r)||mr(e,t,n,i,r[0],r[1])||mr(e,t,n,i,r[0],r[3])||mr(e,t,n,i,r[2],r[1])||mr(e,t,n,i,r[2],r[3]))}function xw(e,t,n,i,r){if(!s1(e,t,n[0],i,r))return!1;if(n.length===1)return!0;for(let s=1,o=n.length;s<o;++s)if(yw(e,n[s-1],n[s],i,r)&&!eg(e,n[s-1],n[s],i,r))return!1;return!0}function Ew(e,t,n,i){for(;t<n-i;){for(let r=0;r<i;++r){const s=e[t+r];e[t+r]=e[n-i+r],e[n-i+r]=s}t+=i,n-=i}}function ng(e,t,n,i){let r=0,s=e[n-i],o=e[n-i+1];for(;t<n;t+=i){const a=e[t],l=e[t+1];r+=(a-s)*(l+o),s=a,o=l}return r===0?void 0:r>0}function ww(e,t,n,i,r){r=r!==void 0?r:!1;for(let s=0,o=n.length;s<o;++s){const a=n[s],l=ng(e,t,a,i);if(s===0){if(r&&l||!r&&!l)return!1}else if(r&&!l||!r&&l)return!1;t=a}return!0}function lm(e,t,n,i,r){r=r!==void 0?r:!1;for(let s=0,o=n.length;s<o;++s){const a=n[s],l=ng(e,t,a,i);(s===0?r&&l||!r&&!l:r&&!l||!r&&l)&&Ew(e,t,a,i),t=a}return t}function Mw(e,t){const n=[];let i=0,r=0,s;for(let o=0,a=t.length;o<a;++o){const l=t[o],h=ng(e,i,l,2);if(s===void 0&&(s=h),h===s)n.push(t.slice(r,o+1));else{if(n.length===0)continue;n[n.length-1].push(t[r])}r=o+1,i=l}return n}class pa extends ru{constructor(t,n,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&i?(this.setFlatCoordinates(n,t),this.ends_=i):this.setCoordinates(t,n)}appendLinearRing(t){this.flatCoordinates?Hh(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new pa(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,n,i,r){return r<Ud(this.getExtent(),t,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(cw(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),fw(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,n,i,r))}containsXY(t,n){return i1(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,n)}getArea(){return _w(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),lm(n,0,this.ends_,this.stride,t)):n=this.flatCoordinates,yh(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=Tr(this.getExtent());this.flatInteriorPoint_=tg(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new e1(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new ma(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,n=this.flatCoordinates,i=this.ends_,r=[];let s=0;for(let o=0,a=i.length;o<a;++o){const l=i[o],h=new ma(n.slice(s,l),t);r.push(h),s=l}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;ww(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=lm(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const n=[],i=[];return n.length=Jy(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new pa(n,"XY",i)}getType(){return"Polygon"}intersectsExtent(t){return xw(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=gw(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}function hm(e){if(iu(e))throw new Error("Cannot create polygon from empty extent");const t=e[0],n=e[1],i=e[2],r=e[3],s=[t,n,t,r,i,r,i,n,t,n];return new pa(s,"XY",[s.length])}const Qe={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},et={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},_a={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var Kt={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};Kt.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}};Kt.max=Kt.whitepoint[2].D65;Kt.rgb=function(e,t){t=t||Kt.whitepoint[2].E;var n=e[0]/t[0],i=e[1]/t[1],r=e[2]/t[2],s,o,a;return s=n*3.240969941904521+i*-1.537383177570093+r*-.498610760293,o=n*-.96924363628087+i*1.87596750150772+r*.041555057407175,a=n*.055630079696993+i*-.20397695888897+r*1.056971514242878,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s=s*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),a=Math.min(Math.max(0,a),1),[s*255,o*255,a*255]};_a.xyz=function(e,t){var n=e[0]/255,i=e[1]/255,r=e[2]/255;n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var s=n*.41239079926595+i*.35758433938387+r*.18048078840183,o=n*.21263900587151+i*.71516867876775+r*.072192315360733,a=n*.019330818715591+i*.11919477979462+r*.95053215224966;return t=t||Kt.whitepoint[2].E,[s*t[0],o*t[1],a*t[2]]};const ig={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(e,t,n){var i,r,s,o,a,l,h,u,c,f,g,d,p;if(s=e[0],o=e[1],a=e[2],s===0)return[0,0,0];var v=.0011070564598794539;return t=t||"D65",n=n||2,c=Kt.whitepoint[n][t][0],f=Kt.whitepoint[n][t][1],g=Kt.whitepoint[n][t][2],d=4*c/(c+15*f+3*g),p=9*f/(c+15*f+3*g),i=o/(13*s)+d||0,r=a/(13*s)+p||0,h=s>8?f*Math.pow((s+16)/116,3):f*s*v,l=h*9*i/(4*r)||0,u=h*(12-3*i-20*r)/(4*r)||0,[l,h,u]}};Kt.luv=function(e,t,n){var i,r,s,o,a,l,h,u,c,f,g,d,p,v=.008856451679035631,_=903.2962962962961;t=t||"D65",n=n||2,c=Kt.whitepoint[n][t][0],f=Kt.whitepoint[n][t][1],g=Kt.whitepoint[n][t][2],d=4*c/(c+15*f+3*g),p=9*f/(c+15*f+3*g),l=e[0],h=e[1],u=e[2],i=4*l/(l+15*h+3*u)||0,r=9*h/(l+15*h+3*u)||0;var m=h/f;return s=m<=v?_*m:116*Math.pow(m,1/3)-16,o=13*s*(i-d),a=13*s*(r-p),[s,o,a]};var o1={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(e){var t=e[0],n=e[1],i=e[2],r,s,o;return o=i/360*2*Math.PI,r=n*Math.cos(o),s=n*Math.sin(o),[t,r,s]},xyz:function(e){return ig.xyz(o1.luv(e))}};ig.lchuv=function(e){var t=e[0],n=e[1],i=e[2],r=Math.sqrt(n*n+i*i),s=Math.atan2(i,n),o=s*360/2/Math.PI;return o<0&&(o+=360),[t,r,o]};Kt.lchuv=function(e){return ig.lchuv(Kt.luv(e))};const um={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var cm={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function Sw(e){var u,c;var t,n=[],i=1,r;if(typeof e=="number")return{space:"rgb",values:[e>>>16,(e&65280)>>>8,e&255],alpha:1};if(typeof e=="number")return{space:"rgb",values:[e>>>16,(e&65280)>>>8,e&255],alpha:1};if(e=String(e).toLowerCase(),um[e])n=um[e].slice(),r="rgb";else if(e==="transparent")i=0,r="rgb",n=[0,0,0];else if(e[0]==="#"){var s=e.slice(1),o=s.length,a=o<=4;i=1,a?(n=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],o===4&&(i=parseInt(s[3]+s[3],16)/255)):(n=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],o===8&&(i=parseInt(s[6]+s[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),r="rgb"}else if(t=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(e)){var l=t[1];r=l.replace(/a$/,"");var h=r==="cmyk"?4:r==="gray"?1:3;n=t[2].trim().split(/\s*[,\/]\s*|\s+/),r==="color"&&(r=n.shift()),n=n.map(function(f,g){if(f[f.length-1]==="%")return f=parseFloat(f)/100,g===3?f:r==="rgb"?f*255:r[0]==="h"||r[0]==="l"&&!g?f*100:r==="lab"?f*125:r==="lch"?g<2?f*150:f*360:r[0]==="o"&&!g?f:r==="oklab"?f*.4:r==="oklch"?g<2?f*.4:f*360:f;if(r[g]==="h"||g===2&&r[r.length-1]==="h"){if(cm[f]!==void 0)return cm[f];if(f.endsWith("deg"))return parseFloat(f);if(f.endsWith("turn"))return parseFloat(f)*360;if(f.endsWith("grad"))return parseFloat(f)*360/400;if(f.endsWith("rad"))return parseFloat(f)*180/Math.PI}return f==="none"?0:parseFloat(f)}),i=n.length>h?n.pop():1}else/[0-9](?:\s|\/|,)/.test(e)&&(n=e.match(/([0-9]+)/g).map(function(f){return parseFloat(f)}),r=((c=(u=e.match(/([a-z])/ig))==null?void 0:u.join(""))==null?void 0:c.toLowerCase())||"rgb");return{space:r,values:n,alpha:i}}const ec={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(e){var t=e[0]/360,n=e[1]/100,i=e[2]/100,r,s,o,a,l,h=0;if(n===0)return l=i*255,[l,l,l];for(s=i<.5?i*(1+n):i+n-i*n,r=2*i-s,a=[0,0,0];h<3;)o=t+1/3*-(h-1),o<0?o++:o>1&&o--,l=6*o<1?r+(s-r)*6*o:2*o<1?s:3*o<2?r+(s-r)*(2/3-o)*6:r,a[h++]=l*255;return a}};_a.hsl=function(e){var t=e[0]/255,n=e[1]/255,i=e[2]/255,r=Math.min(t,n,i),s=Math.max(t,n,i),o=s-r,a,l,h;return s===r?a=0:t===s?a=(n-i)/o:n===s?a=2+(i-t)/o:i===s&&(a=4+(t-n)/o),a=Math.min(a*60,360),a<0&&(a+=360),h=(r+s)/2,s===r?l=0:h<=.5?l=o/(s+r):l=o/(2-s-r),[a,l*100,h*100]};function Cw(e){Array.isArray(e)&&e.raw&&(e=String.raw(...arguments)),e instanceof Number&&(e=+e);var t,n=Sw(e);if(!n.space)return[];const i=n.space[0]==="h"?ec.min:_a.min,r=n.space[0]==="h"?ec.max:_a.max;return t=Array(3),t[0]=Math.min(Math.max(n.values[0],i[0]),r[0]),t[1]=Math.min(Math.max(n.values[1],i[1]),r[1]),t[2]=Math.min(Math.max(n.values[2],i[2]),r[2]),n.space[0]==="h"&&(t=ec.rgb(t)),t.push(Math.min(Math.max(n.alpha,0),1)),t}function Rw(e){return typeof e=="string"?e:sg(e)}const Tw=1024,mo={};let nc=0;function Iw(e){if(e.length===4)return e;const t=e.slice();return t[3]=1,t}function fm(e){const t=Kt.lchuv(_a.xyz(e));return t[3]=e[3],t}function Aw(e){const t=Kt.rgb(o1.xyz(e));return t[3]=e[3],t}function rg(e){if(mo.hasOwnProperty(e))return mo[e];if(nc>=Tw){let n=0;for(const i in mo)n++&3||(delete mo[i],--nc)}const t=Cw(e);if(t.length!==4)throw new Error('Failed to parse "'+e+'" as color');for(const n of t)if(isNaN(n))throw new Error('Failed to parse "'+e+'" as color');return a1(t),mo[e]=t,++nc,t}function ya(e){return Array.isArray(e)?e:rg(e)}function a1(e){return e[0]=Ot(e[0]+.5|0,0,255),e[1]=Ot(e[1]+.5|0,0,255),e[2]=Ot(e[2]+.5|0,0,255),e[3]=Ot(e[3],0,1),e}function sg(e){let t=e[0];t!=(t|0)&&(t=t+.5|0);let n=e[1];n!=(n|0)&&(n=n+.5|0);let i=e[2];i!=(i|0)&&(i=i+.5|0);const r=e[3]===void 0?1:Math.round(e[3]*1e3)/1e3;return"rgba("+t+","+n+","+i+","+r+")"}function Pw(e){try{return rg(e),!0}catch{return!1}}const Yi=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",Lw=Yi.includes("firefox"),Ow=Yi.includes("safari")&&!Yi.includes("chrom");Ow&&(Yi.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Yi));const kw=Yi.includes("webkit")&&!Yi.includes("edge"),l1=Yi.includes("macintosh"),h1=typeof devicePixelRatio<"u"?devicePixelRatio:1,u1=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,c1=typeof Image<"u"&&Image.prototype.decode,f1=function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return e}();function Jt(e,t,n,i){let r;return n&&n.length?r=n.shift():u1?r=new OffscreenCanvas(e||300,t||300):r=document.createElement("canvas"),e&&(r.width=e),t&&(r.height=t),r.getContext("2d",i)}let ic;function vh(){return ic||(ic=Jt(1,1)),ic}function ou(e){const t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function dm(e,t){const n=t.parentNode;n&&n.replaceChild(e,t)}function Cf(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function Nw(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function Dw(e,t){const n=e.childNodes;for(let i=0;;++i){const r=n[i],s=t[i];if(!r&&!s)break;if(r!==s){if(!r){e.appendChild(s);continue}if(!s){e.removeChild(r),--i;continue}e.insertBefore(s,r)}}}function Fw(e,t,n){const i=e;let r=!0,s=!1,o=!1;const a=[ph(i,Q.LOAD,function(){o=!0,s||t()})];return i.src&&c1?(s=!0,i.decode().then(function(){r&&t()}).catch(function(l){r&&(o?t():n())})):a.push(ph(i,Q.ERROR,n)),function(){r=!1,a.forEach(Mt)}}function bw(e,t){return new Promise((n,i)=>{function r(){o(),n(e)}function s(){o(),i(new Error("Image load error"))}function o(){e.removeEventListener("load",r),e.removeEventListener("error",s)}e.addEventListener("load",r),e.addEventListener("error",s)})}function zw(e,t){return t&&(e.src=t),e.src&&c1?new Promise((n,i)=>e.decode().then(()=>n(e)).catch(r=>e.complete&&e.width?n(e):i(r))):bw(e)}class Gw{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const n in this.cache_){const i=this.cache_[n];!(t++&3)&&!i.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(t,n,i){const r=rc(t,n,i);return r in this.cache_?this.cache_[r]:null}getPattern(t,n,i){const r=rc(t,n,i);return r in this.patternCache_?this.patternCache_[r]:null}set(t,n,i,r,s){const o=rc(t,n,i),a=o in this.cache_;this.cache_[o]=r,s&&(r.getImageState()===et.IDLE&&r.load(),r.getImageState()===et.LOADING?r.ready().then(()=>{this.patternCache_[o]=vh().createPattern(r.getImage(1),"repeat")}):this.patternCache_[o]=vh().createPattern(r.getImage(1),"repeat")),a||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}function rc(e,t,n){const i=n?ya(n):"null";return t+":"+e+":"+i}const In=new Gw;let po=null;class Bw extends Qh{constructor(t,n,i,r,s){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=i,this.canvas_={},this.color_=s,this.imageState_=r===void 0?et.IDLE:r,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===et.LOADED){po||(po=Jt(1,1,void 0,{willReadFrequently:!0})),po.drawImage(this.image_,0,0);try{po.getImageData(0,0,1,1),this.tainted_=!1}catch{po=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(Q.CHANGE)}handleImageError_(){this.imageState_=et.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=et.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],n=this.size_[1],i=Jt(t,n);i.fillRect(0,0,t,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===et.IDLE){this.image_||this.initializeImage_(),this.imageState_=et.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&zw(this.image_,this.src_).then(t=>{this.image_=t,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==et.LOADED)return;const n=this.image_,i=document.createElement("canvas");i.width=Math.ceil(n.width*t),i.height=Math.ceil(n.height*t);const r=i.getContext("2d");r.scale(t,t),r.drawImage(n,0,0),r.globalCompositeOperation="multiply",r.fillStyle=Rw(this.color_),r.fillRect(0,0,i.width/t,i.height/t),r.globalCompositeOperation="destination-in",r.drawImage(n,0,0),this.canvas_[t]=i}ready(){return this.ready_||(this.ready_=new Promise(t=>{this.imageState_===et.LOADED||this.imageState_===et.ERROR?t():this.addEventListener(Q.CHANGE,function n(){(this.imageState_===et.LOADED||this.imageState_===et.ERROR)&&(this.removeEventListener(Q.CHANGE,n),t())})})),this.ready_}}function og(e,t,n,i,r,s){let o=t===void 0?void 0:In.get(t,n,r);return o||(o=new Bw(e,e&&"src"in e?e.src||void 0:t,n,i,r),In.set(t,n,r,o,s)),s&&o&&!In.getPattern(t,n,r)&&In.set(t,n,r,o,s),o}class Ys{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,t.color!==void 0&&this.setColor(t.color)}clone(){const t=this.getColor();return new Ys({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(t!==null&&typeof t=="object"&&"src"in t){const n=og(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===et.IDLE&&n.load(),n.getImageState()===et.LOADING&&(this.patternImage_=n)}this.color_=t}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}function Rf(e,t,n,i,r,s,o){let a,l;const h=(n-t)/i;if(h===1)a=t;else if(h===2)a=t,l=r;else if(h!==0){let u=e[t],c=e[t+1],f=0;const g=[0];for(let v=t+i;v<n;v+=i){const _=e[v],m=e[v+1];f+=Math.sqrt((_-u)*(_-u)+(m-c)*(m-c)),g.push(f),u=_,c=m}const d=r*f,p=T2(g,d);p<0?(l=(d-g[-p-2])/(g[-p-1]-g[-p-2]),a=t+(-p-2)*i):a=t+p*i}o=o>1?o:2,s=s||new Array(o);for(let u=0;u<o;++u)s[u]=a===void 0?NaN:l===void 0?e[a+u]:ke(e[a+u],e[a+i+u],l);return s}function jw(e,t,n,i,r,s){if(n==t)return null;let o;if(r<e[t+i-1])return s?(o=e.slice(t,t+i),o[i-1]=r,o):null;if(e[n-1]<r)return s?(o=e.slice(n-i,n),o[i-1]=r,o):null;if(r==e[t+i-1])return e.slice(t,t+i);let a=t/i,l=n/i;for(;a<l;){const f=a+l>>1;r<e[(f+1)*i-1]?l=f:a=f+1}const h=e[a*i-1];if(r==h)return e.slice((a-1)*i,(a-1)*i+i);const u=e[(a+1)*i-1],c=(r-h)/(u-h);o=[];for(let f=0;f<i-1;++f)o.push(ke(e[(a-1)*i+f],e[a*i+f],c));return o.push(r),o}function d1(e,t,n,i){let r=e[t],s=e[t+1],o=0;for(let a=t+i;a<n;a+=i){const l=e[a],h=e[a+1];o+=Math.sqrt((l-r)*(l-r)+(h-s)*(h-s)),r=l,s=h}return o}class pr extends ru{constructor(t,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}appendCoordinate(t){Hh(this.flatCoordinates,t),this.changed()}clone(){const t=new pr(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,i,r){return r<Ud(this.getExtent(),t,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Zd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Qd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,n,i,r))}forEachSegment(t){return r1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinateAtM(t,n){return this.layout!="XYM"&&this.layout!="XYZM"?null:(n=n!==void 0?n:!1,jw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n))}getCoordinates(){return gr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(t,n){return Rf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,this.stride)}getLength(){return d1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(t){const n=[];return n.length=su(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new pr(n,"XY")}getType(){return"LineString"}intersectsExtent(t){return eg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Jd(this.flatCoordinates,0,t,this.stride),this.changed()}}class Gs{constructor(t){t=t||{},this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new Gs({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}function gm(e){return e[0]>0&&e[1]>0}function Uw(e,t,n){return n===void 0&&(n=[0,0]),n[0]=e[0]*t+.5|0,n[1]=e[1]*t+.5|0,n}function Fe(e,t){return Array.isArray(e)?e:(t===void 0?t=[e,e]:(t[0]=e,t[1]=e),t)}class au{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Fe(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new au({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return at()}getImage(t){return at()}getHitDetectionImage(){return at()}getPixelRatio(t){return 1}getImageState(){return at()}getImageSize(){return at()}getOrigin(){return at()}getSize(){return at()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=Fe(t)}listenImageChange(t){at()}load(){at()}unlistenImageChange(t){at()}ready(){return Promise.resolve()}}function An(e){return e?Array.isArray(e)?sg(e):typeof e=="object"&&"src"in e?Ww(e):e:null}function Ww(e){if(!e.offset||!e.size)return In.getPattern(e.src,"anonymous",e.color);const t=e.src+":"+e.offset,n=In.getPattern(t,void 0,e.color);if(n)return n;const i=In.get(e.src,"anonymous",null);if(i.getImageState()!==et.LOADED)return null;const r=Jt(e.size[0],e.size[1]);return r.drawImage(i.getImage(1),e.offset[0],e.offset[1],e.size[0],e.size[1],0,0,e.size[0],e.size[1]),og(r.canvas,t,void 0,et.LOADED,e.color,!0),In.getPattern(t,void 0,e.color)}const vl="ol-hidden",lu="ol-unselectable",ag="ol-control",mm="ol-collapsed",Xw=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),pm=["style","variant","weight","size","lineHeight","family"],g1=function(e){const t=e.match(Xw);if(!t)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,r=pm.length;i<r;++i){const s=t[i+1];s!==void 0&&(n[pm[i]]=s)}return n.families=n.family.split(/,\s?/),n},m1="10px sans-serif",we="#000",Bs="round",Jn=[],ti=0,js="round",va=10,xa="#000",Ea="center",xh="middle",_r=[0,0,0,0],wa=1,Vn=new bn;let Wr=null,Tf;const If={},Vw=function(){const t="32px ",n=["monospace","serif"],i=n.length,r="wmytzilWMYTZIL@#/&?$%10";let s,o;function a(h,u,c){let f=!0;for(let g=0;g<i;++g){const d=n[g];if(o=Eh(h+" "+u+" "+t+d,r),c!=d){const p=Eh(h+" "+u+" "+t+c+","+d,r);f=f&&p!=o}}return!!f}function l(){let h=!0;const u=Vn.getKeys();for(let c=0,f=u.length;c<f;++c){const g=u[c];Vn.get(g)<100&&(a.apply(this,g.split(`
`))?(Da(If),Wr=null,Tf=void 0,Vn.set(g,100)):(Vn.set(g,Vn.get(g)+1,!0),h=!1))}h&&(clearInterval(s),s=void 0)}return function(h){const u=g1(h);if(!u)return;const c=u.families;for(let f=0,g=c.length;f<g;++f){const d=c[f],p=u.style+`
`+u.weight+`
`+d;Vn.get(p)===void 0&&(Vn.set(p,100,!0),a(u.style,u.weight,d)||(Vn.set(p,0,!0),s===void 0&&(s=setInterval(l,32))))}}}(),$w=function(){let e;return function(t){let n=If[t];if(n==null){if(u1){const i=g1(t),r=p1(t,"g");n=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else e||(e=document.createElement("div"),e.innerHTML="M",e.style.minHeight="0",e.style.maxHeight="none",e.style.height="auto",e.style.padding="0",e.style.border="none",e.style.position="absolute",e.style.display="block",e.style.left="-99999px"),e.style.font=t,document.body.appendChild(e),n=e.offsetHeight,document.body.removeChild(e);If[t]=n}return n}}();function p1(e,t){return Wr||(Wr=Jt(1,1)),e!=Tf&&(Wr.font=e,Tf=Wr.font),Wr.measureText(t)}function Eh(e,t){return p1(e,t).width}function _m(e,t,n){if(t in n)return n[t];const i=t.split(`
`).reduce((r,s)=>Math.max(r,Eh(e,s)),0);return n[t]=i,i}function Yw(e,t){const n=[],i=[],r=[];let s=0,o=0,a=0,l=0;for(let h=0,u=t.length;h<=u;h+=2){const c=t[h];if(c===`
`||h===u){s=Math.max(s,o),r.push(o),o=0,a+=l,l=0;continue}const f=t[h+1]||e.font,g=Eh(f,c);n.push(g),o+=g;const d=$w(f);i.push(d),l=Math.max(l,d)}return{width:s,height:a,widths:n,heights:i,lineWidths:r}}function qw(e,t,n,i,r,s,o,a,l,h,u){e.save(),n!==1&&(e.globalAlpha===void 0?e.globalAlpha=c=>c.globalAlpha*=n:e.globalAlpha*=n),t&&e.transform.apply(e,t),i.contextInstructions?(e.translate(l,h),e.scale(u[0],u[1]),Kw(i,e)):u[0]<0||u[1]<0?(e.translate(l,h),e.scale(u[0],u[1]),e.drawImage(i,r,s,o,a,0,0,o,a)):e.drawImage(i,r,s,o,a,l,h,o*u[0],a*u[1]),e.restore()}function Kw(e,t){const n=e.contextInstructions;for(let i=0,r=n.length;i<r;i+=2)Array.isArray(n[i+1])?t[n[i]].apply(t,n[i+1]):t[n[i]]=n[i+1]}class hu extends au{constructor(t){super({opacity:1,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=t.fill!==void 0?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=t.radius,this.radius2_=t.radius2,this.angle_=t.angle!==void 0?t.angle:0,this.stroke_=t.stroke!==void 0?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?et.LOADING:et.LOADED,this.imageState_===et.LOADING&&this.ready().then(()=>this.imageState_=et.LOADED),this.render()}clone(){const t=this.getScale(),n=new hu({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const t=this.size_,n=this.getDisplacement(),i=this.getScaleArray();return[t[0]/2-n[0]/i[0],t[1]/2+n[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){let n=this.canvases_[t];if(!n){const i=this.renderOptions_,r=Jt(i.size*t,i.size*t);this.draw_(i,r,t),n=r.canvas,this.canvases_[t]=n}return n}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,n,i){if(n===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return n;let r=this.radius_,s=this.radius2_===void 0?r:this.radius2_;if(r<s){const w=r;r=s,s=w}const o=this.radius2_===void 0?this.points_:this.points_*2,a=2*Math.PI/o,l=s*Math.sin(a),h=Math.sqrt(s*s-l*l),u=r-h,c=Math.sqrt(l*l+u*u),f=c/l;if(t==="miter"&&f<=i)return f*n;const g=n/2/f,d=n/2*(u/c),v=Math.sqrt((r+g)*(r+g)+d*d)-r;if(this.radius2_===void 0||t==="bevel")return v*2;const _=r*Math.sin(a),m=Math.sqrt(r*r-_*_),y=s-m,E=Math.sqrt(_*_+y*y)/_;if(E<=i){const w=E*n/2-s-r;return 2*Math.max(v,w)}return v*2}createRenderOptions(){let t=Bs,n=js,i=0,r=null,s=0,o,a=0;this.stroke_&&(o=An(this.stroke_.getColor()??xa),a=this.stroke_.getWidth()??wa,r=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??js,t=this.stroke_.getLineCap()??Bs,i=this.stroke_.getMiterLimit()??va);const l=this.calculateLineJoinSize_(n,a,i),h=Math.max(this.radius_,this.radius2_||0),u=Math.ceil(2*h+l);return{strokeStyle:o,strokeWidth:a,size:u,lineCap:t,lineDash:r,lineDashOffset:s,lineJoin:n,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,n,i){if(n.scale(i,i),n.translate(t.size/2,t.size/2),this.createPath_(n),this.fill_){let r=this.fill_.getColor();r===null&&(r=we),n.fillStyle=An(r),n.fill()}t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineCap=t.lineCap,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}createHitDetectionCanvas_(t){let n;if(this.fill_){let i=this.fill_.getColor(),r=0;typeof i=="string"&&(i=ya(i)),i===null?r=1:Array.isArray(i)&&(r=i.length===4?i[3]:1),r===0&&(n=Jt(t.size,t.size),this.drawHitDetectionCanvas_(t,n))}return n?n.canvas:this.getImage(1)}createPath_(t){let n=this.points_;const i=this.radius_;if(n===1/0)t.arc(0,0,i,0,2*Math.PI);else{const r=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(n*=2);const s=this.angle_-Math.PI/2,o=2*Math.PI/n;for(let a=0;a<n;a++){const l=s+a*o,h=a%2===0?i:r;t.lineTo(h*Math.cos(l),h*Math.sin(l))}t.closePath()}}drawHitDetectionCanvas_(t,n){n.translate(t.size/2,t.size/2),this.createPath_(n),n.fillStyle=we,n.fill(),t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class uu extends hu{constructor(t){t=t||{radius:5},super({points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:t.scale!==void 0?t.scale:1,rotation:t.rotation!==void 0?t.rotation:0,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),n=new uu({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(t){this.radius_=t,this.render()}}class ei{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=ym,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new ei({geometry:t??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(n){return n.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=ym,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function Hw(e){let t;if(typeof e=="function")t=e;else{let n;Array.isArray(e)?n=e:(ot(typeof e.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[e]),t=function(){return n}}return t}let sc=null;function _1(e,t){if(!sc){const n=new Ys({color:"rgba(255,255,255,0.4)"}),i=new Gs({color:"#3399CC",width:1.25});sc=[new ei({image:new uu({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return sc}function ym(e){return e.getGeometry()}const Zw="#333";class cu{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=Fe(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new Ys({color:Zw}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new cu({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=Fe(t!==void 0?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}const mt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class y1 extends bn{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const n=Object.assign({},t);typeof t.properties=="object"&&(delete n.properties,Object.assign(n,t.properties)),n[mt.OPACITY]=t.opacity!==void 0?t.opacity:1,ot(typeof n[mt.OPACITY]=="number","Layer opacity must be a number"),n[mt.VISIBLE]=t.visible!==void 0?t.visible:!0,n[mt.Z_INDEX]=t.zIndex,n[mt.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,n[mt.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,n[mt.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,n[mt.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const n=this.state_||{layer:this,managed:t===void 0?!0:t},i=this.getZIndex();return n.opacity=Ot(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=i===void 0&&!n.managed?1/0:i,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(t){return at()}getLayerStatesArray(t){return at()}getExtent(){return this.get(mt.EXTENT)}getMaxResolution(){return this.get(mt.MAX_RESOLUTION)}getMinResolution(){return this.get(mt.MIN_RESOLUTION)}getMinZoom(){return this.get(mt.MIN_ZOOM)}getMaxZoom(){return this.get(mt.MAX_ZOOM)}getOpacity(){return this.get(mt.OPACITY)}getSourceState(){return at()}getVisible(){return this.get(mt.VISIBLE)}getZIndex(){return this.get(mt.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(mt.EXTENT,t)}setMaxResolution(t){this.set(mt.MAX_RESOLUTION,t)}setMinResolution(t){this.set(mt.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(mt.MAX_ZOOM,t)}setMinZoom(t){this.set(mt.MIN_ZOOM,t)}setOpacity(t){ot(typeof t=="number","Layer opacity must be a number"),this.set(mt.OPACITY,t)}setVisible(t){this.set(mt.VISIBLE,t)}setZIndex(t){this.set(mt.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const re={ANIMATING:0,INTERACTING:1},ln={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},Qw=42,lg=256;function vm(e,t,n){return function(i,r,s,o,a){if(!i)return;if(!r&&!t)return i;const l=t?0:s[0]*r,h=t?0:s[1]*r,u=a?a[0]:0,c=a?a[1]:0;let f=e[0]+l/2+u,g=e[2]-l/2+u,d=e[1]+h/2+c,p=e[3]-h/2+c;f>g&&(f=(g+f)/2,g=f),d>p&&(d=(p+d)/2,p=d);let v=Ot(i[0],f,g),_=Ot(i[1],d,p);if(o&&n&&r){const m=30*r;v+=-m*Math.log(1+Math.max(0,f-i[0])/m)+m*Math.log(1+Math.max(0,i[0]-g)/m),_+=-m*Math.log(1+Math.max(0,d-i[1])/m)+m*Math.log(1+Math.max(0,i[1]-p)/m)}return[v,_]}}function Jw(e){return e}function hg(e,t,n,i){const r=ht(t)/n[0],s=ae(t)/n[1];return i?Math.min(e,Math.max(r,s)):Math.min(e,Math.min(r,s))}function ug(e,t,n){let i=Math.min(e,t);const r=50;return i*=Math.log(1+r*Math.max(0,e/t-1))/r+1,n&&(i=Math.max(i,n),i/=Math.log(1+r*Math.max(0,n/e-1))/r+1),Ot(i,n/2,t*2)}function tM(e,t,n,i){return t=t!==void 0?t:!0,function(r,s,o,a){if(r!==void 0){const l=e[0],h=e[e.length-1],u=n?hg(l,n,o,i):l;if(a)return t?ug(r,u,h):Ot(r,h,u);const c=Math.min(u,r),f=Math.floor(Bd(e,c,s));return e[f]>u&&f<e.length-1?e[f+1]:e[f]}}}function eM(e,t,n,i,r,s){return i=i!==void 0?i:!0,n=n!==void 0?n:0,function(o,a,l,h){if(o!==void 0){const u=r?hg(t,r,l,s):t;if(h)return i?ug(o,u,n):Ot(o,n,u);const c=1e-9,f=Math.ceil(Math.log(t/u)/Math.log(e)-c),g=-a*(.5-c)+.5,d=Math.min(u,o),p=Math.floor(Math.log(t/d)/Math.log(e)+g),v=Math.max(f,p),_=t/Math.pow(e,v);return Ot(_,n,u)}}}function xm(e,t,n,i,r){return n=n!==void 0?n:!0,function(s,o,a,l){if(s!==void 0){const h=i?hg(e,i,a,r):e;return!n||!l?Ot(s,t,h):ug(s,h,t)}}}function cg(e){if(e!==void 0)return 0}function Em(e){if(e!==void 0)return e}function nM(e){const t=2*Math.PI/e;return function(n,i){if(i)return n;if(n!==void 0)return n=Math.floor(n/t+.5)*t,n}}function iM(e){const t=Bl(5);return function(n,i){return i||n===void 0?n:Math.abs(n)<=t?0:n}}function v1(e){return Math.pow(e,3)}function qs(e){return 1-v1(1-e)}function rM(e){return 3*e*e-2*e*e*e}function sM(e){return e}const oc=0;class Cn extends bn{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Kd(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&ew(),t.center&&(t.center=Xn(t.center,this.projection_)),t.extent&&(t.extent=dr(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const n=Object.assign({},t);for(const a in ln)delete n[a];this.setProperties(n,!0);const i=aM(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=i.minZoom;const r=oM(t),s=i.constraint,o=lM(t);this.constraints_={center:r,resolution:s,rotation:o},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let n=this.padding_;this.padding_=t;const i=this.getCenterInternal();if(i){const r=t||[0,0,0,0];n=n||[0,0,0,0];const s=this.getResolution(),o=s/2*(r[3]-n[3]+n[1]-r[1]),a=s/2*(r[0]-n[0]+n[2]-r[2]);this.setCenterInternal([i[0]+o,i[1]-a])}}getUpdatedOptions_(t){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let i=0;i<n.length;++i){let r=arguments[i];r.center&&(r=Object.assign({},r),r.center=Xn(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=Xn(r.anchor,this.getProjection())),n[i]=r}this.animateInternal.apply(this,n)}animateInternal(t){let n=arguments.length,i;n>1&&typeof arguments[n-1]=="function"&&(i=arguments[n-1],--n);let r=0;for(;r<n&&!this.isDef();++r){const u=arguments[r];u.center&&this.setCenterInternal(u.center),u.zoom!==void 0?this.setZoom(u.zoom):u.resolution&&this.setResolution(u.resolution),u.rotation!==void 0&&this.setRotation(u.rotation)}if(r===n){i&&xl(i,!0);return}let s=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_;const h=[];for(;r<n;++r){const u=arguments[r],c={start:s,complete:!1,anchor:u.anchor,duration:u.duration!==void 0?u.duration:1e3,easing:u.easing||rM,callback:i};if(u.center&&(c.sourceCenter=o,c.targetCenter=u.center.slice(),o=c.targetCenter),u.zoom!==void 0?(c.sourceResolution=a,c.targetResolution=this.getResolutionForZoom(u.zoom),a=c.targetResolution):u.resolution&&(c.sourceResolution=a,c.targetResolution=u.resolution,a=c.targetResolution),u.rotation!==void 0){c.sourceRotation=l;const f=ws(u.rotation-l+Math.PI,2*Math.PI)-Math.PI;c.targetRotation=l+f,l=c.targetRotation}hM(c)?c.complete=!0:s+=c.duration,h.push(c)}this.animations_.push(h),this.setHint(re.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[re.ANIMATING]>0}getInteracting(){return this.hints_[re.INTERACTING]>0}cancelAnimations(){this.setHint(re.ANIMATING,-this.hints_[re.ANIMATING]);let t;for(let n=0,i=this.animations_.length;n<i;++n){const r=this.animations_[n];if(r[0].callback&&xl(r[0].callback,!1),!t)for(let s=0,o=r.length;s<o;++s){const a=r[s];if(!a.complete){t=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let n=!1;for(let i=this.animations_.length-1;i>=0;--i){const r=this.animations_[i];let s=!0;for(let o=0,a=r.length;o<a;++o){const l=r[o];if(l.complete)continue;const h=t-l.start;let u=l.duration>0?h/l.duration:1;u>=1?(l.complete=!0,u=1):s=!1;const c=l.easing(u);if(l.sourceCenter){const f=l.sourceCenter[0],g=l.sourceCenter[1],d=l.targetCenter[0],p=l.targetCenter[1];this.nextCenter_=l.targetCenter;const v=f+c*(d-f),_=g+c*(p-g);this.targetCenter_=[v,_]}if(l.sourceResolution&&l.targetResolution){const f=c===1?l.targetResolution:l.sourceResolution+c*(l.targetResolution-l.sourceResolution);if(l.anchor){const g=this.getViewportSize_(this.getRotation()),d=this.constraints_.resolution(f,0,g,!0);this.targetCenter_=this.calculateCenterZoom(d,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=f,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){const f=c===1?ws(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+c*(l.targetRotation-l.sourceRotation);if(l.anchor){const g=this.constraints_.rotation(f,!0);this.targetCenter_=this.calculateCenterRotate(g,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=f}if(this.applyTargetState_(!0),n=!0,!l.complete)break}if(s){this.animations_[i]=null,this.setHint(re.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const o=r[0].callback;o&&xl(o,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,n){let i;const r=this.getCenterInternal();return r!==void 0&&(i=[r[0]-n[0],r[1]-n[1]],Yd(i,t-this.getRotation()),Q2(i,n)),i}calculateCenterZoom(t,n){let i;const r=this.getCenterInternal(),s=this.getResolution();if(r!==void 0&&s!==void 0){const o=n[0]-t*(n[0]-r[0])/s,a=n[1]-t*(n[1]-r[1])/s;i=[o,a]}return i}getViewportSize_(t){const n=this.viewportSize_;if(t){const i=n[0],r=n[1];return[Math.abs(i*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(i*Math.sin(t))+Math.abs(r*Math.cos(t))]}return n}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t&&Sf(t,this.getProjection())}getCenterInternal(){return this.get(ln.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const n=this.calculateExtentInternal(t);return Zy(n,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();ot(n,"The view center is not defined");const i=this.getResolution();ot(i!==void 0,"The view resolution is not defined");const r=this.getRotation();return ot(r!==void 0,"The view rotation is not defined"),vf(n,i,r,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(ln.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,n){return this.getResolutionForExtentInternal(dr(t,this.getProjection()),n)}getResolutionForExtentInternal(t,n){n=n||this.getViewportSizeMinusPadding_();const i=ht(t)/n[0],r=ae(t)/n[1];return Math.max(i,r)}getResolutionForValueFunction(t){t=t||2;const n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(n/i)/Math.log(t);return function(s){return n/Math.pow(t,s*r)}}getRotation(){return this.get(ln.ROTATION)}getValueForResolutionFunction(t){const n=Math.log(t||2),i=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,s=Math.log(i/r)/n;return function(o){return Math.log(i/o)/n/s}}getViewportSizeMinusPadding_(t){let n=this.getViewportSize_(t);const i=this.padding_;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n}getState(){const t=this.getProjection(),n=this.getResolution(),i=this.getRotation();let r=this.getCenterInternal();const s=this.padding_;if(s){const o=this.getViewportSizeMinusPadding_();r=ac(r,this.getViewportSize_(),[o[0]/2+s[3],o[1]/2+s[0]],n,i)}return{center:r.slice(0),projection:t!==void 0?t:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const n=this.getResolution();return n!==void 0&&(t=this.getZoomForResolution(n)),t}getZoomForResolution(t){let n=this.minZoom_||0,i,r;if(this.resolutions_){const s=Bd(this.resolutions_,t,1);n=s,i=this.resolutions_[s],s==this.resolutions_.length-1?r=2:r=i/this.resolutions_[s+1]}else i=this.maxResolution_,r=this.zoomFactor_;return n+Math.log(i/t)/Math.log(r)}getResolutionForZoom(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const n=Ot(Math.floor(t),0,this.resolutions_.length-2),i=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(i,Ot(t-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,n){let i;if(ot(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){ot(!iu(t),"Cannot fit empty extent provided as `geometry`");const r=dr(t,this.getProjection());i=hm(r)}else if(t.getType()==="Circle"){const r=dr(t.getExtent(),this.getProjection());i=hm(r),i.rotate(this.getRotation(),Tr(r))}else i=t;this.fitInternal(i,n)}rotatedExtentForGeometry(t){const n=this.getRotation(),i=Math.cos(n),r=Math.sin(-n),s=t.getFlatCoordinates(),o=t.getStride();let a=1/0,l=1/0,h=-1/0,u=-1/0;for(let c=0,f=s.length;c<f;c+=o){const g=s[c]*i-s[c+1]*r,d=s[c]*r+s[c+1]*i;a=Math.min(a,g),l=Math.min(l,d),h=Math.max(h,g),u=Math.max(u,d)}return[a,l,h,u]}fitInternal(t,n){n=n||{};let i=n.size;i||(i=this.getViewportSizeMinusPadding_());const r=n.padding!==void 0?n.padding:[0,0,0,0],s=n.nearest!==void 0?n.nearest:!1;let o;n.minResolution!==void 0?o=n.minResolution:n.maxZoom!==void 0?o=this.getResolutionForZoom(n.maxZoom):o=0;const a=this.rotatedExtentForGeometry(t);let l=this.getResolutionForExtentInternal(a,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);l=isNaN(l)?o:Math.max(l,o),l=this.getConstrainedResolution(l,s?0:1);const h=this.getRotation(),u=Math.sin(h),c=Math.cos(h),f=Tr(a);f[0]+=(r[1]-r[3])/2*l,f[1]+=(r[0]-r[2])/2*l;const g=f[0]*c-f[1]*u,d=f[1]*c+f[0]*u,p=this.getConstrainedCenter([g,d],l),v=n.callback?n.callback:Ns;n.duration!==void 0?this.animateInternal({resolution:l,center:p,duration:n.duration,easing:n.easing},v):(this.targetResolution_=l,this.targetCenter_=p,this.applyTargetState_(!1,!0),xl(v,!0))}centerOn(t,n,i){this.centerOnInternal(Xn(t,this.getProjection()),n,i)}centerOnInternal(t,n,i){this.setCenterInternal(ac(t,n,i,this.getResolution(),this.getRotation()))}calculateCenterShift(t,n,i,r){let s;const o=this.padding_;if(o&&t){const a=this.getViewportSizeMinusPadding_(-i),l=ac(t,r,[a[0]/2+o[3],a[1]/2+o[0]],n,i);s=[t[0]-l[0],t[1]-l[1]]}return s}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(t){const n=Sf(this.targetCenter_,this.getProjection());this.setCenter([n[0]+t[0],n[1]+t[1]])}adjustCenterInternal(t){const n=this.targetCenter_;this.setCenterInternal([n[0]+t[0],n[1]+t[1]])}adjustResolution(t,n){n=n&&Xn(n,this.getProjection()),this.adjustResolutionInternal(t,n)}adjustResolutionInternal(t,n){const i=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*t,0,r,i);n&&(this.targetCenter_=this.calculateCenterZoom(s,n)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,n){this.adjustResolution(Math.pow(this.zoomFactor_,-t),n)}adjustRotation(t,n){n&&(n=Xn(n,this.getProjection())),this.adjustRotationInternal(t,n)}adjustRotationInternal(t,n){const i=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,i);n&&(this.targetCenter_=this.calculateCenterRotate(r,n)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t&&Xn(t,this.getProjection()))}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,n){return this.hints_[t]+=n,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,n){const i=this.getAnimating()||this.getInteracting()||n,r=this.constraints_.rotation(this.targetRotation_,i),s=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,0,s,i),a=this.constraints_.center(this.targetCenter_,o,s,i,this.calculateCenterShift(this.targetCenter_,o,r,s));this.get(ln.ROTATION)!==r&&this.set(ln.ROTATION,r),this.get(ln.RESOLUTION)!==o&&(this.set(ln.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(ln.CENTER)||!_h(this.get(ln.CENTER),a))&&this.set(ln.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,n,i){t=t!==void 0?t:200;const r=n||0,s=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(s),a=this.constraints_.resolution(this.targetResolution_,r,o),l=this.constraints_.center(this.targetCenter_,a,o,!1,this.calculateCenterShift(this.targetCenter_,a,s,o));if(t===0&&!this.cancelAnchor_){this.targetResolution_=a,this.targetRotation_=s,this.targetCenter_=l,this.applyTargetState_();return}i=i||(t===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==s||!this.getCenterInternal()||!_h(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:l,resolution:a,duration:t,easing:qs,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(re.INTERACTING,1)}endInteraction(t,n,i){i=i&&Xn(i,this.getProjection()),this.endInteractionInternal(t,n,i)}endInteractionInternal(t,n,i){this.getInteracting()&&(this.setHint(re.INTERACTING,-1),this.resolveConstraints(t,n,i))}getConstrainedCenter(t,n){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,n||this.getResolution(),i)}getConstrainedZoom(t,n){const i=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(i,n))}getConstrainedResolution(t,n){n=n||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,i)}}function xl(e,t){setTimeout(function(){e(t)},0)}function oM(e){if(e.extent!==void 0){const n=e.smoothExtentConstraint!==void 0?e.smoothExtentConstraint:!0;return vm(e.extent,e.constrainOnlyCenter,n)}const t=Kd(e.projection,"EPSG:3857");if(e.multiWorld!==!0&&t.isGlobal()){const n=t.getExtent().slice();return n[0]=-1/0,n[2]=1/0,vm(n,!1,!1)}return Jw}function aM(e){let t,n,i,o=e.minZoom!==void 0?e.minZoom:oc,a=e.maxZoom!==void 0?e.maxZoom:28;const l=e.zoomFactor!==void 0?e.zoomFactor:2,h=e.multiWorld!==void 0?e.multiWorld:!1,u=e.smoothResolutionConstraint!==void 0?e.smoothResolutionConstraint:!0,c=e.showFullExtent!==void 0?e.showFullExtent:!1,f=Kd(e.projection,"EPSG:3857"),g=f.getExtent();let d=e.constrainOnlyCenter,p=e.extent;if(!h&&!p&&f.isGlobal()&&(d=!1,p=g),e.resolutions!==void 0){const v=e.resolutions;n=v[o],i=v[a]!==void 0?v[a]:v[v.length-1],e.constrainResolution?t=tM(v,u,!d&&p,c):t=xm(n,i,u,!d&&p,c)}else{const _=(g?Math.max(ht(g),ae(g)):360*Xd.degrees/f.getMetersPerUnit())/lg/Math.pow(2,oc),m=_/Math.pow(2,28-oc);n=e.maxResolution,n!==void 0?o=0:n=_/Math.pow(l,o),i=e.minResolution,i===void 0&&(e.maxZoom!==void 0?e.maxResolution!==void 0?i=n/Math.pow(l,a):i=_/Math.pow(l,a):i=m),a=o+Math.floor(Math.log(n/i)/Math.log(l)),i=n/Math.pow(l,a-o),e.constrainResolution?t=eM(l,n,i,u,!d&&p,c):t=xm(n,i,u,!d&&p,c)}return{constraint:t,maxResolution:n,minResolution:i,minZoom:o,zoomFactor:l}}function lM(e){if(e.enableRotation!==void 0?e.enableRotation:!0){const n=e.constrainRotation;return n===void 0||n===!0?iM():n===!1?Em:typeof n=="number"?nM(n):Em}return cg}function hM(e){return!(e.sourceCenter&&e.targetCenter&&!_h(e.sourceCenter,e.targetCenter)||e.sourceResolution!==e.targetResolution||e.sourceRotation!==e.targetRotation)}function ac(e,t,n,i,r){const s=Math.cos(-r);let o=Math.sin(-r),a=e[0]*s-e[1]*o,l=e[1]*s+e[0]*o;a+=(t[0]/2-n[0])*i,l+=(n[1]-t[1]/2)*i,o=-o;const h=a*s-l*o,u=l*s+a*o;return[h,u]}class fu extends y1{constructor(t){const n=Object.assign({},t);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(mt.SOURCE,this.handleSourcePropertyChange_);const i=t.source?t.source:null;this.setSource(i)}getLayersArray(t){return t=t||[],t.push(this),t}getLayerStatesArray(t){return t=t||[],t.push(this.getLayerState()),t}getSource(){return this.get(mt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Mt(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=lt(t,Q.CHANGE,this.handleSourceChange_,this),t.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)}isVisible(t){let n;const i=this.getMapInternal();!t&&i&&(t=i.getView()),t instanceof Cn?n={viewState:t.getState(),extent:t.calculateExtent()}:n=t,!n.layerStatesArray&&i&&(n.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let r;n.layerStatesArray?r=n.layerStatesArray.find(o=>o.layer===this):r=this.getLayerState();const s=this.getExtent();return fg(r,n.viewState)&&(!s||Me(s,n.extent))}getAttributions(t){if(!this.isVisible(t))return[];let n;const i=this.getSource();if(i&&(n=i.getAttributions()),!n)return[];const r=t instanceof Cn?t.getViewStateAndExtent():t;let s=n(r);return Array.isArray(s)||(s=[s]),s}render(t,n){const i=this.getRenderer();return i.prepareFrame(t)?(this.rendered=!0,i.renderFrame(t,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,n){}renderDeferred(t){const n=this.getRenderer();n&&n.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(mt.MAP,t)}getMapInternal(){return this.get(mt.MAP)}setMap(t){this.mapPrecomposeKey_&&(Mt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Mt(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=lt(t,Qe.PRECOMPOSE,function(n){const r=n.frameState.layerStatesArray,s=this.getLayerState(!1);ot(!r.some(function(o){return o.layer===s.layer}),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),r.push(s)},this),this.mapRenderKey_=lt(this,Q.CHANGE,t.render,t),this.changed())}setSource(t){this.set(mt.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function fg(e,t){if(!e.visible)return!1;const n=t.resolution;if(n<e.minResolution||n>=e.maxResolution)return!1;const i=t.zoom;return i>e.minZoom&&i<=e.maxZoom}function uM(e,t,n,i,r){x1(e,t,n||0,i||e.length-1,r||cM)}function x1(e,t,n,i,r){for(;i>n;){if(i-n>600){var s=i-n+1,o=t-n+1,a=Math.log(s),l=.5*Math.exp(2*a/3),h=.5*Math.sqrt(a*l*(s-l)/s)*(o-s/2<0?-1:1),u=Math.max(n,Math.floor(t-o*l/s+h)),c=Math.min(i,Math.floor(t+(s-o)*l/s+h));x1(e,t,u,c,r)}var f=e[t],g=n,d=i;for(_o(e,n,t),r(e[i],f)>0&&_o(e,n,i);g<d;){for(_o(e,g,d),g++,d--;r(e[g],f)<0;)g++;for(;r(e[d],f)>0;)d--}r(e[n],f)===0?_o(e,n,d):(d++,_o(e,d,i)),d<=t&&(n=d+1),t<=d&&(i=d-1)}}function _o(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function cM(e,t){return e<t?-1:e>t?1:0}let E1=class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let n=this.data;const i=[];if(!wl(t,n))return i;const r=this.toBBox,s=[];for(;n;){for(let o=0;o<n.children.length;o++){const a=n.children[o],l=n.leaf?r(a):a;wl(t,l)&&(n.leaf?i.push(a):hc(t,l)?this._all(a,i):s.push(a))}n=s.pop()}return i}collides(t){let n=this.data;if(!wl(t,n))return!1;const i=[];for(;n;){for(let r=0;r<n.children.length;r++){const s=n.children[r],o=n.leaf?this.toBBox(s):s;if(wl(t,o)){if(n.leaf||hc(t,o))return!0;i.push(s)}}n=i.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let i=0;i<t.length;i++)this.insert(t[i]);return this}let n=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=Xr([]),this}remove(t,n){if(!t)return this;let i=this.data;const r=this.toBBox(t),s=[],o=[];let a,l,h;for(;i||s.length;){if(i||(i=s.pop(),l=s[s.length-1],a=o.pop(),h=!0),i.leaf){const u=fM(t,i.children,n);if(u!==-1)return i.children.splice(u,1),s.push(i),this._condense(s),this}!h&&!i.leaf&&hc(i,r)?(s.push(i),o.push(a),a=0,l=i,i=i.children[0]):l?(a++,i=l.children[a],h=!1):i=null}return this}toBBox(t){return t}compareMinX(t,n){return t.minX-n.minX}compareMinY(t,n){return t.minY-n.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,n){const i=[];for(;t;)t.leaf?n.push(...t.children):i.push(...t.children),t=i.pop();return n}_build(t,n,i,r){const s=i-n+1;let o=this._maxEntries,a;if(s<=o)return a=Xr(t.slice(n,i+1)),zr(a,this.toBBox),a;r||(r=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,r-1))),a=Xr([]),a.leaf=!1,a.height=r;const l=Math.ceil(s/o),h=l*Math.ceil(Math.sqrt(o));wm(t,n,i,h,this.compareMinX);for(let u=n;u<=i;u+=h){const c=Math.min(u+h-1,i);wm(t,u,c,l,this.compareMinY);for(let f=u;f<=c;f+=l){const g=Math.min(f+l-1,c);a.children.push(this._build(t,f,g,r-1))}}return zr(a,this.toBBox),a}_chooseSubtree(t,n,i,r){for(;r.push(n),!(n.leaf||r.length-1===i);){let s=1/0,o=1/0,a;for(let l=0;l<n.children.length;l++){const h=n.children[l],u=lc(h),c=mM(t,h)-u;c<o?(o=c,s=u<s?u:s,a=h):c===o&&u<s&&(s=u,a=h)}n=a||n.children[0]}return n}_insert(t,n,i){const r=i?t:this.toBBox(t),s=[],o=this._chooseSubtree(r,this.data,n,s);for(o.children.push(t),To(o,r);n>=0&&s[n].children.length>this._maxEntries;)this._split(s,n),n--;this._adjustParentBBoxes(r,s,n)}_split(t,n){const i=t[n],r=i.children.length,s=this._minEntries;this._chooseSplitAxis(i,s,r);const o=this._chooseSplitIndex(i,s,r),a=Xr(i.children.splice(o,i.children.length-o));a.height=i.height,a.leaf=i.leaf,zr(i,this.toBBox),zr(a,this.toBBox),n?t[n-1].children.push(a):this._splitRoot(i,a)}_splitRoot(t,n){this.data=Xr([t,n]),this.data.height=t.height+1,this.data.leaf=!1,zr(this.data,this.toBBox)}_chooseSplitIndex(t,n,i){let r,s=1/0,o=1/0;for(let a=n;a<=i-n;a++){const l=Ro(t,0,a,this.toBBox),h=Ro(t,a,i,this.toBBox),u=pM(l,h),c=lc(l)+lc(h);u<s?(s=u,r=a,o=c<o?c:o):u===s&&c<o&&(o=c,r=a)}return r||i-n}_chooseSplitAxis(t,n,i){const r=t.leaf?this.compareMinX:dM,s=t.leaf?this.compareMinY:gM,o=this._allDistMargin(t,n,i,r),a=this._allDistMargin(t,n,i,s);o<a&&t.children.sort(r)}_allDistMargin(t,n,i,r){t.children.sort(r);const s=this.toBBox,o=Ro(t,0,n,s),a=Ro(t,i-n,i,s);let l=El(o)+El(a);for(let h=n;h<i-n;h++){const u=t.children[h];To(o,t.leaf?s(u):u),l+=El(o)}for(let h=i-n-1;h>=n;h--){const u=t.children[h];To(a,t.leaf?s(u):u),l+=El(a)}return l}_adjustParentBBoxes(t,n,i){for(let r=i;r>=0;r--)To(n[r],t)}_condense(t){for(let n=t.length-1,i;n>=0;n--)t[n].children.length===0?n>0?(i=t[n-1].children,i.splice(i.indexOf(t[n]),1)):this.clear():zr(t[n],this.toBBox)}};function fM(e,t,n){if(!n)return t.indexOf(e);for(let i=0;i<t.length;i++)if(n(e,t[i]))return i;return-1}function zr(e,t){Ro(e,0,e.children.length,t,e)}function Ro(e,t,n,i,r){r||(r=Xr(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let s=t;s<n;s++){const o=e.children[s];To(r,e.leaf?i(o):o)}return r}function To(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function dM(e,t){return e.minX-t.minX}function gM(e,t){return e.minY-t.minY}function lc(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function El(e){return e.maxX-e.minX+(e.maxY-e.minY)}function mM(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function pM(e,t){const n=Math.max(e.minX,t.minX),i=Math.max(e.minY,t.minY),r=Math.min(e.maxX,t.maxX),s=Math.min(e.maxY,t.maxY);return Math.max(0,r-n)*Math.max(0,s-i)}function hc(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function wl(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function Xr(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function wm(e,t,n,i,r){const s=[t,n];for(;s.length;){if(n=s.pop(),t=s.pop(),n-t<=i)continue;const o=t+Math.ceil((n-t)/i/2)*i;uM(e,o,t,n,r),s.push(t,o,o,n)}}function Mm(e,t,n,i){return n!==void 0&&i!==void 0?[n/e,i/t]:n!==void 0?n/e:i!==void 0?i/t:1}class za extends au{constructor(t){t=t||{};const n=t.opacity!==void 0?t.opacity:1,i=t.rotation!==void 0?t.rotation:0,r=t.scale!==void 0?t.scale:1,s=t.rotateWithView!==void 0?t.rotateWithView:!1;super({opacity:n,rotation:i,scale:r,displacement:t.displacement!==void 0?t.displacement:[0,0],rotateWithView:s,declutterMode:t.declutterMode}),this.anchor_=t.anchor!==void 0?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=t.anchorOrigin!==void 0?t.anchorOrigin:"top-left",this.anchorXUnits_=t.anchorXUnits!==void 0?t.anchorXUnits:"fraction",this.anchorYUnits_=t.anchorYUnits!==void 0?t.anchorYUnits:"fraction",this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null;const o=t.img!==void 0?t.img:null;let a=t.src;ot(!(a!==void 0&&o),"`image` and `src` cannot be provided at the same time"),(a===void 0||a.length===0)&&o&&(a=o.src||gt(o)),ot(a!==void 0&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),ot(!((t.width!==void 0||t.height!==void 0)&&t.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(t.src!==void 0?l=et.IDLE:o!==void 0&&("complete"in o?o.complete?l=o.src?et.LOADED:et.IDLE:l=et.LOADING:l=et.LOADED),this.color_=t.color!==void 0?ya(t.color):null,this.iconImage_=og(o,a,this.crossOrigin_,l,this.color_),this.offset_=t.offset!==void 0?t.offset:[0,0],this.offsetOrigin_=t.offsetOrigin!==void 0?t.offsetOrigin:"top-left",this.origin_=null,this.size_=t.size!==void 0?t.size:null,t.width!==void 0||t.height!==void 0){let h,u;if(t.size)[h,u]=t.size;else{const c=this.getImage(1);if(c.width&&c.height)h=c.width,u=c.height;else if(c instanceof HTMLImageElement){this.initialOptions_=t;const f=()=>{if(this.unlistenImageChange(f),!this.initialOptions_)return;const g=this.iconImage_.getSize();this.setScale(Mm(g[0],g[1],t.width,t.height))};this.listenImageChange(f);return}}h!==void 0&&this.setScale(Mm(h,u,t.width,t.height))}}clone(){let t,n,i;return this.initialOptions_?(n=this.initialOptions_.width,i=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new za({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:n,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;t=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(t[0]*=r[0]),this.anchorYUnits_=="fraction"&&(t[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(t[0]=-t[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(t[1]=-t[1]+r[1])}this.normalizedAnchor_=t}const n=this.getDisplacement(),i=this.getScaleArray();return[t[0]-n[0]/i[0],t[1]+n[1]/i[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),i=this.iconImage_.getSize();if(!n||!i)return null;t=t.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(t[0]=i[0]-n[0]-t[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(t[1]=i[1]-n[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const t=this.getScaleArray();if(this.size_)return this.size_[0]*t[0];if(this.iconImage_.getImageState()==et.LOADED)return this.iconImage_.getSize()[0]*t[0]}getHeight(){const t=this.getScaleArray();if(this.size_)return this.size_[1]*t[1];if(this.iconImage_.getImageState()==et.LOADED)return this.iconImage_.getSize()[1]*t[1]}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(Q.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(Q.CHANGE,t)}ready(){return this.iconImage_.ready()}}let Nr=0;const Ks=0,At=1<<Nr++,j=1<<Nr++,Ne=1<<Nr++,Wt=1<<Nr++,kn=1<<Nr++,Wo=1<<Nr++,ne=Math.pow(2,Nr)-1,w1={[At]:"boolean",[j]:"number",[Ne]:"string",[Wt]:"color",[kn]:"number[]",[Wo]:"size"},_M=Object.keys(w1).map(Number).sort(Qn);function le(e){const t=[];for(const n of _M)yM(e,n)&&t.push(w1[n]);return t.length===0?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function yM(e,t){return(e&t)===t}function Nn(e,t){return!!(e&t)}function du(e,t){return e===t}class Oi{constructor(t,n){this.type=t,this.value=n}}class vM{constructor(t,n,...i){this.type=t,this.operator=n,this.args=i}}function M1(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,style:{}}}function xM(e){switch(e){case"string":return Ne;case"color":return Wt;case"number":return j;case"boolean":return At;case"number[]":return kn;default:throw new Error(`Unrecognized type hint: ${e}`)}}function dt(e,t,n){switch(typeof e){case"boolean":return new Oi(At,e);case"number":return new Oi(n===Wo?Wo:j,e);case"string":{let r=Ne;return Pw(e)&&(r|=Wt),du(r&n,Ks)||(r&=n),new Oi(r,e)}}if(!Array.isArray(e))throw new Error("Expression must be an array or a primitive value");if(e.length===0)throw new Error("Empty expression");if(typeof e[0]=="string")return OM(e,t,n);for(const r of e)if(typeof r!="number")throw new Error("Expected an array of numbers");let i=kn;return e.length===2?i|=Wo:(e.length===3||e.length===4)&&(i|=Wt),n&&(i&=n),new Oi(i,e)}const T={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string"},EM={[T.Get]:q(([e,t])=>t!==void 0?xM(t.value):ne,tt(1,2),wM),[T.Var]:q(([e])=>e.type,tt(1,1),MM),[T.Id]:q(j|Ne,yo,SM),[T.Concat]:q(Ne,tt(2,1/0),rt(ne)),[T.GeometryType]:q(Ne,yo,CM),[T.Resolution]:q(j,yo),[T.Zoom]:q(j,yo),[T.Time]:q(j,yo),[T.Any]:q(At,tt(2,1/0),rt(At)),[T.All]:q(At,tt(2,1/0),rt(At)),[T.Not]:q(At,tt(1,1),rt(At)),[T.Equal]:q(At,tt(2,2),rt(ne),pi),[T.NotEqual]:q(At,tt(2,2),rt(ne),pi),[T.GreaterThan]:q(At,tt(2,2),rt(ne),pi),[T.GreaterThanOrEqualTo]:q(At,tt(2,2),rt(ne),pi),[T.LessThan]:q(At,tt(2,2),rt(ne),pi),[T.LessThanOrEqualTo]:q(At,tt(2,2),rt(ne),pi),[T.Multiply]:q(e=>{let t=j|Wt;for(let n=0;n<e.length;n++)t&=e[n].type;return t},tt(2,1/0),rt(j|Wt),pi),[T.Coalesce]:q(e=>{let t=ne;for(let n=1;n<e.length;n+=2)t&=e[n].type;return t&=e[e.length-1].type,t},tt(2,1/0),rt(ne),pi),[T.Divide]:q(j,tt(2,2),rt(j)),[T.Add]:q(j,tt(2,1/0),rt(j)),[T.Subtract]:q(j,tt(2,2),rt(j)),[T.Clamp]:q(j,tt(3,3),rt(j)),[T.Mod]:q(j,tt(2,2),rt(j)),[T.Pow]:q(j,tt(2,2),rt(j)),[T.Abs]:q(j,tt(1,1),rt(j)),[T.Floor]:q(j,tt(1,1),rt(j)),[T.Ceil]:q(j,tt(1,1),rt(j)),[T.Round]:q(j,tt(1,1),rt(j)),[T.Sin]:q(j,tt(1,1),rt(j)),[T.Cos]:q(j,tt(1,1),rt(j)),[T.Atan]:q(j,tt(1,2),rt(j)),[T.Sqrt]:q(j,tt(1,1),rt(j)),[T.Match]:q(e=>{let t=ne;for(let n=2;n<e.length;n+=2)t&=e[n].type;return t&=e[e.length-1].type,t},tt(4,1/0),Sm,TM),[T.Between]:q(At,tt(3,3),rt(j)),[T.Interpolate]:q(e=>{let t=Wt|j;for(let n=3;n<e.length;n+=2)t&=e[n].type;return t},tt(6,1/0),Sm,IM),[T.Case]:q(e=>{let t=ne;for(let n=1;n<e.length;n+=2)t&=e[n].type;return t&=e[e.length-1].type,t},tt(3,1/0),RM,AM),[T.In]:q(At,tt(2,2),PM),[T.Number]:q(j,tt(1,1/0),rt(ne)),[T.String]:q(Ne,tt(1,1/0),rt(ne)),[T.Array]:q(e=>e.length===2?kn|Wo:e.length===3||e.length===4?kn|Wt:kn,tt(1,1/0),rt(j)),[T.Color]:q(Wt,tt(1,4),rt(j)),[T.Band]:q(j,tt(1,3),rt(j)),[T.Palette]:q(Wt,tt(2,2),LM),[T.ToString]:q(Ne,tt(1,1),rt(At|j|Ne|Wt))};function wM(e,t){const n=dt(e[1],t);if(!(n instanceof Oi))throw new Error("Expected a literal argument for get operation");if(typeof n.value!="string")throw new Error("Expected a string argument for get operation");if(t.properties.add(n.value),e.length===3){const i=dt(e[2],t);return[n,i]}return[n]}function MM(e,t,n,i){const r=e[1];if(typeof r!="string")throw new Error("Expected a string argument for var operation");if(t.variables.add(r),!("variables"in t.style)||t.style.variables[r]===void 0)return[new Oi(ne,r)];const s=t.style.variables[r],o=dt(s,t);if(o.value=r,i&&!Nn(i,o.type))throw new Error(`The variable ${r} has type ${le(o.type)} but the following type was expected: ${le(i)}`);return[o]}function SM(e,t){t.featureId=!0}function CM(e,t){t.geometryType=!0}function yo(e,t){const n=e[0];if(e.length!==1)throw new Error(`Expected no arguments for ${n} operation`);return[]}function tt(e,t){return function(n,i){const r=n[0],s=n.length-1;if(e===t){if(s!==e){const o=e===1?"":"s";throw new Error(`Expected ${e} argument${o} for ${r}, got ${s}`)}}else if(s<e||s>t){const o=t===1/0?`${e} or more`:`${e} to ${t}`;throw new Error(`Expected ${o} arguments for ${r}, got ${s}`)}}}function rt(e){return function(t,n){const i=t[0],r=t.length-1,s=new Array(r);for(let o=0;o<r;++o){const a=dt(t[o+1],n);if(!Nn(e,a.type)){const l=le(e),h=le(a.type);throw new Error(`Unexpected type for argument ${o} of ${i} operation, got ${l} but expected ${h}`)}a.type&=e,s[o]=a}return s}}function pi(e,t,n){const i=e[0],r=e.length-1;let s=ne;for(let a=0;a<n.length;++a)s&=n[a].type;if(s===Ks)throw new Error(`No common type could be found for arguments of ${i} operation`);const o=new Array(r);for(let a=0;a<r;++a)o[a]=dt(e[a+1],t,s);return o}function RM(e,t){const n=e[0],i=e.length-1;if(i%2===0)throw new Error(`An odd amount of arguments was expected for operation ${n}, got ${JSON.stringify(i)} instead`)}function Sm(e,t){const n=e[0],i=e.length-1;if(i%2===1)throw new Error(`An even amount of arguments was expected for operation ${n}, got ${JSON.stringify(i)} instead`)}function TM(e,t,n,i){const r=e.length-1;let o=dt(e[1],t).type;const a=dt(e[e.length-1],t);let l=i!==void 0?i&a.type:a.type;const h=new Array(r-2);for(let c=0;c<r-2;c+=2){const f=dt(e[c+2],t),g=dt(e[c+3],t);o&=f.type,l&=g.type,h[c]=f,h[c+1]=g}const u=Ne|j|At;if(!Nn(u,o))throw new Error(`Expected an input of type ${le(u)} for the interpolate operation, got ${le(o)} instead`);if(o&=u,du(l,Ks))throw new Error("Could not find a common output type for the following match operation: "+JSON.stringify(e));for(let c=0;c<r-2;c+=2){const f=dt(e[c+2],t,o),g=dt(e[c+3],t,l);h[c]=f,h[c+1]=g}return[dt(e[1],t,o),...h,dt(e[e.length-1],t,l)]}function IM(e,t,n,i){const r=e[1];let s;switch(r[0]){case"linear":s=1;break;case"exponential":if(s=r[1],typeof s!="number")throw new Error(`Expected a number base for exponential interpolation, got ${JSON.stringify(s)} instead`);break;default:s=null}if(!s)throw new Error(`Invalid interpolation type: ${JSON.stringify(r)}`);s=dt(s,t);let o=dt(e[2],t);if(!Nn(j,o.type))throw new Error(`Expected an input of type number for the interpolate operation, got ${le(o.type)} instead`);o=dt(e[2],t,j);const a=new Array(e.length-3);for(let l=0;l<a.length;l+=2){let h=dt(e[l+3],t);if(!Nn(j,h.type))throw new Error(`Expected all stop input values in the interpolate operation to be of type number, got ${le(h.type)} at position ${l+2} instead`);let u=dt(e[l+4],t);if(!Nn(j|Wt,u.type))throw new Error(`Expected all stop output values in the interpolate operation to be a number or color, got ${le(u.type)} at position ${l+3} instead`);h=dt(e[l+3],t,j),u=dt(e[l+4],t,j|Wt),a[l]=h,a[l+1]=u}return[s,o,...a]}function AM(e,t,n,i){const r=dt(e[e.length-1],t,i);let s=i!==void 0?i&r.type:r.type;const o=new Array(e.length-1);for(let a=0;a<o.length-1;a+=2){const l=dt(e[a+1],t),h=dt(e[a+2],t,i);if(!Nn(At,l.type))throw new Error(`Expected all conditions in the case operation to be of type boolean, got ${le(l.type)} at position ${a} instead`);s&=h.type,o[a]=l,o[a+1]=h}if(du(s,Ks))throw new Error("Could not find a common output type for the following case operation: "+JSON.stringify(e));for(let a=0;a<o.length-1;a+=2)o[a+1]=dt(e[a+2],t,s);return o[o.length-1]=dt(e[e.length-1],t,s),o}function PM(e,t){let n=e[2];if(!Array.isArray(n))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');if(typeof n[0]=="string"){if(n[0]!=="literal")throw new Error('For the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions.');if(!Array.isArray(n[1]))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');n=n[1]}let i=Ne|j;const r=new Array(n.length);for(let o=0;o<r.length;o++){const a=dt(n[o],t);i&=a.type,r[o]=a}if(du(i,Ks))throw new Error("Could not find a common type for the following in operation: "+JSON.stringify(e));return[dt(e[1],t,i),...r]}function LM(e,t){const n=dt(e[1],t,j);if(n.type!==j)throw new Error(`The first argument of palette must be an number, got ${le(n.type)} instead`);const i=e[2];if(!Array.isArray(i))throw new Error("The second argument of palette must be an array");const r=new Array(i.length);for(let s=0;s<r.length;s++){const o=dt(i[s],t,Wt);if(!(o instanceof Oi))throw new Error(`The palette color at index ${s} must be a literal value`);if(!Nn(o.type,Wt))throw new Error(`The palette color at index ${s} should be of type color, got ${le(o.type)} instead`);r[s]=o}return[n,...r]}function q(e,...t){return function(n,i,r){const s=n[0];let o=[];for(let l=0;l<t.length;l++)o=t[l](n,i,o,r)||o;let a=typeof e=="function"?e(o):e;if(r!==void 0){if(!Nn(a,r))throw new Error(`The following expression was expected to return ${le(r)}, but returns ${le(a)} instead: ${JSON.stringify(n)}`);a&=r}if(a===Ks)throw new Error(`No matching type was found for the following expression: ${JSON.stringify(n)}`);return new vM(a,s,...o)}}function OM(e,t,n){const i=e[0],r=EM[i];if(!r)throw new Error(`Unknown operator: ${i}`);return r(e,t,n)}function S1(e){if(!e)return"";const t=e.getType();switch(t){case"Point":case"LineString":case"Polygon":return t;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return S1(e.getGeometries()[0]);default:return""}}function C1(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function hi(e,t,n){const i=dt(e,n);if(!Nn(t,i.type)){const r=le(t),s=le(i.type);throw new Error(`Expected expression to be of type ${r}, got ${s}`)}return yn(i)}function yn(e,t){if(e instanceof Oi){if(e.type===Wt&&typeof e.value=="string"){const i=rg(e.value);return function(){return i}}return function(){return e.value}}const n=e.operator;switch(n){case T.Number:case T.String:case T.Coalesce:return kM(e);case T.Get:case T.Var:return NM(e);case T.Id:return i=>i.featureId;case T.GeometryType:return i=>i.geometryType;case T.Concat:{const i=e.args.map(r=>yn(r));return r=>"".concat(...i.map(s=>s(r).toString()))}case T.Resolution:return i=>i.resolution;case T.Any:case T.All:case T.Between:case T.In:case T.Not:return FM(e);case T.Equal:case T.NotEqual:case T.LessThan:case T.LessThanOrEqualTo:case T.GreaterThan:case T.GreaterThanOrEqualTo:return DM(e);case T.Multiply:case T.Divide:case T.Add:case T.Subtract:case T.Clamp:case T.Mod:case T.Pow:case T.Abs:case T.Floor:case T.Ceil:case T.Round:case T.Sin:case T.Cos:case T.Atan:case T.Sqrt:return bM(e);case T.Case:return zM(e);case T.Match:return GM(e);case T.Interpolate:return BM(e);case T.ToString:return jM(e);default:throw new Error(`Unsupported operator ${n}`)}}function kM(e,t){const n=e.operator,i=e.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=yn(e.args[s]);switch(n){case T.Coalesce:return s=>{for(let o=0;o<i;++o){const a=r[o](s);if(typeof a<"u"&&a!==null)return a}throw new Error("Expected one of the values to be non-null")};case T.Number:case T.String:return s=>{for(let o=0;o<i;++o){const a=r[o](s);if(typeof a===n)return a}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function NM(e,t){const i=e.args[0].value;switch(e.operator){case T.Get:return r=>r.properties[i];case T.Var:return r=>r.variables[i];default:throw new Error(`Unsupported accessor operator ${e.operator}`)}}function DM(e,t){const n=e.operator,i=yn(e.args[0]),r=yn(e.args[1]);switch(n){case T.Equal:return s=>i(s)===r(s);case T.NotEqual:return s=>i(s)!==r(s);case T.LessThan:return s=>i(s)<r(s);case T.LessThanOrEqualTo:return s=>i(s)<=r(s);case T.GreaterThan:return s=>i(s)>r(s);case T.GreaterThanOrEqualTo:return s=>i(s)>=r(s);default:throw new Error(`Unsupported comparison operator ${n}`)}}function FM(e,t){const n=e.operator,i=e.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=yn(e.args[s]);switch(n){case T.Any:return s=>{for(let o=0;o<i;++o)if(r[o](s))return!0;return!1};case T.All:return s=>{for(let o=0;o<i;++o)if(!r[o](s))return!1;return!0};case T.Between:return s=>{const o=r[0](s),a=r[1](s),l=r[2](s);return o>=a&&o<=l};case T.In:return s=>{const o=r[0](s);for(let a=1;a<i;++a)if(o===r[a](s))return!0;return!1};case T.Not:return s=>!r[0](s);default:throw new Error(`Unsupported logical operator ${n}`)}}function bM(e,t){const n=e.operator,i=e.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=yn(e.args[s]);switch(n){case T.Multiply:return s=>{let o=1;for(let a=0;a<i;++a)o*=r[a](s);return o};case T.Divide:return s=>r[0](s)/r[1](s);case T.Add:return s=>{let o=0;for(let a=0;a<i;++a)o+=r[a](s);return o};case T.Subtract:return s=>r[0](s)-r[1](s);case T.Clamp:return s=>{const o=r[0](s),a=r[1](s);if(o<a)return a;const l=r[2](s);return o>l?l:o};case T.Mod:return s=>r[0](s)%r[1](s);case T.Pow:return s=>Math.pow(r[0](s),r[1](s));case T.Abs:return s=>Math.abs(r[0](s));case T.Floor:return s=>Math.floor(r[0](s));case T.Ceil:return s=>Math.ceil(r[0](s));case T.Round:return s=>Math.round(r[0](s));case T.Sin:return s=>Math.sin(r[0](s));case T.Cos:return s=>Math.cos(r[0](s));case T.Atan:return i===2?s=>Math.atan2(r[0](s),r[1](s)):s=>Math.atan(r[0](s));case T.Sqrt:return s=>Math.sqrt(r[0](s));default:throw new Error(`Unsupported numeric operator ${n}`)}}function zM(e,t){const n=e.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=yn(e.args[r]);return r=>{for(let s=0;s<n-1;s+=2)if(i[s](r))return i[s+1](r);return i[n-1](r)}}function GM(e,t){const n=e.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=yn(e.args[r]);return r=>{const s=i[0](r);for(let o=1;o<n;o+=2)if(s===i[o](r))return i[o+1](r);return i[n-1](r)}}function BM(e,t){const n=e.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=yn(e.args[r]);return r=>{const s=i[0](r),o=i[1](r);let a,l;for(let h=2;h<n;h+=2){const u=i[h](r);let c=i[h+1](r);const f=Array.isArray(c);if(f&&(c=Iw(c)),u>=o)return h===2?c:f?UM(s,o,a,l,u,c):Io(s,o,a,l,u,c);a=u,l=c}return l}}function jM(e,t){const n=e.operator,i=e.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=yn(e.args[s]);switch(n){case T.ToString:return s=>{const o=r[0](s);return e.args[0].type===Wt?sg(o):o.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function Io(e,t,n,i,r,s){const o=r-n;if(o===0)return i;const a=t-n,l=e===1?a/o:(Math.pow(e,a)-1)/(Math.pow(e,o)-1);return i+l*(s-i)}function UM(e,t,n,i,r,s){if(r-n===0)return i;const a=fm(i),l=fm(s);let h=l[2]-a[2];h>180?h-=360:h<-180&&(h+=360);const u=[Io(e,t,n,a[0],r,l[0]),Io(e,t,n,a[1],r,l[1]),a[2]+Io(e,t,n,0,r,h),Io(e,t,n,i[3],r,s[3])];return a1(Aw(u))}function WM(e){return!0}function XM(e){const t=M1(),n=VM(e,t),i=C1();return function(r,s){if(i.properties=r.getPropertiesInternal(),i.resolution=s,t.featureId){const o=r.getId();o!==void 0?i.featureId=o:i.featureId=null}return t.geometryType&&(i.geometryType=S1(r.getGeometry())),n(i)}}function Cm(e){const t=M1(),n=e.length,i=new Array(n);for(let o=0;o<n;++o)i[o]=Af(e[o],t);const r=C1(),s=new Array(n);return function(o,a){if(r.properties=o.getPropertiesInternal(),r.resolution=a,t.featureId){const h=o.getId();h!==void 0?r.featureId=h:r.featureId=null}let l=0;for(let h=0;h<n;++h){const u=i[h](r);u&&(s[l]=u,l+=1)}return s.length=l,s}}function VM(e,t){const n=e.length,i=new Array(n);for(let r=0;r<n;++r){const s=e[r],o="filter"in s?hi(s.filter,At,t):WM;let a;if(Array.isArray(s.style)){const l=s.style.length;a=new Array(l);for(let h=0;h<l;++h)a[h]=Af(s.style[h],t)}else a=[Af(s.style,t)];i[r]={filter:o,styles:a}}return function(r){const s=[];let o=!1;for(let a=0;a<n;++a){const l=i[a].filter;if(l(r)&&!(e[a].else&&o)){o=!0;for(const h of i[a].styles){const u=h(r);u&&s.push(u)}}}return s}}function Af(e,t){const n=Ma(e,"",t),i=Sa(e,"",t),r=$M(e,t),s=YM(e,t),o=Se(e,"z-index",t);if(!n&&!i&&!r&&!s&&!Ds(e))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(e));const a=new ei;return function(l){let h=!0;if(n){const u=n(l);u&&(h=!1),a.setFill(u)}if(i){const u=i(l);u&&(h=!1),a.setStroke(u)}if(r){const u=r(l);u&&(h=!1),a.setText(u)}if(s){const u=s(l);u&&(h=!1),a.setImage(u)}return o&&a.setZIndex(o(l)),h?null:a}}function Ma(e,t,n){let i;if(t+"fill-pattern-src"in e?i=ZM(e,t+"fill-",n):i=dg(e,t+"fill-color",n),!i)return null;const r=new Ys;return function(s){const o=i(s);return o==="none"?null:(r.setColor(o),r)}}function Sa(e,t,n){const i=Se(e,t+"stroke-width",n),r=dg(e,t+"stroke-color",n);if(!i&&!r)return null;const s=qn(e,t+"stroke-line-cap",n),o=qn(e,t+"stroke-line-join",n),a=R1(e,t+"stroke-line-dash",n),l=Se(e,t+"stroke-line-dash-offset",n),h=Se(e,t+"stroke-miter-limit",n),u=new Gs;return function(c){if(r){const f=r(c);if(f==="none")return null;u.setColor(f)}if(i&&u.setWidth(i(c)),s){const f=s(c);if(f!=="butt"&&f!=="round"&&f!=="square")throw new Error("Expected butt, round, or square line cap");u.setLineCap(f)}if(o){const f=o(c);if(f!=="bevel"&&f!=="round"&&f!=="miter")throw new Error("Expected bevel, round, or miter line join");u.setLineJoin(f)}return a&&u.setLineDash(a(c)),l&&u.setLineDashOffset(l(c)),h&&u.setMiterLimit(h(c)),u}}function $M(e,t){const n="text-",i=qn(e,n+"value",t);if(!i)return null;const r=Ma(e,n,t),s=Ma(e,n+"background-",t),o=Sa(e,n,t),a=Sa(e,n+"background-",t),l=qn(e,n+"font",t),h=Se(e,n+"max-angle",t),u=Se(e,n+"offset-x",t),c=Se(e,n+"offset-y",t),f=Ca(e,n+"overflow",t),g=qn(e,n+"placement",t),d=Se(e,n+"repeat",t),p=gu(e,n+"scale",t),v=Ca(e,n+"rotate-with-view",t),_=Se(e,n+"rotation",t),m=qn(e,n+"align",t),y=qn(e,n+"justify",t),x=qn(e,n+"baseline",t),E=R1(e,n+"padding",t),w=mu(e,n+"declutter-mode"),S=new cu({declutterMode:w});return function(M){if(S.setText(i(M)),r&&S.setFill(r(M)),s&&S.setBackgroundFill(s(M)),o&&S.setStroke(o(M)),a&&S.setBackgroundStroke(a(M)),l&&S.setFont(l(M)),h&&S.setMaxAngle(h(M)),u&&S.setOffsetX(u(M)),c&&S.setOffsetY(c(M)),f&&S.setOverflow(f(M)),g){const R=g(M);if(R!=="point"&&R!=="line")throw new Error("Expected point or line for text-placement");S.setPlacement(R)}if(d&&S.setRepeat(d(M)),p&&S.setScale(p(M)),v&&S.setRotateWithView(v(M)),_&&S.setRotation(_(M)),m){const R=m(M);if(R!=="left"&&R!=="center"&&R!=="right"&&R!=="end"&&R!=="start")throw new Error("Expected left, right, center, start, or end for text-align");S.setTextAlign(R)}if(y){const R=y(M);if(R!=="left"&&R!=="right"&&R!=="center")throw new Error("Expected left, right, or center for text-justify");S.setJustify(R)}if(x){const R=x(M);if(R!=="bottom"&&R!=="top"&&R!=="middle"&&R!=="alphabetic"&&R!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");S.setTextBaseline(R)}return E&&S.setPadding(E(M)),S}}function YM(e,t){return"icon-src"in e?qM(e,t):"shape-points"in e?KM(e,t):"circle-radius"in e?HM(e,t):null}function qM(e,t){const n="icon-",i=n+"src",r=T1(e[i],i),s=wh(e,n+"anchor",t),o=gu(e,n+"scale",t),a=Se(e,n+"opacity",t),l=wh(e,n+"displacement",t),h=Se(e,n+"rotation",t),u=Ca(e,n+"rotate-with-view",t),c=Tm(e,n+"anchor-origin"),f=Im(e,n+"anchor-x-units"),g=Im(e,n+"anchor-y-units"),d=eS(e,n+"color"),p=JM(e,n+"cross-origin"),v=tS(e,n+"offset"),_=Tm(e,n+"offset-origin"),m=Mh(e,n+"width"),y=Mh(e,n+"height"),x=QM(e,n+"size"),E=mu(e,n+"declutter-mode"),w=new za({src:r,anchorOrigin:c,anchorXUnits:f,anchorYUnits:g,color:d,crossOrigin:p,offset:v,offsetOrigin:_,height:y,width:m,size:x,declutterMode:E});return function(S){return a&&w.setOpacity(a(S)),l&&w.setDisplacement(l(S)),h&&w.setRotation(h(S)),u&&w.setRotateWithView(u(S)),o&&w.setScale(o(S)),s&&w.setAnchor(s(S)),w}}function KM(e,t){const n="shape-",i=n+"points",r=n+"radius",s=Pf(e[i],i),o=Pf(e[r],r),a=Ma(e,n,t),l=Sa(e,n,t),h=gu(e,n+"scale",t),u=wh(e,n+"displacement",t),c=Se(e,n+"rotation",t),f=Ca(e,n+"rotate-with-view",t),g=Mh(e,n+"radius2"),d=Mh(e,n+"angle"),p=mu(e,n+"declutter-mode"),v=new hu({points:s,radius:o,radius2:g,angle:d,declutterMode:p});return function(_){return a&&v.setFill(a(_)),l&&v.setStroke(l(_)),u&&v.setDisplacement(u(_)),c&&v.setRotation(c(_)),f&&v.setRotateWithView(f(_)),h&&v.setScale(h(_)),v}}function HM(e,t){const n="circle-",i=Ma(e,n,t),r=Sa(e,n,t),s=Se(e,n+"radius",t),o=gu(e,n+"scale",t),a=wh(e,n+"displacement",t),l=Se(e,n+"rotation",t),h=Ca(e,n+"rotate-with-view",t),u=mu(e,n+"declutter-mode"),c=new uu({radius:5,declutterMode:u});return function(f){return s&&c.setRadius(s(f)),i&&c.setFill(i(f)),r&&c.setStroke(r(f)),a&&c.setDisplacement(a(f)),l&&c.setRotation(l(f)),h&&c.setRotateWithView(h(f)),o&&c.setScale(o(f)),c}}function Se(e,t,n){if(!(t in e))return;const i=hi(e[t],j,n);return function(r){return Pf(i(r),t)}}function qn(e,t,n){if(!(t in e))return null;const i=hi(e[t],Ne,n);return function(r){return T1(i(r),t)}}function ZM(e,t,n){const i=qn(e,t+"pattern-src",n),r=Rm(e,t+"pattern-offset",n),s=Rm(e,t+"pattern-size",n),o=dg(e,t+"color",n);return function(a){return{src:i(a),offset:r&&r(a),size:s&&s(a),color:o&&o(a)}}}function Ca(e,t,n){if(!(t in e))return null;const i=hi(e[t],At,n);return function(r){const s=i(r);if(typeof s!="boolean")throw new Error(`Expected a boolean for ${t}`);return s}}function dg(e,t,n){if(!(t in e))return null;const i=hi(e[t],Wt|Ne,n);return function(r){return I1(i(r),t)}}function R1(e,t,n){if(!(t in e))return null;const i=hi(e[t],kn,n);return function(r){return Ga(i(r),t)}}function wh(e,t,n){if(!(t in e))return null;const i=hi(e[t],kn,n);return function(r){const s=Ga(i(r),t);if(s.length!==2)throw new Error(`Expected two numbers for ${t}`);return s}}function Rm(e,t,n){if(!(t in e))return null;const i=hi(e[t],kn,n);return function(r){return A1(i(r),t)}}function gu(e,t,n){if(!(t in e))return null;const i=hi(e[t],kn|j,n);return function(r){return nS(i(r),t)}}function Mh(e,t){const n=e[t];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${t}`);return n}}function QM(e,t){const n=e[t];if(n!==void 0){if(typeof n=="number")return Fe(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${t}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${t}`);return n}}function JM(e,t){const n=e[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);return n}}function Tm(e,t){const n=e[t];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return n}}function Im(e,t){const n=e[t];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${t}`);return n}}function tS(e,t){const n=e[t];if(n!==void 0)return Ga(n,t)}function mu(e,t){const n=e[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${t}`);return n}}function eS(e,t){const n=e[t];if(n!==void 0)return I1(n,t)}function Ga(e,t){if(!Array.isArray(e))throw new Error(`Expected an array for ${t}`);const n=e.length;for(let i=0;i<n;++i)if(typeof e[i]!="number")throw new Error(`Expected an array of numbers for ${t}`);return e}function T1(e,t){if(typeof e!="string")throw new Error(`Expected a string for ${t}`);return e}function Pf(e,t){if(typeof e!="number")throw new Error(`Expected a number for ${t}`);return e}function I1(e,t){if(typeof e=="string")return e;const n=Ga(e,t),i=n.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${t}`);return n}function A1(e,t){const n=Ga(e,t);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${t}`);return n}function nS(e,t){return typeof e=="number"?e:A1(e,t)}const Am={RENDER_ORDER:"renderOrder"};class P1 extends fu{constructor(t){t=t||{};const n=Object.assign({},t);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=t.renderBuffer!==void 0?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=t.updateWhileAnimating!==void 0?t.updateWhileAnimating:!1,this.updateWhileInteracting_=t.updateWhileInteracting!==void 0?t.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(Am.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,n){const i=this.getDeclutter();i in t.declutter||(t.declutter[i]=new E1(9)),this.getRenderer().renderDeclutter(t,n)}setRenderOrder(t){this.set(Am.RENDER_ORDER,t)}setStyle(t){this.style_=t===void 0?_1:t;const n=iS(t);this.styleFunction_=t===null?void 0:Hw(n),this.changed()}}function iS(e){if(e===void 0)return _1;if(!e)return null;if(typeof e=="function"||e instanceof ei)return e;if(!Array.isArray(e))return Cm([e]);if(e.length===0)return[];const t=e.length,n=e[0];if(n instanceof ei){const r=new Array(t);for(let s=0;s<t;++s){const o=e[s];if(!(o instanceof ei))throw new Error("Expected a list of style instances");r[s]=o}return r}if("style"in n){const r=new Array(t);for(let s=0;s<t;++s){const o=e[s];if(!("style"in o))throw new Error("Expected a list of rules with a style property");r[s]=o}return XM(r)}return Cm(e)}const X={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Ml=[X.FILL],ki=[X.STROKE],yr=[X.BEGIN_PATH],Pm=[X.CLOSE_PATH];class L1{drawCustom(t,n,i,r,s){}drawGeometry(t){}setStyle(t){}drawCircle(t,n,i){}drawFeature(t,n,i){}drawGeometryCollection(t,n,i){}drawLineString(t,n,i){}drawMultiLineString(t,n,i){}drawMultiPoint(t,n,i){}drawMultiPolygon(t,n,i){}drawPoint(t,n,i){}drawPolygon(t,n,i){}drawText(t,n,i){}setFillStrokeStyle(t,n){}setImageStyle(t,n){}setTextStyle(t,n){}}class Ba extends L1{constructor(t,n,i,r){super(),this.tolerance=t,this.maxExtent=n,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const n=this.pixelRatio;return n==1?t:t.map(function(i){return i*n})}appendFlatPointCoordinates(t,n){const i=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,s=this.coordinates;let o=s.length;for(let a=0,l=t.length;a<l;a+=n)r[0]=t[a],r[1]=t[a+1],Fs(i,r)&&(s[o++]=r[0],s[o++]=r[1]);return o}appendFlatLineCoordinates(t,n,i,r,s,o){const a=this.coordinates;let l=a.length;const h=this.getBufferedMaxExtent();o&&(n+=r);let u=t[n],c=t[n+1];const f=this.tmpCoordinate_;let g=!0,d,p,v;for(d=n+r;d<i;d+=r)f[0]=t[d],f[1]=t[d+1],v=_f(h,f),v!==p?(g&&(a[l++]=u,a[l++]=c,g=!1),a[l++]=f[0],a[l++]=f[1]):v===jt.INTERSECTING?(a[l++]=f[0],a[l++]=f[1],g=!1):g=!0,u=f[0],c=f[1],p=v;return(s&&g||d===n+r)&&(a[l++]=u,a[l++]=c),l}drawCustomCoordinates_(t,n,i,r,s){for(let o=0,a=i.length;o<a;++o){const l=i[o],h=this.appendFlatLineCoordinates(t,n,l,r,!1,!1);s.push(h),n=l}return n}drawCustom(t,n,i,r,s){this.beginGeometry(t,n,s);const o=t.getType(),a=t.getStride(),l=this.coordinates.length;let h,u,c,f,g;switch(o){case"MultiPolygon":h=t.getOrientedFlatCoordinates(),f=[];const d=t.getEndss();g=0;for(let p=0,v=d.length;p<v;++p){const _=[];g=this.drawCustomCoordinates_(h,g,d[p],a,_),f.push(_)}this.instructions.push([X.CUSTOM,l,f,t,i,am,s]),this.hitDetectionInstructions.push([X.CUSTOM,l,f,t,r||i,am,s]);break;case"Polygon":case"MultiLineString":c=[],h=o=="Polygon"?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),g=this.drawCustomCoordinates_(h,0,t.getEnds(),a,c),this.instructions.push([X.CUSTOM,l,c,t,i,yh,s]),this.hitDetectionInstructions.push([X.CUSTOM,l,c,t,r||i,yh,s]);break;case"LineString":case"Circle":h=t.getFlatCoordinates(),u=this.appendFlatLineCoordinates(h,0,h.length,a,!1,!1),this.instructions.push([X.CUSTOM,l,u,t,i,gr,s]),this.hitDetectionInstructions.push([X.CUSTOM,l,u,t,r||i,gr,s]);break;case"MultiPoint":h=t.getFlatCoordinates(),u=this.appendFlatPointCoordinates(h,a),u>l&&(this.instructions.push([X.CUSTOM,l,u,t,i,gr,s]),this.hitDetectionInstructions.push([X.CUSTOM,l,u,t,r||i,gr,s]));break;case"Point":h=t.getFlatCoordinates(),this.coordinates.push(h[0],h[1]),u=this.coordinates.length,this.instructions.push([X.CUSTOM,l,u,t,i,void 0,s]),this.hitDetectionInstructions.push([X.CUSTOM,l,u,t,r||i,void 0,s]);break}this.endGeometry(n)}beginGeometry(t,n,i){this.beginGeometryInstruction1_=[X.BEGIN_GEOMETRY,n,0,t,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[X.BEGIN_GEOMETRY,n,0,t,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;t.reverse();let n;const i=t.length;let r,s,o=-1;for(n=0;n<i;++n)r=t[n],s=r[0],s==X.END_GEOMETRY?o=n:s==X.BEGIN_GEOMETRY&&(r[2]=n,I2(this.hitDetectionInstructions,o,n),o=-1)}setFillStrokeStyle(t,n){const i=this.state;if(t){const r=t.getColor();i.fillPatternScale=r&&typeof r=="object"&&"src"in r?this.pixelRatio:1,i.fillStyle=An(r||we)}else i.fillStyle=void 0;if(n){const r=n.getColor();i.strokeStyle=An(r||xa);const s=n.getLineCap();i.lineCap=s!==void 0?s:Bs;const o=n.getLineDash();i.lineDash=o?o.slice():Jn;const a=n.getLineDashOffset();i.lineDashOffset=a||ti;const l=n.getLineJoin();i.lineJoin=l!==void 0?l:js;const h=n.getWidth();i.lineWidth=h!==void 0?h:wa;const u=n.getMiterLimit();i.miterLimit=u!==void 0?u:va,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0}createFill(t){const n=t.fillStyle,i=[X.SET_FILL_STYLE,n];return typeof n!="string"&&i.push(t.fillPatternScale),i}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[X.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,n){const i=t.fillStyle;(typeof i!="string"||t.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(n.call(this,t)),t.currentFillStyle=i)}updateStrokeStyle(t,n){const i=t.strokeStyle,r=t.lineCap,s=t.lineDash,o=t.lineDashOffset,a=t.lineJoin,l=t.lineWidth,h=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=r||s!=t.currentLineDash&&!Ji(t.currentLineDash,s)||t.currentLineDashOffset!=o||t.currentLineJoin!=a||t.currentLineWidth!=l||t.currentMiterLimit!=h)&&(i!==void 0&&n.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=r,t.currentLineDash=s,t.currentLineDashOffset=o,t.currentLineJoin=a,t.currentLineWidth=l,t.currentMiterLimit=h)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[X.END_GEOMETRY,t];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=zy(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;jd(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class rS extends Ba{constructor(t,n,i,r){super(t,n,i,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,n,i){if(!this.image_||this.maxExtent&&!Fs(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,n,i);const r=t.getFlatCoordinates(),s=t.getStride(),o=this.coordinates.length,a=this.appendFlatPointCoordinates(r,s);this.instructions.push([X.DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([X.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(t,n,i){if(!this.image_)return;this.beginGeometry(t,n,i);const r=t.getFlatCoordinates(),s=[];for(let l=0,h=r.length;l<h;l+=t.getStride())(!this.maxExtent||Fs(this.maxExtent,r.slice(l,l+2)))&&s.push(r[l],r[l+1]);const o=this.coordinates.length,a=this.appendFlatPointCoordinates(s,2);this.instructions.push([X.DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([X.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,n){const i=t.getAnchor(),r=t.getSize(),s=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=r[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}}class sS extends Ba{constructor(t,n,i,r){super(t,n,i,r)}drawFlatCoordinates_(t,n,i,r){const s=this.coordinates.length,o=this.appendFlatLineCoordinates(t,n,i,r,!1,!1),a=[X.MOVE_TO_LINE_TO,s,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),i}drawLineString(t,n,i){const r=this.state,s=r.strokeStyle,o=r.lineWidth;if(s===void 0||o===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,n,i),this.hitDetectionInstructions.push([X.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Jn,ti],yr);const a=t.getFlatCoordinates(),l=t.getStride();this.drawFlatCoordinates_(a,0,a.length,l),this.hitDetectionInstructions.push(ki),this.endGeometry(n)}drawMultiLineString(t,n,i){const r=this.state,s=r.strokeStyle,o=r.lineWidth;if(s===void 0||o===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,n,i),this.hitDetectionInstructions.push([X.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Jn,ti],yr);const a=t.getEnds(),l=t.getFlatCoordinates(),h=t.getStride();let u=0;for(let c=0,f=a.length;c<f;++c)u=this.drawFlatCoordinates_(l,u,a[c],h);this.hitDetectionInstructions.push(ki),this.endGeometry(n)}finish(){const t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(ki),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(ki),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(yr)}}class Lm extends Ba{constructor(t,n,i,r){super(t,n,i,r)}drawFlatCoordinatess_(t,n,i,r){const s=this.state,o=s.fillStyle!==void 0,a=s.strokeStyle!==void 0,l=i.length;this.instructions.push(yr),this.hitDetectionInstructions.push(yr);for(let h=0;h<l;++h){const u=i[h],c=this.coordinates.length,f=this.appendFlatLineCoordinates(t,n,u,r,!0,!a),g=[X.MOVE_TO_LINE_TO,c,f];this.instructions.push(g),this.hitDetectionInstructions.push(g),a&&(this.instructions.push(Pm),this.hitDetectionInstructions.push(Pm)),n=u}return o&&(this.instructions.push(Ml),this.hitDetectionInstructions.push(Ml)),a&&(this.instructions.push(ki),this.hitDetectionInstructions.push(ki)),n}drawCircle(t,n,i){const r=this.state,s=r.fillStyle,o=r.strokeStyle;if(s===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([X.SET_FILL_STYLE,we]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([X.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Jn,ti]);const a=t.getFlatCoordinates(),l=t.getStride(),h=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,l,!1,!1);const u=[X.CIRCLE,h];this.instructions.push(yr,u),this.hitDetectionInstructions.push(yr,u),r.fillStyle!==void 0&&(this.instructions.push(Ml),this.hitDetectionInstructions.push(Ml)),r.strokeStyle!==void 0&&(this.instructions.push(ki),this.hitDetectionInstructions.push(ki)),this.endGeometry(n)}drawPolygon(t,n,i){const r=this.state,s=r.fillStyle,o=r.strokeStyle;if(s===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([X.SET_FILL_STYLE,we]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([X.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Jn,ti]);const a=t.getEnds(),l=t.getOrientedFlatCoordinates(),h=t.getStride();this.drawFlatCoordinatess_(l,0,a,h),this.endGeometry(n)}drawMultiPolygon(t,n,i){const r=this.state,s=r.fillStyle,o=r.strokeStyle;if(s===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([X.SET_FILL_STYLE,we]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([X.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Jn,ti]);const a=t.getEndss(),l=t.getOrientedFlatCoordinates(),h=t.getStride();let u=0;for(let c=0,f=a.length;c<f;++c)u=this.drawFlatCoordinatess_(l,u,a[c],h);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(t!==0){const n=this.coordinates;for(let i=0,r=n.length;i<r;++i)n[i]=hr(n[i],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;t.fillStyle!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)}}function oS(e,t,n,i,r){const s=[];let o=n,a=0,l=t.slice(n,2);for(;a<e&&o+r<i;){const[h,u]=l.slice(-2),c=t[o+r],f=t[o+r+1],g=Math.sqrt((c-h)*(c-h)+(f-u)*(f-u));if(a+=g,a>=e){const d=(e-a+g)/g,p=ke(h,c,d),v=ke(u,f,d);l.push(p,v),s.push(l),l=[p,v],a==e&&(o+=r),a=0}else if(a<e)l.push(t[o+r],t[o+r+1]),o+=r;else{const d=g-a,p=ke(h,c,d/g),v=ke(u,f,d/g);l.push(p,v),s.push(l),l=[p,v],a=0,o+=r}}return a>0&&s.push(l),s}function aS(e,t,n,i,r){let s=n,o=n,a=0,l=0,h=n,u,c,f,g,d,p,v,_,m,y;for(c=n;c<i;c+=r){const x=t[c],E=t[c+1];d!==void 0&&(m=x-d,y=E-p,g=Math.sqrt(m*m+y*y),v!==void 0&&(l+=f,u=Math.acos((v*m+_*y)/(f*g)),u>e&&(l>a&&(a=l,s=h,o=c),l=0,h=c-r)),f=g,v=m,_=y),d=x,p=E}return l+=g,l>a?[h,c]:[s,o]}const Sh={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class lS extends Ba{constructor(t,n,i,r){super(t,n,i,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[we]={fillStyle:we},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,n,i){const r=this.textFillState_,s=this.textStrokeState_,o=this.textState_;if(this.text_===""||!o||!r&&!s)return;const a=this.coordinates;let l=a.length;const h=t.getType();let u=null,c=t.getStride();if(o.placement==="line"&&(h=="LineString"||h=="MultiLineString"||h=="Polygon"||h=="MultiPolygon")){if(!Me(this.maxExtent,t.getExtent()))return;let f;if(u=t.getFlatCoordinates(),h=="LineString")f=[u.length];else if(h=="MultiLineString")f=t.getEnds();else if(h=="Polygon")f=t.getEnds().slice(0,1);else if(h=="MultiPolygon"){const v=t.getEndss();f=[];for(let _=0,m=v.length;_<m;++_)f.push(v[_][0])}this.beginGeometry(t,n,i);const g=o.repeat,d=g?void 0:o.textAlign;let p=0;for(let v=0,_=f.length;v<_;++v){let m;g?m=oS(g*this.resolution,u,p,f[v],c):m=[u.slice(p,f[v])];for(let y=0,x=m.length;y<x;++y){const E=m[y];let w=0,S=E.length;if(d==null){const R=aS(o.maxAngle,E,0,E.length,2);w=R[0],S=R[1]}for(let R=w;R<S;R+=c)a.push(E[R],E[R+1]);const M=a.length;p=f[v],this.drawChars_(l,M),l=M}}this.endGeometry(n)}else{let f=o.overflow?null:[];switch(h){case"Point":case"MultiPoint":u=t.getFlatCoordinates();break;case"LineString":u=t.getFlatMidpoint();break;case"Circle":u=t.getCenter();break;case"MultiLineString":u=t.getFlatMidpoints(),c=2;break;case"Polygon":u=t.getFlatInteriorPoint(),o.overflow||f.push(u[2]/this.resolution),c=3;break;case"MultiPolygon":const m=t.getFlatInteriorPoints();u=[];for(let y=0,x=m.length;y<x;y+=3)o.overflow||f.push(m[y+2]/this.resolution),u.push(m[y],m[y+1]);if(u.length===0)return;c=2;break}const g=this.appendFlatPointCoordinates(u,c);if(g===l)return;if(f&&(g-l)/2!==u.length/c){let m=l/2;f=f.filter((y,x)=>{const E=a[(m+x)*2]===u[x*c]&&a[(m+x)*2+1]===u[x*c+1];return E||--m,E})}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&this.updateFillStyle(this.state,this.createFill),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,n,i);let d=o.padding;if(d!=_r&&(o.scale[0]<0||o.scale[1]<0)){let m=o.padding[0],y=o.padding[1],x=o.padding[2],E=o.padding[3];o.scale[0]<0&&(y=-y,E=-E),o.scale[1]<0&&(m=-m,x=-x),d=[m,y,x,E]}const p=this.pixelRatio;this.instructions.push([X.DRAW_IMAGE,l,g,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,d==_r?_r:d.map(function(m){return m*p}),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]);const v=1/p,_=this.state.fillStyle;o.backgroundFill&&(this.state.fillStyle=we,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([X.DRAW_IMAGE,l,g,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[v,v],NaN,this.declutterMode_,this.declutterImageWithText_,d,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?we:this.fillKey_,this.textOffsetX_,this.textOffsetY_,f]),o.backgroundFill&&(this.state.fillStyle=_,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(n)}}saveTextStates_(){const t=this.textStrokeState_,n=this.textState_,i=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const s=this.textKey_;s in this.textStates||(this.textStates[s]={font:n.font,textAlign:n.textAlign||Ea,justify:n.justify,textBaseline:n.textBaseline||xh,scale:n.scale});const o=this.fillKey_;i&&(o in this.fillStates||(this.fillStates[o]={fillStyle:i.fillStyle}))}drawChars_(t,n){const i=this.textStrokeState_,r=this.textState_,s=this.strokeKey_,o=this.textKey_,a=this.fillKey_;this.saveTextStates_();const l=this.pixelRatio,h=Sh[r.textBaseline],u=this.textOffsetY_*l,c=this.text_,f=i?i.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([X.DRAW_CHARS,t,n,h,r.overflow,a,r.maxAngle,l,u,s,f*l,c,o,1,this.declutterMode_]),this.hitDetectionInstructions.push([X.DRAW_CHARS,t,n,h,r.overflow,a&&we,r.maxAngle,l,u,s,f*l,c,o,1/l,this.declutterMode_])}setTextStyle(t,n){let i,r,s;if(!t)this.text_="";else{const o=t.getFill();o?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=An(o.getColor()||we)):(r=null,this.textFillState_=r);const a=t.getStroke();if(!a)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);const d=a.getLineDash(),p=a.getLineDashOffset(),v=a.getWidth(),_=a.getMiterLimit();s.lineCap=a.getLineCap()||Bs,s.lineDash=d?d.slice():Jn,s.lineDashOffset=p===void 0?ti:p,s.lineJoin=a.getLineJoin()||js,s.lineWidth=v===void 0?wa:v,s.miterLimit=_===void 0?va:_,s.strokeStyle=An(a.getColor()||xa)}i=this.textState_;const l=t.getFont()||m1;Vw(l);const h=t.getScaleArray();i.overflow=t.getOverflow(),i.font=l,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.repeat=t.getRepeat(),i.justify=t.getJustify(),i.textBaseline=t.getTextBaseline()||xh,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||_r,i.scale=h===void 0?[1,1]:h;const u=t.getOffsetX(),c=t.getOffsetY(),f=t.getRotateWithView(),g=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=u===void 0?0:u,this.textOffsetY_=c===void 0?0:c,this.textRotateWithView_=f===void 0?!1:f,this.textRotation_=g===void 0?0:g,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:gt(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+gt(r.fillStyle):""}this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}}const hS={Circle:Lm,Default:Ba,Image:rS,LineString:sS,Polygon:Lm,Text:lS};class uS{constructor(t,n,i,r){this.tolerance_=t,this.maxExtent_=n,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}finish(){const t={};for(const n in this.buildersByZIndex_){t[n]=t[n]||{};const i=this.buildersByZIndex_[n];for(const r in i){const s=i[r].finish();t[n][r]=s}}return t}getBuilder(t,n){const i=t!==void 0?t.toString():"0";let r=this.buildersByZIndex_[i];r===void 0&&(r={},this.buildersByZIndex_[i]=r);let s=r[n];if(s===void 0){const o=hS[n];s=new o(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[n]=s}return s}}class cS extends Fa{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t}getFeatures(t){return at()}getData(t){return null}prepareFrame(t){return at()}renderFrame(t,n){return at()}loadedTileCallback(t,n,i){t[n]||(t[n]={}),t[n][i.tileCoord.toString()]=i}createLoadedTileFinder(t,n,i){return(r,s)=>{const o=this.loadedTileCallback.bind(this,i,r);return t.forEachLoadedTile(n,r,s,o)}}forEachFeatureAtCoordinate(t,n,i,r,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){const n=t.target;(n.getState()===et.LOADED||n.getState()===et.ERROR)&&this.renderIfReadyAndVisible()}loadImage(t){let n=t.getState();return n!=et.LOADED&&n!=et.ERROR&&t.addEventListener(Q.CHANGE,this.boundHandleImageChange_),n==et.IDLE&&(t.load(),n=t.getState()),n==et.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&t.getSourceState()==="ready"&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}}class O1 extends li{constructor(t,n,i,r){super(t),this.inversePixelTransform=n,this.frameState=i,this.context=r}}class k1{constructor(){bg(this,"pushMethodArgs_",(...t)=>(this.instructions_[this.zIndex+this.offset_].push(t),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(vh(),{get:(t,n)=>{if(typeof vh()[n]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n),this.pushMethodArgs_},set:(t,n,i)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n,i),!0)})}pushFunction(t){this.instructions_[this.zIndex+this.offset_].push(t)}getContext(){return this.context_}draw(t){this.instructions_.forEach(n=>{for(let i=0,r=n.length;i<r;++i){const s=n[i];if(typeof s=="function"){s(t);continue}const o=n[++i];if(typeof t[s]=="function")t[s](...o);else{if(typeof o=="function"){t[s]=o(t);continue}t[s]=o}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const Om=[];let Vr=null;function fS(){Vr=Jt(1,1,void 0,{willReadFrequently:!0})}class N1 extends cS{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=gn(),this.pixelTransform=gn(),this.inversePixelTransform=gn(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(t,n,i){Vr||fS(),Vr.clearRect(0,0,1,1);let r;try{Vr.drawImage(t,n,i,1,1,0,0,1,1),r=Vr.getImageData(0,0,1,1).data}catch{return Vr=null,null}return r}getBackground(t){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(t.viewState.resolution)),i||void 0}useContainer(t,n,i){const r=this.getLayer().getClassName();let s,o;if(t&&t.className===r&&(!i||t&&t.style.backgroundColor&&Ji(ya(t.style.backgroundColor),ya(i)))){const a=t.firstElementChild;a instanceof HTMLCanvasElement&&(o=a.getContext("2d"))}if(o&&o.canvas.style.transform===n?(this.container=t,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){s=document.createElement("div"),s.className=r;let a=s.style;a.position="absolute",a.width="100%",a.height="100%",o=Jt();const l=o.canvas;s.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=s,this.context=o}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(t,n,i){const r=kr(i),s=nu(i),o=eu(i),a=tu(i);qt(n.coordinateToPixelTransform,r),qt(n.coordinateToPixelTransform,s),qt(n.coordinateToPixelTransform,o),qt(n.coordinateToPixelTransform,a);const l=this.inversePixelTransform;qt(l,r),qt(l,s),qt(l,o),qt(l,a),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.clip()}prepareContainer(t,n){const i=t.extent,r=t.viewState.resolution,s=t.viewState.rotation,o=t.pixelRatio,a=Math.round(ht(i)/r*o),l=Math.round(ae(i)/r*o);oi(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/o,1/o,s,-a/2,-l/2),by(this.inversePixelTransform,this.pixelTransform);const h=F2(this.pixelTransform);if(this.useContainer(n,h,this.getBackground(t)),!this.containerReused){const u=this.context.canvas;u.width!=a||u.height!=l?(u.width=a,u.height=l):this.context.clearRect(0,0,a,l),h!==u.style.transform&&(u.style.transform=h)}}dispatchRenderEvent_(t,n,i){const r=this.getLayer();if(r.hasListener(t)){const s=new O1(t,this.inversePixelTransform,i,n);r.dispatchEvent(s)}}preRender(t,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(Qe.PRERENDER,t,n)}postRender(t,n){n.declutter||this.dispatchRenderEvent_(Qe.POSTRENDER,t,n)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new k1),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_(Qe.PRERENDER,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_(Qe.POSTRENDER,this.context,t))}getRenderTransform(t,n,i,r,s,o,a){const l=s/2,h=o/2,u=r/n,c=-u,f=-t[0]+a,g=-t[1];return oi(this.tempTransform,l,h,u,c,-i,f,g)}disposeInternal(){delete this.frameState,super.disposeInternal()}}function dS(e,t,n,i,r,s,o,a,l,h,u,c){let f=e[t],g=e[t+1],d=0,p=0,v=0,_=0;function m(){d=f,p=g,t+=i,f=e[t],g=e[t+1],_+=v,v=Math.sqrt((f-d)*(f-d)+(g-p)*(g-p))}do m();while(t<n-i&&_+v<s);let y=v===0?0:(s-_)/v;const x=ke(d,f,y),E=ke(p,g,y),w=t-i,S=_,M=s+a*l(h,r,u);for(;t<n-i&&_+v<M;)m();y=v===0?0:(M-_)/v;const R=ke(d,f,y),O=ke(p,g,y);let F;if(c){const k=[x,E,R,O];Qy(k,0,4,2,c,k,k),F=k[0]>k[2]}else F=x>R;const B=Math.PI,$=[],Y=w+i===t;t=w,v=0,_=S,f=e[t],g=e[t+1];let Z;if(Y){m(),Z=Math.atan2(g-p,f-d),F&&(Z+=Z>0?-B:B);const k=(R+x)/2,it=(O+E)/2;return $[0]=[k,it,(M-s)/2,Z,r],$}r=r.replace(/\n/g," ");for(let k=0,it=r.length;k<it;){m();let I=Math.atan2(g-p,f-d);if(F&&(I+=I>0?-B:B),Z!==void 0){let L=I-Z;if(L+=L>B?-2*B:L<-B?2*B:0,Math.abs(L)>o)return null}Z=I;const z=k;let N=0;for(;k<it;++k){const L=F?it-k-1:k,zt=a*l(h,r[L],u);if(t+i<n&&_+v<s+N+zt/2)break;N+=zt}if(k===z)continue;const U=F?r.substring(it-z,it-k):r.substring(z,k);y=v===0?0:(s+N/2-_)/v;const W=ke(d,f,y),ut=ke(p,g,y);$.push([W,ut,N/2,I,U]),s+=N}return $}const Gr=rn(),_i=[],Un=[],Wn=[],yi=[];function km(e){return e[3].declutterBox}const Nm=new RegExp("[-----]");function uc(e,t){return t==="start"?t=Nm.test(e)?"right":"left":t==="end"&&(t=Nm.test(e)?"left":"right"),Sh[t]}function gS(e,t,n){return n>0&&e.push(`
`,""),e.push(t,""),e}class mS{constructor(t,n,i,r,s){this.overlaps=i,this.pixelRatio=n,this.resolution=t,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=gn(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=s?new k1:null}getZIndexContext(){return this.zIndexContext_}createLabel(t,n,i,r){const s=t+n+i+r;if(this.labels_[s])return this.labels_[s];const o=r?this.strokeStates[r]:null,a=i?this.fillStates[i]:null,l=this.textStates[n],h=this.pixelRatio,u=[l.scale[0]*h,l.scale[1]*h],c=Array.isArray(t),f=l.justify?Sh[l.justify]:uc(Array.isArray(t)?t[0]:t,l.textAlign||Ea),g=r&&o.lineWidth?o.lineWidth:0,d=c?t:t.split(`
`).reduce(gS,[]),{width:p,height:v,widths:_,heights:m,lineWidths:y}=Yw(l,d),x=p+g,E=[],w=(x+2)*u[0],S=(v+g)*u[1],M={width:w<0?Math.floor(w):Math.ceil(w),height:S<0?Math.floor(S):Math.ceil(S),contextInstructions:E};(u[0]!=1||u[1]!=1)&&E.push("scale",u),r&&(E.push("strokeStyle",o.strokeStyle),E.push("lineWidth",g),E.push("lineCap",o.lineCap),E.push("lineJoin",o.lineJoin),E.push("miterLimit",o.miterLimit),E.push("setLineDash",[o.lineDash]),E.push("lineDashOffset",o.lineDashOffset)),i&&E.push("fillStyle",a.fillStyle),E.push("textBaseline","middle"),E.push("textAlign","center");const R=.5-f;let O=f*x+R*g;const F=[],B=[];let $=0,Y=0,Z=0,k=0,it;for(let I=0,z=d.length;I<z;I+=2){const N=d[I];if(N===`
`){Y+=$,$=0,O=f*x+R*g,++k;continue}const U=d[I+1]||l.font;U!==it&&(r&&F.push("font",U),i&&B.push("font",U),it=U),$=Math.max($,m[Z]);const W=[N,O+R*_[Z]+f*(_[Z]-y[k]),.5*(g+$)+Y];O+=_[Z],r&&F.push("strokeText",W),i&&B.push("fillText",W),++Z}return Array.prototype.push.apply(E,F),Array.prototype.push.apply(E,B),this.labels_[s]=M,M}replayTextBackground_(t,n,i,r,s,o,a){t.beginPath(),t.moveTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,s),t.lineTo.apply(t,n),o&&(this.alignAndScaleFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())}calculateImageOrLabelDimensions_(t,n,i,r,s,o,a,l,h,u,c,f,g,d,p,v){a*=f[0],l*=f[1];let _=i-a,m=r-l;const y=s+h>t?t-h:s,x=o+u>n?n-u:o,E=d[3]+y*f[0]+d[1],w=d[0]+x*f[1]+d[2],S=_-d[3],M=m-d[0];(p||c!==0)&&(_i[0]=S,yi[0]=S,_i[1]=M,Un[1]=M,Un[0]=S+E,Wn[0]=Un[0],Wn[1]=M+w,yi[1]=Wn[1]);let R;return c!==0?(R=oi(gn(),i,r,1,1,c,-i,-r),qt(R,_i),qt(R,Un),qt(R,Wn),qt(R,yi),$i(Math.min(_i[0],Un[0],Wn[0],yi[0]),Math.min(_i[1],Un[1],Wn[1],yi[1]),Math.max(_i[0],Un[0],Wn[0],yi[0]),Math.max(_i[1],Un[1],Wn[1],yi[1]),Gr)):$i(Math.min(S,S+E),Math.min(M,M+w),Math.max(S,S+E),Math.max(M,M+w),Gr),g&&(_=Math.round(_),m=Math.round(m)),{drawImageX:_,drawImageY:m,drawImageW:y,drawImageH:x,originX:h,originY:u,declutterBox:{minX:Gr[0],minY:Gr[1],maxX:Gr[2],maxY:Gr[3],value:v},canvasTransform:R,scale:f}}replayImageOrLabel_(t,n,i,r,s,o,a){const l=!!(o||a),h=r.declutterBox,u=a?a[2]*r.scale[0]/2:0;return h.minX-u<=n[0]&&h.maxX+u>=0&&h.minY-u<=n[1]&&h.maxY+u>=0&&(l&&this.replayTextBackground_(t,_i,Un,Wn,yi,o,a),qw(t,r.canvasTransform,s,i,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(t){const n=this.alignAndScaleFill_;if(n){const i=qt(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;t.save(),t.translate(i[0]%r,i[1]%r),n!==1&&t.scale(n,n),t.rotate(this.viewRotation_)}t.fill(),n&&t.restore()}setStrokeStyle_(t,n){t.strokeStyle=n[1],t.lineWidth=n[2],t.lineCap=n[3],t.lineJoin=n[4],t.miterLimit=n[5],t.lineDashOffset=n[7],t.setLineDash(n[6])}drawLabelWithPointPlacement_(t,n,i,r){const s=this.textStates[n],o=this.createLabel(t,n,r,i),a=this.strokeStates[i],l=this.pixelRatio,h=uc(Array.isArray(t)?t[0]:t,s.textAlign||Ea),u=Sh[s.textBaseline||xh],c=a&&a.lineWidth?a.lineWidth:0,f=o.width/l-2*s.scale[0],g=h*f+2*(.5-h)*c,d=u*o.height/l+2*(.5-u)*c;return{label:o,anchorX:g,anchorY:d}}execute_(t,n,i,r,s,o,a,l){const h=this.zIndexContext_;let u;this.pixelCoordinates_&&Ji(i,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=Ui(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),N2(this.renderedTransform_,i));let c=0;const f=r.length;let g=0,d,p,v,_,m,y,x,E,w,S,M,R,O,F=0,B=0,$=null,Y=null;const Z=this.coordinateCache_,k=this.viewRotation_,it=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,I={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:k},z=this.instructions!=r||this.overlaps?0:200;let N,U,W,ut;for(;c<f;){const L=r[c];switch(L[0]){case X.BEGIN_GEOMETRY:N=L[1],ut=L[3],N.getGeometry()?a!==void 0&&!Me(a,ut.getExtent())?c=L[2]+1:++c:c=L[2],h&&(h.zIndex=L[4]);break;case X.BEGIN_PATH:F>z&&(this.fill_(t),F=0),B>z&&(t.stroke(),B=0),!F&&!B&&(t.beginPath(),m=NaN,y=NaN),++c;break;case X.CIRCLE:g=L[1];const Et=u[g],yt=u[g+1],sn=u[g+2],tr=u[g+3],ue=sn-Et,Ha=tr-yt,to=Math.sqrt(ue*ue+Ha*Ha);t.moveTo(Et+to,yt),t.arc(Et,yt,to,0,2*Math.PI,!0),++c;break;case X.CLOSE_PATH:t.closePath(),++c;break;case X.CUSTOM:g=L[1],d=L[2];const Su=L[3],ci=L[4],eo=L[5];I.geometry=Su,I.feature=N,c in Z||(Z[c]=[]);const fi=Z[c];eo?eo(u,g,d,2,fi):(fi[0]=u[g],fi[1]=u[g+1],fi.length=2),h&&(h.zIndex=L[6]),ci(fi,I),++c;break;case X.DRAW_IMAGE:g=L[1],d=L[2],w=L[3],p=L[4],v=L[5];let no=L[6];const Za=L[7],Cu=L[8],on=L[9],je=L[10];let zn=L[11];const er=L[12];let nr=L[13];_=L[14]||"declutter";const di=L[15];if(!w&&L.length>=20){S=L[19],M=L[20],R=L[21],O=L[22];const Ue=this.drawLabelWithPointPlacement_(S,M,R,O);w=Ue.label,L[3]=w;const rr=L[23];p=(Ue.anchorX-rr)*this.pixelRatio,L[4]=p;const We=L[24];v=(Ue.anchorY-We)*this.pixelRatio,L[5]=v,no=w.height,L[6]=no,nr=w.width,L[13]=nr}let ir;L.length>25&&(ir=L[25]);let gi,Dr,Vt;L.length>17?(gi=L[16],Dr=L[17],Vt=L[18]):(gi=_r,Dr=!1,Vt=!1),je&&it?zn+=k:!je&&!it&&(zn-=k);let $v=0;for(;g<d;g+=2){if(ir&&ir[$v++]<nr/this.pixelRatio)continue;const Ue=this.calculateImageOrLabelDimensions_(w.width,w.height,u[g],u[g+1],nr,no,p,v,Cu,on,zn,er,s,gi,Dr||Vt,N),rr=[t,n,w,Ue,Za,Dr?$:null,Vt?Y:null];if(l){let We,xn,Xe;if(di){const It=d-g;if(!di[It]){di[It]={args:rr,declutterMode:_};continue}const ce=di[It];We=ce.args,xn=ce.declutterMode,delete di[It],Xe=km(We)}let Gn,Bn;if(We&&(xn!=="declutter"||!l.collides(Xe))&&(Gn=!0),(_!=="declutter"||!l.collides(Ue.declutterBox))&&(Bn=!0),xn==="declutter"&&_==="declutter"){const It=Gn&&Bn;Gn=It,Bn=It}Gn&&(xn!=="none"&&l.insert(Xe),this.replayImageOrLabel_.apply(this,We)),Bn&&(_!=="none"&&l.insert(Ue.declutterBox),this.replayImageOrLabel_.apply(this,rr))}else this.replayImageOrLabel_.apply(this,rr)}++c;break;case X.DRAW_CHARS:const Pg=L[1],Lg=L[2],Ru=L[3],Yv=L[4];O=L[5];const qv=L[6],Og=L[7],kg=L[8];R=L[9];const Tu=L[10];S=L[11],M=L[12];const Ng=[L[13],L[13]];_=L[14]||"declutter";const Iu=this.textStates[M],io=Iu.font,ro=[Iu.scale[0]*Og,Iu.scale[1]*Og];let so;io in this.widths_?so=this.widths_[io]:(so={},this.widths_[io]=so);const Dg=d1(u,Pg,Lg,2),Fg=Math.abs(ro[0])*_m(io,S,so);if(Yv||Fg<=Dg){const Ue=this.textStates[M].textAlign,rr=(Dg-Fg)*uc(S,Ue),We=dS(u,Pg,Lg,2,S,rr,qv,Math.abs(ro[0]),_m,io,so,it?0:this.viewRotation_);t:if(We){const xn=[];let Xe,Gn,Bn,It,ce;if(R)for(Xe=0,Gn=We.length;Xe<Gn;++Xe){ce=We[Xe],Bn=ce[4],It=this.createLabel(Bn,M,"",R),p=ce[2]+(ro[0]<0?-Tu:Tu),v=Ru*It.height+(.5-Ru)*2*Tu*ro[1]/ro[0]-kg;const jn=this.calculateImageOrLabelDimensions_(It.width,It.height,ce[0],ce[1],It.width,It.height,p,v,0,0,ce[3],Ng,!1,_r,!1,N);if(l&&_==="declutter"&&l.collides(jn.declutterBox))break t;xn.push([t,n,It,jn,1,null,null])}if(O)for(Xe=0,Gn=We.length;Xe<Gn;++Xe){ce=We[Xe],Bn=ce[4],It=this.createLabel(Bn,M,O,""),p=ce[2],v=Ru*It.height-kg;const jn=this.calculateImageOrLabelDimensions_(It.width,It.height,ce[0],ce[1],It.width,It.height,p,v,0,0,ce[3],Ng,!1,_r,!1,N);if(l&&_==="declutter"&&l.collides(jn.declutterBox))break t;xn.push([t,n,It,jn,1,null,null])}l&&_!=="none"&&l.load(xn.map(km));for(let jn=0,Kv=xn.length;jn<Kv;++jn)this.replayImageOrLabel_.apply(this,xn[jn])}}++c;break;case X.END_GEOMETRY:if(o!==void 0){N=L[1];const Ue=o(N,ut,_);if(Ue)return Ue}++c;break;case X.FILL:z?F++:this.fill_(t),++c;break;case X.MOVE_TO_LINE_TO:for(g=L[1],d=L[2],U=u[g],W=u[g+1],t.moveTo(U,W),m=U+.5|0,y=W+.5|0,g+=2;g<d;g+=2)U=u[g],W=u[g+1],x=U+.5|0,E=W+.5|0,(g==d-2||x!==m||E!==y)&&(t.lineTo(U,W),m=x,y=E);++c;break;case X.SET_FILL_STYLE:$=L,this.alignAndScaleFill_=L[2],F&&(this.fill_(t),F=0,B&&(t.stroke(),B=0)),t.fillStyle=L[1],++c;break;case X.SET_STROKE_STYLE:Y=L,B&&(t.stroke(),B=0),this.setStrokeStyle_(t,L),++c;break;case X.STROKE:z?B++:t.stroke(),++c;break;default:++c;break}}F&&this.fill_(t),B&&t.stroke()}execute(t,n,i,r,s,o){this.viewRotation_=r,this.execute_(t,n,i,this.instructions,s,void 0,void 0,o)}executeHitDetection(t,n,i,r,s){return this.viewRotation_=i,this.execute_(t,[t.canvas.width,t.canvas.height],n,this.hitDetectionInstructions,!0,r,s)}}const hs=["Polygon","Circle","LineString","Image","Text","Default"],D1=["Image","Text"],pS=hs.filter(e=>!D1.includes(e));class _S{constructor(t,n,i,r,s,o,a){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=n,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=gn(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(s,a)}clip(t,n){const i=this.getClipCoords(n);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()}createExecutors_(t,n){for(const i in t){let r=this.executorsByZIndex_[i];r===void 0&&(r={},this.executorsByZIndex_[i]=r);const s=t[i];for(const o in s){const a=s[o];r[o]=new mS(this.resolution_,this.pixelRatio_,this.overlaps_,a,n)}}}hasExecutors(t){for(const n in this.executorsByZIndex_){const i=this.executorsByZIndex_[n];for(let r=0,s=t.length;r<s;++r)if(t[r]in i)return!0}return!1}forEachFeatureAtCoordinate(t,n,i,r,s,o){r=Math.round(r);const a=r*2+1,l=oi(this.hitDetectionTransform_,r+.5,r+.5,1/n,-1/n,-i,-t[0],-t[1]),h=!this.hitDetectionContext_;h&&(this.hitDetectionContext_=Jt(a,a,void 0,{willReadFrequently:!0}));const u=this.hitDetectionContext_;u.canvas.width!==a||u.canvas.height!==a?(u.canvas.width=a,u.canvas.height=a):h||u.clearRect(0,0,a,a);let c;this.renderBuffer_!==void 0&&(c=rn(),jo(c,t),jd(c,n*(this.renderBuffer_+r),c));const f=yS(r);let g;function d(E,w,S){const M=u.getImageData(0,0,a,a).data;for(let R=0,O=f.length;R<O;R++)if(M[f[R]]>0){if(!o||S==="none"||g!=="Image"&&g!=="Text"||o.includes(E)){const F=(f[R]-3)/4,B=r-F%a,$=r-(F/a|0),Y=s(E,w,B*B+$*$);if(Y)return Y}u.clearRect(0,0,a,a);break}}const p=Object.keys(this.executorsByZIndex_).map(Number);p.sort(Qn);let v,_,m,y,x;for(v=p.length-1;v>=0;--v){const E=p[v].toString();for(m=this.executorsByZIndex_[E],_=hs.length-1;_>=0;--_)if(g=hs[_],y=m[g],y!==void 0&&(x=y.executeHitDetection(u,l,i,d,c),x))return x}}getClipCoords(t){const n=this.maxExtent_;if(!n)return null;const i=n[0],r=n[1],s=n[2],o=n[3],a=[i,r,i,o,s,o,s,r];return Ui(a,0,8,2,t,a),a}isEmpty(){return Ds(this.executorsByZIndex_)}execute(t,n,i,r,s,o,a){const l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(Qn),o=o||hs;const h=hs.length;let u,c,f,g,d;for(a&&l.reverse(),u=0,c=l.length;u<c;++u){const p=l[u].toString();for(d=this.executorsByZIndex_[p],f=0,g=o.length;f<g;++f){const v=o[f],_=d[v];if(_!==void 0){const m=a===null?void 0:_.getZIndexContext(),y=m?m.getContext():t,x=this.maxExtent_&&v!=="Image"&&v!=="Text";if(x&&(y.save(),this.clip(y,i)),!m||v==="Text"||v==="Image"?_.execute(y,n,i,r,s,a):m.pushFunction(E=>_.execute(E,n,i,r,s,a)),x&&y.restore(),m){m.offset();const E=l[u]*h+f;this.deferredZIndexContexts_[E]||(this.deferredZIndexContexts_[E]=[]),this.deferredZIndexContexts_[E].push(m)}}}}this.renderedContext_=t}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const t=this.deferredZIndexContexts_,n=Object.keys(t).map(Number).sort(Qn);for(let i=0,r=n.length;i<r;++i)t[n[i]].forEach(s=>{s.draw(this.renderedContext_),s.clear()}),t[n[i]].length=0}}const cc={};function yS(e){if(cc[e]!==void 0)return cc[e];const t=e*2+1,n=e*e,i=new Array(n+1);for(let s=0;s<=e;++s)for(let o=0;o<=e;++o){const a=s*s+o*o;if(a>n)break;let l=i[a];l||(l=[],i[a]=l),l.push(((e+s)*t+(e+o))*4+3),s>0&&l.push(((e-s)*t+(e+o))*4+3),o>0&&(l.push(((e+s)*t+(e-o))*4+3),s>0&&l.push(((e-s)*t+(e-o))*4+3))}const r=[];for(let s=0,o=i.length;s<o;++s)i[s]&&r.push(...i[s]);return cc[e]=r,r}class vS extends L1{constructor(t,n,i,r,s,o,a){super(),this.context_=t,this.pixelRatio_=n,this.extent_=i,this.transform_=r,this.transformRotation_=r?$d(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=s,this.squaredTolerance_=o,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=gn()}drawImages_(t,n,i,r){if(!this.image_)return;const s=Ui(t,n,i,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,l=o.globalAlpha;this.imageOpacity_!=1&&(o.globalAlpha=l*this.imageOpacity_);let h=this.imageRotation_;this.transformRotation_===0&&(h-=this.viewRotation_),this.imageRotateWithView_&&(h+=this.viewRotation_);for(let u=0,c=s.length;u<c;u+=2){const f=s[u]-this.imageAnchorX_,g=s[u+1]-this.imageAnchorY_;if(h!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const d=f+this.imageAnchorX_,p=g+this.imageAnchorY_;oi(a,d,p,1,1,h,-d,-p),o.save(),o.transform.apply(o,a),o.translate(d,p),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.restore()}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,f,g,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(o.globalAlpha=l)}drawText_(t,n,i,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const s=Ui(t,n,i,r,this.transform_,this.pixelCoordinates_),o=this.context_;let a=this.textRotation_;for(this.transformRotation_===0&&(a-=this.viewRotation_),this.textRotateWithView_&&(a+=this.viewRotation_);n<i;n+=r){const l=s[n]+this.textOffsetX_,h=s[n+1]+this.textOffsetY_;a!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(o.save(),o.translate(l-this.textOffsetX_,h-this.textOffsetY_),o.rotate(a),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.restore()):(this.textStrokeState_&&o.strokeText(this.text_,l,h),this.textFillState_&&o.fillText(this.text_,l,h))}}moveToLineTo_(t,n,i,r,s){const o=this.context_,a=Ui(t,n,i,r,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);let l=a.length;s&&(l-=2);for(let h=2;h<l;h+=2)o.lineTo(a[h],a[h+1]);return s&&o.closePath(),i}drawRings_(t,n,i,r){for(let s=0,o=i.length;s<o;++s)n=this.moveToLineTo_(t,n,i[s],r,!0);return n}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Me(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=uw(t,this.transform_,this.pixelCoordinates_),i=n[2]-n[0],r=n[3]-n[1],s=Math.sqrt(i*i+r*r),o=this.context_;o.beginPath(),o.arc(n[0],n[1],s,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break}}drawFeature(t,n){const i=n.getGeometryFunction()(t);i&&(this.setStyle(n),this.drawGeometry(i))}drawGeometryCollection(t){const n=t.getGeometriesArray();for(let i=0,r=n.length;i<r;++i)this.drawGeometry(n[i])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(n,0,n.length,i),this.text_!==""&&this.drawText_(n,0,n.length,i)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Me(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,i=t.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),n.stroke()}if(this.text_!==""){const n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getExtent();if(Me(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,r=t.getFlatCoordinates();let s=0;const o=t.getEnds(),a=t.getStride();i.beginPath();for(let l=0,h=o.length;l<h;++l)s=this.moveToLineTo_(r,s,o[l],a,!1);i.stroke()}if(this.text_!==""){const i=t.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Me(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Me(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,i=t.getOrientedFlatCoordinates();let r=0;const s=t.getEndss(),o=t.getStride();n.beginPath();for(let a=0,l=s.length;a<l;++a){const h=s[a];r=this.drawRings_(i,r,h,o)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(t){const n=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,n.fillStyle=t.fillStyle):(n.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const n=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,n.lineCap=t.lineCap),Ji(i.lineDash,t.lineDash)||n.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,n.lineDashOffset=t.lineDashOffset),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,n.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,n.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,n.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,n.strokeStyle=t.strokeStyle)):(n.lineCap=t.lineCap,n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset,n.lineJoin=t.lineJoin,n.lineWidth=t.lineWidth,n.miterLimit=t.miterLimit,n.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const n=this.context_,i=this.contextTextState_,r=t.textAlign?t.textAlign:Ea;i?(i.font!=t.font&&(i.font=t.font,n.font=t.font),i.textAlign!=r&&(i.textAlign=r,n.textAlign=r),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,n.textBaseline=t.textBaseline)):(n.font=t.font,n.textAlign=r,n.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})}setFillStrokeStyle(t,n){if(!t)this.fillState_=null;else{const i=t.getColor();this.fillState_={fillStyle:An(i||we)}}if(!n)this.strokeState_=null;else{const i=n.getColor(),r=n.getLineCap(),s=n.getLineDash(),o=n.getLineDashOffset(),a=n.getLineJoin(),l=n.getWidth(),h=n.getMiterLimit(),u=s||Jn;this.strokeState_={lineCap:r!==void 0?r:Bs,lineDash:this.pixelRatio_===1?u:u.map(c=>c*this.pixelRatio_),lineDashOffset:(o||ti)*this.pixelRatio_,lineJoin:a!==void 0?a:js,lineWidth:(l!==void 0?l:wa)*this.pixelRatio_,miterLimit:h!==void 0?h:va,strokeStyle:An(i||xa)}}}setImageStyle(t){let n;if(!t||!(n=t.getSize())){this.image_=null;return}const i=t.getPixelRatio(this.pixelRatio_),r=t.getAnchor(),s=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*i,this.imageAnchorY_=r[1]*i,this.imageHeight_=n[1]*i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const o=t.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/i,o[1]*this.pixelRatio_/i],this.imageWidth_=n[0]*i}setTextStyle(t){if(!t)this.text_="";else{const n=t.getFill();if(!n)this.textFillState_=null;else{const g=n.getColor();this.textFillState_={fillStyle:An(g||we)}}const i=t.getStroke();if(!i)this.textStrokeState_=null;else{const g=i.getColor(),d=i.getLineCap(),p=i.getLineDash(),v=i.getLineDashOffset(),_=i.getLineJoin(),m=i.getWidth(),y=i.getMiterLimit();this.textStrokeState_={lineCap:d!==void 0?d:Bs,lineDash:p||Jn,lineDashOffset:v||ti,lineJoin:_!==void 0?_:js,lineWidth:m!==void 0?m:wa,miterLimit:y!==void 0?y:va,strokeStyle:An(g||xa)}}const r=t.getFont(),s=t.getOffsetX(),o=t.getOffsetY(),a=t.getRotateWithView(),l=t.getRotation(),h=t.getScaleArray(),u=t.getText(),c=t.getTextAlign(),f=t.getTextBaseline();this.textState_={font:r!==void 0?r:m1,textAlign:c!==void 0?c:Ea,textBaseline:f!==void 0?f:xh},this.text_=u!==void 0?Array.isArray(u)?u.reduce((g,d,p)=>g+=p%2?" ":d,""):u:"",this.textOffsetX_=s!==void 0?this.pixelRatio_*s:0,this.textOffsetY_=o!==void 0?this.pixelRatio_*o:0,this.textRotateWithView_=a!==void 0?a:!1,this.textRotation_=l!==void 0?l:0,this.textScale_=[this.pixelRatio_*h[0],this.pixelRatio_*h[1]]}}}const Rn=.5;function xS(e,t,n,i,r,s,o,a,l){const h=r,u=e[0]*Rn,c=e[1]*Rn,f=Jt(u,c);f.imageSmoothingEnabled=!1;const g=f.canvas,d=new vS(f,Rn,r,null,o,a,null),p=n.length,v=Math.floor((256*256*256-1)/p),_={};for(let y=1;y<=p;++y){const x=n[y-1],E=x.getStyleFunction()||i;if(!E)continue;let w=E(x,s);if(!w)continue;Array.isArray(w)||(w=[w]);const M=(y*v).toString(16).padStart(7,"#00000");for(let R=0,O=w.length;R<O;++R){const F=w[R],B=F.getGeometryFunction()(x);if(!B||!Me(h,B.getExtent()))continue;const $=F.clone(),Y=$.getFill();Y&&Y.setColor(M);const Z=$.getStroke();Z&&(Z.setColor(M),Z.setLineDash(null)),$.setText(void 0);const k=F.getImage();if(k){const N=k.getImageSize();if(!N)continue;const U=Jt(N[0],N[1],void 0,{alpha:!1}),W=U.canvas;U.fillStyle=M,U.fillRect(0,0,W.width,W.height),$.setImage(new za({img:W,anchor:k.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:k.getOrigin(),opacity:1,size:k.getSize(),scale:k.getScale(),rotation:k.getRotation(),rotateWithView:k.getRotateWithView()}))}const it=$.getZIndex()||0;let I=_[it];I||(I={},_[it]=I,I.Polygon=[],I.Circle=[],I.LineString=[],I.Point=[]);const z=B.getType();if(z==="GeometryCollection"){const N=B.getGeometriesArrayRecursive();for(let U=0,W=N.length;U<W;++U){const ut=N[U];I[ut.getType().replace("Multi","")].push(ut,$)}}else I[z.replace("Multi","")].push(B,$)}}const m=Object.keys(_).map(Number).sort(Qn);for(let y=0,x=m.length;y<x;++y){const E=_[m[y]];for(const w in E){const S=E[w];for(let M=0,R=S.length;M<R;M+=2){d.setStyle(S[M+1]);for(let O=0,F=t.length;O<F;++O)d.setTransform(t[O]),d.drawGeometry(S[M])}}}return f.getImageData(0,0,g.width,g.height)}function ES(e,t,n){const i=[];if(n){const r=Math.floor(Math.round(e[0])*Rn),s=Math.floor(Math.round(e[1])*Rn),o=(Ot(r,0,n.width-1)+Ot(s,0,n.height-1)*n.width)*4,a=n.data[o],l=n.data[o+1],u=n.data[o+2]+256*(l+256*a),c=Math.floor((256*256*256-1)/t.length);u&&u%c===0&&i.push(t[u/c-1])}return i}const wS=.5,F1={Point:PS,LineString:TS,Polygon:OS,MultiPoint:LS,MultiLineString:IS,MultiPolygon:AS,GeometryCollection:RS,Circle:SS};function MS(e,t){return parseInt(gt(e),10)-parseInt(gt(t),10)}function Dm(e,t){const n=b1(e,t);return n*n}function b1(e,t){return wS*e/t}function SS(e,t,n,i,r){const s=n.getFill(),o=n.getStroke();if(s||o){const l=e.getBuilder(n.getZIndex(),"Circle");l.setFillStrokeStyle(s,o),l.drawCircle(t,i,r)}const a=n.getText();if(a&&a.getText()){const l=e.getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(t,i)}}function Fm(e,t,n,i,r,s,o,a){const l=[],h=n.getImage();if(h){let f=!0;const g=h.getImageState();g==et.LOADED||g==et.ERROR?f=!1:g==et.IDLE&&h.load(),f&&l.push(h.ready())}const u=n.getFill();u&&u.loading()&&l.push(u.ready());const c=l.length>0;return c&&Promise.all(l).then(()=>r(null)),CS(e,t,n,i,s,o,a),c}function CS(e,t,n,i,r,s,o){const a=n.getGeometryFunction()(t);if(!a)return;const l=a.simplifyTransformed(i,r);if(n.getRenderer())z1(e,l,n,t,o);else{const u=F1[l.getType()];u(e,l,n,t,o,s)}}function z1(e,t,n,i,r){if(t.getType()=="GeometryCollection"){const o=t.getGeometries();for(let a=0,l=o.length;a<l;++a)z1(e,o[a],n,i,r);return}e.getBuilder(n.getZIndex(),"Default").drawCustom(t,i,n.getRenderer(),n.getHitDetectionRenderer(),r)}function RS(e,t,n,i,r,s){const o=t.getGeometriesArray();let a,l;for(a=0,l=o.length;a<l;++a){const h=F1[o[a].getType()];h(e,o[a],n,i,r,s)}}function TS(e,t,n,i,r){const s=n.getStroke();if(s){const a=e.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,s),a.drawLineString(t,i,r)}const o=n.getText();if(o&&o.getText()){const a=e.getBuilder(n.getZIndex(),"Text");a.setTextStyle(o),a.drawText(t,i,r)}}function IS(e,t,n,i,r){const s=n.getStroke();if(s){const a=e.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,s),a.drawMultiLineString(t,i,r)}const o=n.getText();if(o&&o.getText()){const a=e.getBuilder(n.getZIndex(),"Text");a.setTextStyle(o),a.drawText(t,i,r)}}function AS(e,t,n,i,r){const s=n.getFill(),o=n.getStroke();if(o||s){const l=e.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(s,o),l.drawMultiPolygon(t,i,r)}const a=n.getText();if(a&&a.getText()){const l=e.getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(t,i,r)}}function PS(e,t,n,i,r,s){const o=n.getImage(),a=n.getText(),l=a&&a.getText(),h=s&&o&&l?{}:void 0;if(o){if(o.getImageState()!=et.LOADED)return;const u=e.getBuilder(n.getZIndex(),"Image");u.setImageStyle(o,h),u.drawPoint(t,i,r)}if(l){const u=e.getBuilder(n.getZIndex(),"Text");u.setTextStyle(a,h),u.drawText(t,i,r)}}function LS(e,t,n,i,r,s){const o=n.getImage(),a=o&&o.getOpacity()!==0,l=n.getText(),h=l&&l.getText(),u=s&&a&&h?{}:void 0;if(a){if(o.getImageState()!=et.LOADED)return;const c=e.getBuilder(n.getZIndex(),"Image");c.setImageStyle(o,u),c.drawMultiPoint(t,i,r)}if(h){const c=e.getBuilder(n.getZIndex(),"Text");c.setTextStyle(l,u),c.drawText(t,i,r)}}function OS(e,t,n,i,r){const s=n.getFill(),o=n.getStroke();if(s||o){const l=e.getBuilder(n.getZIndex(),"Polygon");l.setFillStrokeStyle(s,o),l.drawPolygon(t,i,r)}const a=n.getText();if(a&&a.getText()){const l=e.getBuilder(n.getZIndex(),"Text");l.setTextStyle(a),l.drawText(t,i,r)}}class kS extends N1{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=rn(),this.wrappedRenderedExtent_=rn(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(t,n,i){const r=n.extent,s=n.viewState,o=s.center,a=s.resolution,l=s.projection,h=s.rotation,u=l.getExtent(),c=this.getLayer().getSource(),f=this.getLayer().getDeclutter(),g=n.pixelRatio,d=n.viewHints,p=!(d[re.ANIMATING]||d[re.INTERACTING]),v=this.context,_=Math.round(ht(r)/a*g),m=Math.round(ae(r)/a*g),y=c.getWrapX()&&l.canWrapX(),x=y?ht(u):null,E=y?Math.ceil((r[2]-u[2])/x)+1:1;let w=y?Math.floor((r[0]-u[0])/x):0;do{let S=this.getRenderTransform(o,a,0,g,_,m,w*x);n.declutter&&(S=S.slice(0)),t.execute(v,[v.canvas.width,v.canvas.height],S,h,p,i===void 0?hs:i?D1:pS,i?f&&n.declutter[f]:void 0)}while(++w<E)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=Jt(this.context.canvas.width,this.context.canvas.height,Om))}resetDrawContext_(){if(this.opacity_!==1){const t=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=t,ou(this.context),Om.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(t){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,t,!0)}renderDeferredInternal(t){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(t,n){const i=t.layerStatesArray[t.layerIndex];this.opacity_=i.opacity;const r=t.viewState;this.prepareContainer(t,n);const s=this.context,o=this.replayGroup_;let a=o&&!o.isEmpty();if(!a&&!(this.getLayer().hasListener(Qe.PRERENDER)||this.getLayer().hasListener(Qe.POSTRENDER)))return null;if(this.setDrawContext_(),this.preRender(s,t),r.projection,this.clipped_=!1,a&&i.extent&&this.clipping){const l=dr(i.extent);a=Me(l,t.extent),this.clipped_=a&&!as(l,t.extent),this.clipped_&&this.clipUnrotated(s,t,l)}return a&&this.renderWorlds(o,t,this.getLayer().getDeclutter()?!1:void 0),!t.declutter&&this.clipped_&&s.restore(),this.postRender(s,t),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),t.declutter||this.resetDrawContext_(),this.container}getFeatures(t){return new Promise(n=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const i=this.frameState.size.slice(),r=this.renderedCenter_,s=this.renderedResolution_,o=this.renderedRotation_,a=this.renderedProjection_,l=this.wrappedRenderedExtent_,h=this.getLayer(),u=[],c=i[0]*Rn,f=i[1]*Rn;u.push(this.getRenderTransform(r,s,o,Rn,c,f,0).slice());const g=h.getSource(),d=a.getExtent();if(g.getWrapX()&&a.canWrapX()&&!as(d,l)){let p=l[0];const v=ht(d);let _=0,m;for(;p<d[0];)--_,m=v*_,u.push(this.getRenderTransform(r,s,o,Rn,c,f,m).slice()),p+=v;for(_=0,p=l[2];p>d[2];)++_,m=v*_,u.push(this.getRenderTransform(r,s,o,Rn,c,f,m).slice()),p-=v}this.hitDetectionImageData_=xS(i,u,this.renderedFeatures_,h.getStyleFunction(),l,s,o,Dm(s,this.renderedPixelRatio_))}n(ES(t,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(t,n,i,r,s){if(!this.replayGroup_)return;const o=n.viewState.resolution,a=n.viewState.rotation,l=this.getLayer(),h={},u=function(d,p,v){const _=gt(d),m=h[_];if(m){if(m!==!0&&v<m.distanceSq){if(v===0)return h[_]=!0,s.splice(s.lastIndexOf(m),1),r(d,l,p);m.geometry=p,m.distanceSq=v}}else{if(v===0)return h[_]=!0,r(d,l,p);s.push(h[_]={feature:d,layer:l,geometry:p,distanceSq:v,callback:r})}};let c;const f=[this.replayGroup_],g=this.getLayer().getDeclutter();return f.some(d=>c=d.forEachFeatureAtCoordinate(t,o,a,i,u,g&&n.declutter[g]?n.declutter[g].all().map(p=>p.value):null)),c}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const n=this.getLayer(),i=n.getSource();if(!i)return!1;const r=t.viewHints[re.ANIMATING],s=t.viewHints[re.INTERACTING],o=n.getUpdateWhileAnimating(),a=n.getUpdateWhileInteracting();if(this.ready&&!o&&r||!a&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const l=t.extent,h=t.viewState,u=h.projection,c=h.resolution,f=t.pixelRatio,g=n.getRevision(),d=n.getRenderBuffer();let p=n.getRenderOrder();p===void 0&&(p=MS);const v=h.center.slice(),_=jd(l,d*c),m=_.slice(),y=[_.slice()],x=u.getExtent();if(i.getWrapX()&&u.canWrapX()&&!as(x,t.extent)){const Y=ht(x),Z=Math.max(ht(_)/2,Y);_[0]=x[0]-Z,_[2]=x[2]+Z,$y(v,u);const k=Wy(y[0],u);k[0]<x[0]&&k[2]<x[2]?y.push([k[0]+Y,k[1],k[2]+Y,k[3]]):k[0]>x[0]&&k[2]>x[2]&&y.push([k[0]-Y,k[1],k[2]-Y,k[3]])}if(this.ready&&this.renderedResolution_==c&&this.renderedRevision_==g&&this.renderedRenderOrder_==p&&this.renderedFrameDeclutter_===!!t.declutter&&as(this.wrappedRenderedExtent_,_))return Ji(this.renderedExtent_,m)||(this.hitDetectionImageData_=null,this.renderedExtent_=m),this.renderedCenter_=v,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const E=new uS(b1(c,f),_,c,f);let w;for(let Y=0,Z=y.length;Y<Z;++Y)i.loadFeatures(y[Y],c,u);const S=Dm(c,f);let M=!0;const R=(Y,Z)=>{let k;const it=Y.getStyleFunction()||n.getStyleFunction();if(it&&(k=it(Y,c)),k){const I=this.renderFeature(Y,S,k,E,w,this.getLayer().getDeclutter(),Z);M=M&&!I}},O=Zy(_),F=i.getFeaturesInExtent(O);p&&F.sort(p);for(let Y=0,Z=F.length;Y<Z;++Y)R(F[Y],Y);this.renderedFeatures_=F,this.ready=M;const B=E.finish(),$=new _S(_,c,f,i.getOverlaps(),B,n.getRenderBuffer(),!!t.declutter);return this.renderedResolution_=c,this.renderedRevision_=g,this.renderedRenderOrder_=p,this.renderedFrameDeclutter_=!!t.declutter,this.renderedExtent_=m,this.wrappedRenderedExtent_=_,this.renderedCenter_=v,this.renderedProjection_=u,this.renderedPixelRatio_=f,this.replayGroup_=$,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,n,i,r,s,o,a){if(!i)return!1;let l=!1;if(Array.isArray(i))for(let h=0,u=i.length;h<u;++h)l=Fm(r,t,i[h],n,this.boundHandleStyleImageChange_,s,o,a)||l;else l=Fm(r,t,i,n,this.boundHandleStyleImageChange_,s,o,a);return l}}class NS extends P1{constructor(t){super(t)}createRenderer(){return new kS(this)}}class bm{constructor(t){this.rbush_=new E1(t),this.items_={}}insert(t,n){const i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:n};this.rbush_.insert(i),this.items_[gt(n)]=i}load(t,n){const i=new Array(n.length);for(let r=0,s=n.length;r<s;r++){const o=t[r],a=n[r],l={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};i[r]=l,this.items_[gt(a)]=l}this.rbush_.load(i)}remove(t){const n=gt(t),i=this.items_[n];return delete this.items_[n],this.rbush_.remove(i)!==null}update(t,n){const i=this.items_[gt(n)],r=[i.minX,i.minY,i.maxX,i.maxY];ga(r,t)||(this.remove(n),this.insert(t,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(t){const n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(n).map(function(r){return r.value})}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,n){return this.forEach_(this.getInExtent(t),n)}forEach_(t,n){let i;for(let r=0,s=t.length;r<s;r++)if(i=n(t[r]),i)return i;return i}isEmpty(){return Ds(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const n=this.rbush_.toJSON();return $i(n.minX,n.minY,n.maxX,n.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const n in t.items_)this.items_[n]=t.items_[n]}}function DS(e,t,n,i){const r=[];let s=rn();for(let o=0,a=n.length;o<a;++o){const l=n[o];s=Wd(e,t,l[0],i),r.push((s[0]+s[2])/2,(s[1]+s[3])/2),t=l[l.length-1]}return r}const zm=gn();class Ye{constructor(t,n,i,r,s,o){this.styleFunction,this.extent_,this.id_=o,this.type_=t,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=s,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?By(this.flatCoordinates_):Wd(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=Tr(this.getExtent());this.flatInteriorPoints_=tg(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=Mw(this.flatCoordinates_,this.ends_),n=DS(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=vw(this.flatCoordinates_,0,t,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=Rf(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let n=0;const i=this.ends_;for(let r=0,s=i.length;r<s;++r){const o=i[r],a=Rf(t,n,o,2,.5);Hh(this.flatMidpoints_,a),n=o}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){t=Zt(t);const n=t.getExtent(),i=t.getWorldExtent();if(n&&i){const r=ae(i)/ae(n);oi(zm,i[0],i[3],r,-r,0,0,0),Ui(this.flatCoordinates_,0,this.flatCoordinates_.length,2,zm,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){var t;return new Ye(this.type_,this.flatCoordinates_.slice(),(t=this.ends_)==null?void 0:t.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=Fy((t,n)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);const i=this.simplifiedGeometry_.getFlatCoordinates();let r;switch(this.type_){case"LineString":i.length=su(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,i,0),r=[i.length];break;case"MultiLineString":r=[],i.length=mw(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,i,0,r);break;case"Polygon":r=[],i.length=Jy(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),i,0,r);break}return r&&(this.simplifiedGeometry_=new Ye(this.type_,i,r,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_}),this}}Ye.prototype.getFlatCoordinates=Ye.prototype.getOrientedFlatCoordinates;class G1 extends bn{constructor(t){super(),this.projection=Zt(t.projection),this.attributions_=Gm(t.attributions),this.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,this.loading=!1,this.state_=t.state!==void 0?t.state:"ready",this.wrapX_=t.wrapX!==void 0?t.wrapX:!1,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(i,r){n.viewResolver=i,n.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=Gm(t),this.changed()}setState(t){this.state_=t,this.changed()}}function Gm(e){return e?Array.isArray(e)?function(t){return e}:typeof e=="function"?e:function(t){return[e]}:null}const Ve={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function FS(e,t){return[[-1/0,-1/0,1/0,1/0]]}let bS=!1;function zS(e,t,n,i,r,s,o){const a=new XMLHttpRequest;a.open("GET",typeof e=="function"?e(n,i,r):e,!0),t.getType()=="arraybuffer"&&(a.responseType="arraybuffer"),a.withCredentials=bS,a.onload=function(l){if(!a.status||a.status>=200&&a.status<300){const h=t.getType();try{let u;h=="text"||h=="json"?u=a.responseText:h=="xml"?u=a.responseXML||a.responseText:h=="arraybuffer"&&(u=a.response),u?s(t.readFeatures(u,{extent:n,featureProjection:r}),t.readProjection(u)):o()}catch{o()}}else o()},a.onerror=o,a.send()}function Bm(e,t){return function(n,i,r,s,o){const a=this;zS(e,t,n,i,r,function(l,h){a.addFeatures(l),s!==void 0&&s(l)},o||Ns)}}class vi extends li{constructor(t,n,i){super(t),this.feature=n,this.features=i}}class GS extends G1{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:t.wrapX!==void 0?t.wrapX:!0}),this.on,this.once,this.un,this.loader_=Ns,this.format_=t.format,this.overlaps_=t.overlaps===void 0?!0:t.overlaps,this.url_=t.url,t.loader!==void 0?this.loader_=t.loader:this.url_!==void 0&&(ot(this.format_,"`format` must be set when `url` is set"),this.loader_=Bm(this.url_,this.format_)),this.strategy_=t.strategy!==void 0?t.strategy:FS;const n=t.useSpatialIndex!==void 0?t.useSpatialIndex:!0;this.featuresRtree_=n?new bm:null,this.loadedExtentsRtree_=new bm,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,r;Array.isArray(t.features)?r=t.features:t.features&&(i=t.features,r=i.getArray()),!n&&i===void 0&&(i=new Tn(r)),r!==void 0&&this.addFeaturesInternal(r),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const n=gt(t);if(!this.addToIndex_(n,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(n,t);const i=t.getGeometry();if(i){const r=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[n]=t;this.dispatchEvent(new vi(Ve.ADDFEATURE,t))}setupChangeEvents_(t,n){n instanceof Ye||(this.featureChangeKeys_[t]=[lt(n,Q.CHANGE,this.handleFeatureChange_,this),lt(n,ks.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(t,n){let i=!0;if(n.getId()!==void 0){const r=String(n.getId());if(!(r in this.idIndex_))this.idIndex_[r]=n;else if(n instanceof Ye){const s=this.idIndex_[r];s instanceof Ye?Array.isArray(s)?s.push(n):this.idIndex_[r]=[s,n]:i=!1}else i=!1}return i&&(ot(!(t in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[t]=n),i}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const n=[],i=[],r=[];for(let s=0,o=t.length;s<o;s++){const a=t[s],l=gt(a);this.addToIndex_(l,a)&&i.push(a)}for(let s=0,o=i.length;s<o;s++){const a=i[s],l=gt(a);this.setupChangeEvents_(l,a);const h=a.getGeometry();if(h){const u=h.getExtent();n.push(u),r.push(a)}else this.nullGeometryFeatures_[l]=a}if(this.featuresRtree_&&this.featuresRtree_.load(n,r),this.hasListener(Ve.ADDFEATURE))for(let s=0,o=i.length;s<o;s++)this.dispatchEvent(new vi(Ve.ADDFEATURE,i[s]))}bindFeaturesCollection_(t){let n=!1;this.addEventListener(Ve.ADDFEATURE,function(i){n||(n=!0,t.push(i.feature),n=!1)}),this.addEventListener(Ve.REMOVEFEATURE,function(i){n||(n=!0,t.remove(i.feature),n=!1)}),t.addEventListener(Ee.ADD,i=>{n||(n=!0,this.addFeature(i.element),n=!1)}),t.addEventListener(Ee.REMOVE,i=>{n||(n=!0,this.removeFeature(i.element),n=!1)}),this.featuresCollection_=t}clear(t){if(t){for(const i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(Mt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){const i=r=>{this.removeFeatureInternal(r)};this.featuresRtree_.forEach(i);for(const r in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new vi(Ve.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,n){const i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,function(r){const s=r.getGeometry();if(s instanceof Ye||s.intersectsCoordinate(t))return n(r)})}forEachFeatureInExtent(t,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(t,n){return this.forEachFeatureInExtent(t,function(i){const r=i.getGeometry();if(r instanceof Ye||r.intersectsExtent(t)){const s=n(i);if(s)return s}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Ds(this.nullGeometryFeatures_)||Hh(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const n=[];return this.forEachFeatureAtCoordinateDirect(t,function(i){n.push(i)}),n}getFeaturesInExtent(t,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);const r=Xy(t,n);return[].concat(...r.map(s=>this.featuresRtree_.getInExtent(s)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,n){const i=t[0],r=t[1];let s=null;const o=[NaN,NaN];let a=1/0;const l=[-1/0,-1/0,1/0,1/0];return n=n||da,this.featuresRtree_.forEachInExtent(l,function(h){if(n(h)){const u=h.getGeometry(),c=a;if(a=u instanceof Ye?0:u.closestPointXY(i,r,o,a),a<c){s=h;const f=Math.sqrt(a);l[0]=i-f,l[1]=r-f,l[2]=i+f,l[3]=r+f}}}),s}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const n=this.idIndex_[t.toString()];return n!==void 0?n:null}getFeatureByUid(t){const n=this.uidIndex_[t];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const n=t.target,i=gt(n),r=n.getGeometry();if(!r)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[i]=n);else{const o=r.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(o,n)):this.featuresRtree_&&this.featuresRtree_.update(o,n)}const s=n.getId();if(s!==void 0){const o=s.toString();this.idIndex_[o]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[o]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[i]=n;this.changed(),this.dispatchEvent(new vi(Ve.CHANGEFEATURE,n))}hasFeature(t){const n=t.getId();return n!==void 0?n in this.idIndex_:gt(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Ds(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(t,n,i){const r=this.loadedExtentsRtree_,s=this.strategy_(t,n,i);for(let o=0,a=s.length;o<a;++o){const l=s[o];r.forEachInExtent(l,function(u){return as(u.extent,l)})||(++this.loadingExtentsCount_,this.dispatchEvent(new vi(Ve.FEATURESLOADSTART)),this.loader_.call(this,l,n,i,u=>{--this.loadingExtentsCount_,this.dispatchEvent(new vi(Ve.FEATURESLOADEND,void 0,u))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new vi(Ve.FEATURESLOADERROR))}),r.insert(l,{extent:l.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const n=this.loadedExtentsRtree_;let i;n.forEachInExtent(t,function(r){if(ga(r.extent,t))return i=r,!0}),i&&n.remove(i)}removeFeatures(t){const n=[];for(let i=0,r=t.length;i<r;++i){const s=t[i],o=this.removeFeatureInternal(s);o&&n.push(o)}n.length>0&&this.changed()}removeFeature(t){if(!t)return;this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){const n=gt(t);if(!(n in this.uidIndex_))return;n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(t);const i=this.featureChangeKeys_[n];i==null||i.forEach(Mt),delete this.featureChangeKeys_[n];const r=t.getId();if(r!==void 0){const s=r.toString(),o=this.idIndex_[s];o===t?delete this.idIndex_[s]:Array.isArray(o)&&(o.splice(o.indexOf(t),1),o.length===1&&(this.idIndex_[s]=o[0]))}return delete this.uidIndex_[n],this.hasListener(Ve.REMOVEFEATURE)&&this.dispatchEvent(new vi(Ve.REMOVEFEATURE,t)),t}removeFromIdIndex_(t){let n=!1;for(const i in this.idIndex_){const r=this.idIndex_[i];if(t instanceof Ye&&Array.isArray(r)&&r.includes(t))r.splice(r.indexOf(t),1);else if(this.idIndex_[i]===t){delete this.idIndex_[i],n=!0;break}}return n}setLoader(t){this.loader_=t}setUrl(t){ot(this.format_,"`format` must be set when `url` is set"),this.url_=t,this.setLoader(Bm(t,this.format_))}}const V={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class B1 extends Qh{constructor(t,n,i){super(),i=i||{},this.tileCoord=t,this.state=n,this.interimTile=null,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(Q.CHANGE)}release(){this.state===V.ERROR&&this.setState(V.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){let t=this.interimTile;if(!t)return this;do{if(t.getState()==V.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this}refreshInterimChain(){let t=this.interimTile;if(!t)return;let n=this;do{if(t.getState()==V.LOADED){t.interimTile=null;break}t.getState()==V.LOADING?n=t:t.getState()==V.IDLE?n.interimTile=t.interimTile:n=t,t=n.interimTile}while(t)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==V.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}load(){at()}getAlpha(t,n){if(!this.transition_)return 1;let i=this.transitionStarts_[t];if(!i)i=n,this.transitionStarts_[t]=i;else if(i===-1)return 1;const r=n-i+1e3/60;return r>=this.transition_?1:v1(r/this.transition_)}inTransition(t){return this.transition_?this.transitionStarts_[t]!==-1:!1}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}}class j1 extends B1{constructor(t,n,i,r,s,o){super(t,n,o),this.crossOrigin_=r,this.src_=i,this.key=i,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(t){this.image_=t,this.state=V.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=V.ERROR,this.unlistenImage_(),this.image_=BS(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=V.LOADED:this.state=V.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==V.ERROR&&(this.state=V.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==V.IDLE&&(this.state=V.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Fw(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function BS(){const e=Jt(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}class jS{constructor(t,n,i){this.decay_=t,this.minVelocity_=n,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,n){this.points_.push(t,n,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<t)return!1;let i=n-3;for(;i>0&&this.points_[i+2]>t;)i-=3;const r=this.points_[n+2]-this.points_[i+2];if(r<1e3/60)return!1;const s=this.points_[n]-this.points_[i],o=this.points_[n+1]-this.points_[i+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class US extends Gd{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,n){at()}calculateMatrices2D(t){const n=t.viewState,i=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;oi(i,t.size[0]/2,t.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),by(r,i)}forEachFeatureAtCoordinate(t,n,i,r,s,o,a,l){let h;const u=n.viewState;function c(x,E,w,S){return s.call(o,E,x?w:null,S)}const f=u.projection,g=$y(t.slice(),f),d=[[0,0]];if(f.canWrapX()&&r){const x=f.getExtent(),E=ht(x);d.push([-E,0],[E,0])}const p=n.layerStatesArray,v=p.length,_=[],m=[];for(let x=0;x<d.length;x++)for(let E=v-1;E>=0;--E){const w=p[E],S=w.layer;if(S.hasRenderer()&&fg(w,u)&&a.call(l,S)){const M=S.getRenderer(),R=S.getSource();if(M&&R){const O=R.getWrapX()?g:t,F=c.bind(null,w.managed);m[0]=O[0]+d[x][0],m[1]=O[1]+d[x][1],h=M.forEachFeatureAtCoordinate(m,n,i,F,_)}if(h)return h}}if(_.length===0)return;const y=1/_.length;return _.forEach((x,E)=>x.distanceSq+=E*y),_.sort((x,E)=>x.distanceSq-E.distanceSq),_.some(x=>h=x.callback(x.feature,x.layer,x.geometry)),h}hasFeatureAtCoordinate(t,n,i,r,s,o){return this.forEachFeatureAtCoordinate(t,n,i,r,da,this,s,o)!==void 0}getMap(){return this.map_}renderFrame(t){at()}scheduleExpireIconCache(t){In.canExpireCache()&&t.postRenderFunctions.push(WS)}}function WS(e,t){In.expire()}class XS extends US{constructor(t){super(t),this.fontChangeListenerKey_=lt(Vn,ks.PROPERTYCHANGE,t.redrawText.bind(t)),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=lu+" ol-layers";const i=t.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,n){const i=this.getMap();if(i.hasListener(t)){const r=new O1(t,void 0,n);i.dispatchEvent(r)}}disposeInternal(){Mt(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(Qe.PRECOMPOSE,t);const n=t.layerStatesArray.sort(function(a,l){return a.zIndex-l.zIndex});n.some(a=>a.layer instanceof P1&&a.layer.getDeclutter())&&(t.declutter={});const r=t.viewState;this.children_.length=0;const s=[];let o=null;for(let a=0,l=n.length;a<l;++a){const h=n[a];t.layerIndex=a;const u=h.layer,c=u.getSourceState();if(!fg(h,r)||c!="ready"&&c!="undefined"){u.unrender();continue}const f=u.render(t,o);f&&(f!==o&&(this.children_.push(f),o=f),s.push(h))}this.declutter(t,s),Dw(this.element_,this.children_),this.dispatchRenderEvent(Qe.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,n){if(t.declutter){for(let i=n.length-1;i>=0;--i){const r=n[i],s=r.layer;s.getDeclutter()&&s.renderDeclutter(t,r)}n.forEach(i=>i.layer.renderDeferred(t))}}}class Ri extends li{constructor(t,n){super(t),this.layer=n}}const fc={LAYERS:"layers"};class Hs extends y1{constructor(t){t=t||{};const n=Object.assign({},t);delete n.layers;let i=t.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(fc.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new Tn(i.slice(),{unique:!0}):ot(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new Tn(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Mt),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push(lt(t,Ee.ADD,this.handleLayersAdd_,this),lt(t,Ee.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(Mt);Da(this.listenerKeys_);const n=t.getArray();for(let i=0,r=n.length;i<r;i++){const s=n[i];this.registerLayerListeners_(s),this.dispatchEvent(new Ri("addlayer",s))}this.changed()}registerLayerListeners_(t){const n=[lt(t,ks.PROPERTYCHANGE,this.handleLayerChange_,this),lt(t,Q.CHANGE,this.handleLayerChange_,this)];t instanceof Hs&&n.push(lt(t,"addlayer",this.handleLayerGroupAdd_,this),lt(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[gt(t)]=n}handleLayerGroupAdd_(t){this.dispatchEvent(new Ri("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new Ri("removelayer",t.layer))}handleLayersAdd_(t){const n=t.element;this.registerLayerListeners_(n),this.dispatchEvent(new Ri("addlayer",n)),this.changed()}handleLayersRemove_(t){const n=t.element,i=gt(n);this.listenerKeys_[i].forEach(Mt),delete this.listenerKeys_[i],this.dispatchEvent(new Ri("removelayer",n)),this.changed()}getLayers(){return this.get(fc.LAYERS)}setLayers(t){const n=this.getLayers();if(n){const i=n.getArray();for(let r=0,s=i.length;r<s;++r)this.dispatchEvent(new Ri("removelayer",i[r]))}this.set(fc.LAYERS,t)}getLayersArray(t){return t=t!==void 0?t:[],this.getLayers().forEach(function(n){n.getLayersArray(t)}),t}getLayerStatesArray(t){const n=t!==void 0?t:[],i=n.length;this.getLayers().forEach(function(o){o.getLayerStatesArray(n)});const r=this.getLayerState();let s=r.zIndex;!t&&r.zIndex===void 0&&(s=0);for(let o=i,a=n.length;o<a;o++){const l=n[o];l.opacity*=r.opacity,l.visible=l.visible&&r.visible,l.maxResolution=Math.min(l.maxResolution,r.maxResolution),l.minResolution=Math.max(l.minResolution,r.minResolution),l.minZoom=Math.max(l.minZoom,r.minZoom),l.maxZoom=Math.min(l.maxZoom,r.maxZoom),r.extent!==void 0&&(l.extent!==void 0?l.extent=Uo(l.extent,r.extent):l.extent=r.extent),l.zIndex===void 0&&(l.zIndex=s)}return n}getSourceState(){return"ready"}}class $r extends li{constructor(t,n,i){super(t),this.map=n,this.frameState=i!==void 0?i:null}}class wi extends $r{constructor(t,n,i,r,s,o){super(t,n,s),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const Pt={SINGLECLICK:"singleclick",CLICK:Q.CLICK,DBLCLICK:Q.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Lf={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};class VS extends Qh{constructor(t,n){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=lt(i,Lf.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=lt(i,Lf.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Q.TOUCHMOVE,this.boundHandleTouchMove_,f1?{passive:!1}:!1)}emulateClick_(t){let n=new wi(Pt.CLICK,this.map_,t);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new wi(Pt.DBLCLICK,this.map_,t),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new wi(Pt.SINGLECLICK,this.map_,t);this.dispatchEvent(i)},250)}updateActivePointers_(t){const n=t,i=n.pointerId;if(n.type==Pt.POINTERUP||n.type==Pt.POINTERCANCEL){delete this.trackedTouches_[i];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==n.target){delete this.trackedTouches_[r];break}}else(n.type==Pt.POINTERDOWN||n.type==Pt.POINTERMOVE)&&(this.trackedTouches_[i]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const n=new wi(Pt.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Mt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return t.button===0}handlePointerDown_(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);const n=new wi(Pt.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(lt(i,Pt.POINTERMOVE,this.handlePointerMove_,this),lt(i,Pt.POINTERUP,this.handlePointerUp_,this),lt(this.element_,Pt.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(lt(this.element_.getRootNode(),Pt.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const n=new wi(Pt.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const n=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new wi(Pt.POINTERMOVE,this.map_,t,n))}handleTouchMove_(t){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Mt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Q.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Mt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Mt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Mi={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},ie={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Ch=1/0;class $S{constructor(t,n){this.priorityFunction_=t,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Da(this.queuedElements_)}dequeue(){const t=this.elements_,n=this.priorities_,i=t[0];t.length==1?(t.length=0,n.length=0):(t[0]=t.pop(),n[0]=n.pop(),this.siftUp_(0));const r=this.keyFunction_(i);return delete this.queuedElements_[r],i}enqueue(t){ot(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(t);return n!=Ch?(this.elements_.push(t),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(t){return t*2+1}getRightChildIndex_(t){return t*2+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return this.elements_.length===0}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const n=this.elements_,i=this.priorities_,r=n.length,s=n[t],o=i[t],a=t;for(;t<r>>1;){const l=this.getLeftChildIndex_(t),h=this.getRightChildIndex_(t),u=h<r&&i[h]<i[l]?h:l;n[t]=n[u],i[t]=i[u],t=u}n[t]=s,i[t]=o,this.siftDown_(a,t)}siftDown_(t,n){const i=this.elements_,r=this.priorities_,s=i[n],o=r[n];for(;n>t;){const a=this.getParentIndex_(n);if(r[a]>o)i[n]=i[a],r[n]=r[a],n=a;else break}i[n]=s,r[n]=o}reprioritize(){const t=this.priorityFunction_,n=this.elements_,i=this.priorities_;let r=0;const s=n.length;let o,a,l;for(a=0;a<s;++a)o=n[a],l=t(o),l==Ch?delete this.queuedElements_[this.keyFunction_(o)]:(i[r]=l,n[r++]=o);n.length=r,i.length=r,this.heapify_()}}class YS extends $S{constructor(t,n){super(function(i){return t.apply(null,i)},function(i){return i[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const n=super.enqueue(t);return n&&t[0].addEventListener(Q.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const n=t.target,i=n.getState();if(i===V.LOADED||i===V.ERROR||i===V.EMPTY){i!==V.ERROR&&n.removeEventListener(Q.CHANGE,this.boundHandleTileChange_);const r=n.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,n){let i=0,r,s,o;for(;this.tilesLoading_<t&&i<n&&this.getCount()>0;)s=this.dequeue()[0],o=s.getKey(),r=s.getState(),r===V.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++i,s.load())}}function qS(e,t,n,i,r){if(!e||!(n in e.wantedTiles)||!e.wantedTiles[n][t.getKey()])return Ch;const s=e.viewState.center,o=i[0]-s[0],a=i[1]-s[1];return 65536*Math.log(r)+Math.sqrt(o*o+a*a)/r}class gg extends bn{constructor(t){super();const n=t.element;n&&!t.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){Cf(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&Cf(this.element);for(let n=0,i=this.listenerKeys.length;n<i;++n)Mt(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=t,t&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Ns&&this.listenerKeys.push(lt(t,Mi.POSTRENDER,this.render,this)),t.render())}render(t){}setTarget(t){this.target_=typeof t=="string"?document.getElementById(t):t}}class KS extends gg{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=t.collapsed!==void 0?t.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=t.collapsible!==void 0,this.collapsible_=t.collapsible!==void 0?t.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const n=t.className!==void 0?t.className:"ol-attribution",i=t.tipLabel!==void 0?t.tipLabel:"Attributions",r=t.expandClassName!==void 0?t.expandClassName:n+"-expand",s=t.collapseLabel!==void 0?t.collapseLabel:"",o=t.collapseClassName!==void 0?t.collapseClassName:n+"-collapse";typeof s=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=o):this.collapseLabel_=s;const a=t.label!==void 0?t.label:"i";typeof a=="string"?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=r):this.label_=a;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(Q.CLICK,this.handleClick_.bind(this),!1);const h=n+" "+lu+" "+ag+(this.collapsed_&&this.collapsible_?" "+mm:"")+(this.collapsible_?"":" ol-uncollapsible"),u=this.element;u.className=h,u.appendChild(this.toggleButton_),u.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const n=Array.from(new Set(this.getMap().getAllLayers().flatMap(r=>r.getAttributions(t)))),i=!this.getMap().getAllLayers().some(r=>r.getSource()&&r.getSource().getAttributionsCollapsible()===!1);return this.overrideCollapsible_||this.setCollapsible(i),n}async updateElement_(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(t).map(r=>P2(()=>r))),i=n.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Ji(n,this.renderedAttributions_)){Nw(this.ulElement_);for(let r=0,s=n.length;r<s;++r){const o=document.createElement("li");o.innerHTML=n[r],this.ulElement_.appendChild(o)}this.renderedAttributions_=n}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(mm),this.collapsed_?dm(this.collapseLabel_,this.label_):dm(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}}class HS extends gg{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const n=t.className!==void 0?t.className:"ol-rotate",i=t.label!==void 0?t.label:"",r=t.compassClassName!==void 0?t.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(r));const s=t.tipLabel?t.tipLabel:"Reset rotation",o=document.createElement("button");o.className=n+"-reset",o.setAttribute("type","button"),o.title=s,o.appendChild(this.label_),o.addEventListener(Q.CLICK,this.handleClick_.bind(this),!1);const a=n+" "+lu+" "+ag,l=this.element;l.className=a,l.appendChild(o),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=t.duration!==void 0?t.duration:250,this.autoHide_=t.autoHide!==void 0?t.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(vl)}handleClick_(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const i=n.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:qs}):n.setRotation(0))}render(t){const n=t.frameState;if(!n)return;const i=n.viewState.rotation;if(i!=this.rotation_){const r="rotate("+i+"rad)";if(this.autoHide_){const s=this.element.classList.contains(vl);!s&&i===0?this.element.classList.add(vl):s&&i!==0&&this.element.classList.remove(vl)}this.label_.style.transform=r}this.rotation_=i}}class ZS extends gg{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const n=t.className!==void 0?t.className:"ol-zoom",i=t.delta!==void 0?t.delta:1,r=t.zoomInClassName!==void 0?t.zoomInClassName:n+"-in",s=t.zoomOutClassName!==void 0?t.zoomOutClassName:n+"-out",o=t.zoomInLabel!==void 0?t.zoomInLabel:"+",a=t.zoomOutLabel!==void 0?t.zoomOutLabel:"",l=t.zoomInTipLabel!==void 0?t.zoomInTipLabel:"Zoom in",h=t.zoomOutTipLabel!==void 0?t.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=r,u.setAttribute("type","button"),u.title=l,u.appendChild(typeof o=="string"?document.createTextNode(o):o),u.addEventListener(Q.CLICK,this.handleClick_.bind(this,i),!1);const c=document.createElement("button");c.className=s,c.setAttribute("type","button"),c.title=h,c.appendChild(typeof a=="string"?document.createTextNode(a):a),c.addEventListener(Q.CLICK,this.handleClick_.bind(this,-i),!1);const f=n+" "+lu+" "+ag,g=this.element;g.className=f,g.appendChild(u),g.appendChild(c),this.duration_=t.duration!==void 0?t.duration:250}handleClick_(t,n){n.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const i=this.getMap().getView();if(!i)return;const r=i.getZoom();if(r!==void 0){const s=i.getConstrainedZoom(r+t);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:s,duration:this.duration_,easing:qs})):i.setZoom(s)}}}function QS(e){e=e||{};const t=new Tn;return(e.zoom!==void 0?e.zoom:!0)&&t.push(new ZS(e.zoomOptions)),(e.rotate!==void 0?e.rotate:!0)&&t.push(new HS(e.rotateOptions)),(e.attribution!==void 0?e.attribution:!0)&&t.push(new KS(e.attributionOptions)),t}const jm={ACTIVE:"active"};class ja extends bn{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(jm.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(jm.ACTIVE,t)}setMap(t){this.map_=t}}function JS(e,t,n){const i=e.getCenterInternal();if(i){const r=[i[0]+t[0],i[1]+t[1]];e.animateInternal({duration:n!==void 0?n:250,easing:sM,center:e.getConstrainedCenter(r)})}}function mg(e,t,n,i){const r=e.getZoom();if(r===void 0)return;const s=e.getConstrainedZoom(r+t),o=e.getResolutionForZoom(s);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:o,anchor:n,duration:i!==void 0?i:250,easing:qs})}class tC extends ja{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:250}handleEvent(t){let n=!1;if(t.type==Pt.DBLCLICK){const i=t.originalEvent,r=t.map,s=t.coordinate,o=i.shiftKey?-this.delta_:this.delta_,a=r.getView();mg(a,o,s,this.duration_),i.preventDefault(),n=!0}return!n}}class Ua extends ja{constructor(t){t=t||{},super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Pt.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==Pt.POINTERUP){const i=this.handleUpEvent(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==Pt.POINTERDOWN){const i=this.handleDownEvent(t);this.handlingDownUpSequence=i,n=this.stopDown(i)}else t.type==Pt.POINTERMOVE&&this.handleMoveEvent(t);return!n}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}}function pg(e){const t=e.length;let n=0,i=0;for(let r=0;r<t;r++)n+=e[r].clientX,i+=e[r].clientY;return{clientX:n/t,clientY:i/t}}function Of(e){const t=arguments;return function(n){let i=!0;for(let r=0,s=t.length;r<s&&(i=i&&t[r](n),!!i);++r);return i}}const eC=function(e){const t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},nC=function(e){const t=e.map.getTargetElement(),n=e.map.getOwnerDocument().activeElement;return t.contains(n)},U1=function(e){return e.map.getTargetElement().hasAttribute("tabindex")?nC(e):!0},iC=da,W1=function(e){const t=e.originalEvent;return t.button==0&&!(kw&&l1&&t.ctrlKey)},X1=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},rC=function(e){const t=e.originalEvent;return l1?t.metaKey:t.ctrlKey},sC=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},V1=function(e){const t=e.originalEvent,n=t.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!t.target.isContentEditable},dc=function(e){const t=e.originalEvent;return ot(t!==void 0,"mapBrowserEvent must originate from a pointer event"),t.pointerType=="mouse"},oC=function(e){const t=e.originalEvent;return ot(t!==void 0,"mapBrowserEvent must originate from a pointer event"),t.isPrimary&&t.button===0};class aC extends Ua{constructor(t){super({stopDown:Zh}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=t.condition?t.condition:Of(X1,oC);this.condition_=t.onFocusOnly?Of(U1,n):n,this.noKinetic_=!1}handleDragEvent(t){const n=t.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const i=this.targetPointers,r=n.getEventPixel(pg(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const s=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],a=t.map.getView();J2(s,a.getResolution()),Yd(s,a.getRotation()),a.adjustCenterInternal(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,t.originalEvent.preventDefault()}handleUpEvent(t){const n=t.map,i=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),o=i.getCenterInternal(),a=n.getPixelFromCoordinateInternal(o),l=n.getCoordinateFromPixelInternal([a[0]-r*Math.cos(s),a[1]-r*Math.sin(s)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:qs})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const i=t.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class lC extends Ua{constructor(t){t=t||{},super({stopDown:Zh}),this.condition_=t.condition?t.condition:eC,this.lastAngle_=void 0,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){if(!dc(t))return;const n=t.map,i=n.getView();if(i.getConstraints().rotation===cg)return;const r=n.getSize(),s=t.pixel,o=Math.atan2(r[1]/2-s[1],s[0]-r[0]/2);if(this.lastAngle_!==void 0){const a=o-this.lastAngle_;i.adjustRotationInternal(-a)}this.lastAngle_=o}handleUpEvent(t){return dc(t)?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){return dc(t)&&W1(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class hC extends Gd{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,n=this.endPixel_,i="px",r=this.element_.style;r.left=Math.min(t[0],n[0])+i,r.top=Math.min(t[1],n[1])+i,r.width=Math.abs(n[0]-t[0])+i,r.height=Math.abs(n[1]-t[1])+i}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,n){this.startPixel_=t,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const t=this.startPixel_,n=this.endPixel_,r=[t,[t[0],n[1]],n,[n[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new pa([r])}getGeometry(){return this.geometry_}}const vo={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class Sl extends li{constructor(t,n,i){super(t),this.coordinate=n,this.mapBrowserEvent=i}}class uC extends Ua{constructor(t){super(),this.on,this.once,this.un,t=t||{},this.box_=new hC(t.className||"ol-dragbox"),this.minArea_=t.minArea!==void 0?t.minArea:64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition?t.condition:W1,this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(t,n,i){const r=i[0]-n[0],s=i[1]-n[1];return r*r+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.startPixel_&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Sl(vo.BOXDRAG,t.coordinate,t)))}handleUpEvent(t){if(!this.startPixel_)return!1;this.box_.setMap(null);const n=this.boxEndCondition_(t,this.startPixel_,t.pixel);return n&&this.onBoxEnd(t),this.dispatchEvent(new Sl(n?vo.BOXEND:vo.BOXCANCEL,t.coordinate,t)),!1}handleDownEvent(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Sl(vo.BOXSTART,t.coordinate,t)),!0):!1}onBoxEnd(t){}setActive(t){t||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Sl(vo.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(t)}}class cC extends uC{constructor(t){t=t||{};const n=t.condition?t.condition:sC;super({condition:n,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=t.duration!==void 0?t.duration:200,this.out_=t.out!==void 0?t.out:!1}onBoxEnd(t){const i=this.getMap().getView();let r=this.getGeometry();if(this.out_){const s=i.rotatedExtentForGeometry(r),o=i.getResolutionForExtentInternal(s),a=i.getResolution()/o;r=r.clone(),r.scale(a*a)}i.fitInternal(r,{duration:this.duration_,easing:qs})}}const or={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class fC extends ja{constructor(t){super(),t=t||{},this.defaultCondition_=function(n){return X1(n)&&V1(n)},this.condition_=t.condition!==void 0?t.condition:this.defaultCondition_,this.duration_=t.duration!==void 0?t.duration:100,this.pixelDelta_=t.pixelDelta!==void 0?t.pixelDelta:128}handleEvent(t){let n=!1;if(t.type==Q.KEYDOWN){const i=t.originalEvent,r=i.key;if(this.condition_(t)&&(r==or.DOWN||r==or.LEFT||r==or.RIGHT||r==or.UP)){const o=t.map.getView(),a=o.getResolution()*this.pixelDelta_;let l=0,h=0;r==or.DOWN?h=-a:r==or.LEFT?l=-a:r==or.RIGHT?l=a:h=a;const u=[l,h];Yd(u,o.getRotation()),JS(o,u,this.duration_),i.preventDefault(),n=!0}}return!n}}class dC extends ja{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(n){return!rC(n)&&V1(n)},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:100}handleEvent(t){let n=!1;if(t.type==Q.KEYDOWN||t.type==Q.KEYPRESS){const i=t.originalEvent,r=i.key;if(this.condition_(t)&&(r==="+"||r==="-")){const s=t.map,o=r==="+"?this.delta_:-this.delta_,a=s.getView();mg(a,o,void 0,this.duration_),i.preventDefault(),n=!0}}return!n}}class gC extends ja{constructor(t){t=t||{},super(t),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=t.maxDelta!==void 0?t.maxDelta:1,this.duration_=t.duration!==void 0?t.duration:250,this.timeout_=t.timeout!==void 0?t.timeout:80,this.useAnchor_=t.useAnchor!==void 0?t.useAnchor:!0,this.constrainResolution_=t.constrainResolution!==void 0?t.constrainResolution:!1;const n=t.condition?t.condition:iC;this.condition_=t.onFocusOnly?Of(U1,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(t){if(!this.condition_(t)||t.type!==Q.WHEEL)return!0;const i=t.map,r=t.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);let s;if(t.type==Q.WHEEL&&(s=r.deltaY,Lw&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=h1),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;const o=Date.now();this.startTime_===void 0&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");const a=i.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=s;const l=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1}handleWheelZoom_(t){const n=t.getView();n.getAnimating()&&n.cancelAnimations();let i=-Ot(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),mg(n,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}class mC extends Ua{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=Zh),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold!==void 0?t.threshold:.3,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){let n=0;const i=this.targetPointers[0],r=this.targetPointers[1],s=Math.atan2(r.clientY-i.clientY,r.clientX-i.clientX);if(this.lastAngle_!==void 0){const l=s-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=l}this.lastAngle_=s;const o=t.map,a=o.getView();a.getConstraints().rotation!==cg&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(pg(this.targetPointers))),this.rotating_&&(o.render(),a.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(t){return this.targetPointers.length<2?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class pC extends Ua{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=Zh),super(n),this.anchor_=null,this.duration_=t.duration!==void 0?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let n=1;const i=this.targetPointers[0],r=this.targetPointers[1],s=i.clientX-r.clientX,o=i.clientY-r.clientY,a=Math.sqrt(s*s+o*o);this.lastDistance_!==void 0&&(n=this.lastDistance_/a),this.lastDistance_=a;const l=t.map,h=l.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(pg(this.targetPointers))),l.render(),h.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const i=t.map.getView(),r=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function _C(e){e=e||{};const t=new Tn,n=new jS(-.005,.05,100);return(e.altShiftDragRotate!==void 0?e.altShiftDragRotate:!0)&&t.push(new lC),(e.doubleClickZoom!==void 0?e.doubleClickZoom:!0)&&t.push(new tC({delta:e.zoomDelta,duration:e.zoomDuration})),(e.dragPan!==void 0?e.dragPan:!0)&&t.push(new aC({onFocusOnly:e.onFocusOnly,kinetic:n})),(e.pinchRotate!==void 0?e.pinchRotate:!0)&&t.push(new mC),(e.pinchZoom!==void 0?e.pinchZoom:!0)&&t.push(new pC({duration:e.zoomDuration})),(e.keyboard!==void 0?e.keyboard:!0)&&(t.push(new fC),t.push(new dC({delta:e.zoomDelta,duration:e.zoomDuration}))),(e.mouseWheelZoom!==void 0?e.mouseWheelZoom:!0)&&t.push(new gC({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(e.shiftDragZoom!==void 0?e.shiftDragZoom:!0)&&t.push(new cC({duration:e.zoomDuration})),t}function $1(e){if(e instanceof fu){e.setMapInternal(null);return}e instanceof Hs&&e.getLayers().forEach($1)}function Y1(e,t){if(e instanceof fu){e.setMapInternal(t);return}if(e instanceof Hs){const n=e.getLayers().getArray();for(let i=0,r=n.length;i<r;++i)Y1(n[i],t)}}let yC=class extends bn{constructor(t){super(),t=t||{},this.on,this.once,this.un;const n=vC(t);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,this.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:h1,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=gn(),this.pixelToCoordinateTransform_=gn(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||QS(),this.interactions=n.interactions||_C({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new YS(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(ie.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(ie.VIEW,this.handleViewChanged_),this.addChangeListener(ie.SIZE,this.handleSizeChanged_),this.addChangeListener(ie.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const i=this;t.view&&!(t.view instanceof Cn)&&t.view.then(function(r){i.setView(new Cn(r))}),this.controls.addEventListener(Ee.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(Ee.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(Ee.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(Ee.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(Ee.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(Ee.REMOVE,r=>{const s=r.element.getId();s!==void 0&&delete this.overlayIdIndex_[s.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){Y1(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const n=t.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,n,i){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(t);i=i!==void 0?i:{};const s=i.hitTolerance!==void 0?i.hitTolerance:0,o=i.layerFilter!==void 0?i.layerFilter:da,a=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,s,a,n,null,o,null)}getFeaturesAtPixel(t,n){const i=[];return this.forEachFeatureAtPixel(t,function(r){i.push(r)},n),i}getAllLayers(){const t=[];function n(i){i.forEach(function(r){r instanceof Hs?n(r.getLayers()):t.push(r)})}return n(this.getLayers()),t}hasFeatureAtPixel(t,n){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(t);n=n!==void 0?n:{};const r=n.layerFilter!==void 0?n.layerFilter:da,s=n.hitTolerance!==void 0?n.hitTolerance:0,o=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,s,o,r,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const i=this.viewport_.getBoundingClientRect(),r=this.getSize(),s=i.width/r[0],o=i.height/r[1],a="changedTouches"in t?t.changedTouches[0]:t;return[(a.clientX-i.left)/s,(a.clientY-i.top)/o]}getTarget(){return this.get(ie.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return Sf(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const n=this.frameState_;return n?qt(n.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const n=this.overlayIdIndex_[t.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(ie.LAYERGROUP)}setLayers(t){const n=this.getLayerGroup();if(t instanceof Tn){n.setLayers(t);return}const i=n.getLayers();i.clear(),i.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=t.length;n<i;++n){const r=t[n];if(!r.visible)continue;const s=r.layer.getRenderer();if(s&&!s.ready)return!0;const o=r.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(t){const n=Xn(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(t){const n=this.frameState_;return n?qt(n.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(ie.SIZE)}getView(){return this.get(ie.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,n,i,r){return qS(this.frameState_,t,n,i,r)}handleBrowserEvent(t,n){n=n||t.type;const i=new wi(n,this,t);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(t){if(!this.frameState_)return;const n=t.originalEvent,i=n.type;if(i===Lf.POINTERDOWN||i===Q.WHEEL||i===Q.KEYDOWN){const r=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():r,o=n.target;if(this.overlayContainerStopEvent_.contains(o)||!(s===r?r.documentElement:s).contains(o))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1){const r=this.getInteractions().getArray().slice();for(let s=r.length-1;s>=0;s--){const o=r[s];if(o.getMap()!==this||!o.getActive()||!this.getTargetElement())continue;if(!o.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let r=this.maxTilesLoading_,s=r;if(t){const o=t.viewHints;if(o[re.ANIMATING]||o[re.INTERACTING]){const a=Date.now()-t.time>8;r=a?0:8,s=a?0:2}}n.getTilesLoading()<r&&(n.reprioritize(),n.loadMoreTiles(r,s))}t&&this.renderer_&&!t.animate&&(this.renderComplete_===!0?(this.hasListener(Qe.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Qe.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new $r(Mi.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new $r(Mi.LOADSTART,this,t))));const i=this.postRenderFunctions_;for(let r=0,s=i.length;r<s;++r)i[r](this,t);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,r=this.targetChangeHandlerKeys_.length;i<r;++i)Mt(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Q.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Q.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Cf(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}const t=this.getTarget(),n=typeof t=="string"?document.getElementById(t):t;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new XS(this)),this.mapBrowserEventHandler_=new VS(this,this.moveTolerance_);for(const s in Pt)this.mapBrowserEventHandler_.addEventListener(Pt[s],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Q.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Q.WHEEL,this.boundHandleBrowserEvent_,f1?{passive:!1}:!1);const i=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[lt(i,Q.KEYDOWN,this.handleBrowserEvent,this),lt(i,Q.KEYPRESS,this.handleBrowserEvent,this)];const r=n.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Mt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Mt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=lt(t,ks.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=lt(t,Q.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Mt),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new Ri("addlayer",t)),this.layerGroupPropertyListenerKeys_=[lt(t,ks.PROPERTYCHANGE,this.render,this),lt(t,Q.CHANGE,this.render,this),lt(t,"addlayer",this.handleLayerAdd_,this),lt(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=t.length;n<i;++n){const r=t[n].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){$1(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const n=this.getSize(),i=this.getView(),r=this.frameState_;let s=null;if(n!==void 0&&gm(n)&&i&&i.isDef()){const o=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=i.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:vf(a.center,a.resolution,a.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{},mapId:gt(this),renderTargets:{}},a.nextCenter&&a.nextResolution){const l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;s.nextExtent=vf(a.nextCenter,a.nextResolution,l,n)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),r&&(!this.previousExtent_||!iu(this.previousExtent_)&&!ga(s.extent,this.previousExtent_))&&(this.dispatchEvent(new $r(Mi.MOVESTART,this,r)),this.previousExtent_=Jh(this.previousExtent_)),this.previousExtent_&&!s.viewHints[re.ANIMATING]&&!s.viewHints[re.INTERACTING]&&!ga(s.extent,this.previousExtent_)&&(this.dispatchEvent(new $r(Mi.MOVEEND,this,s)),zy(s.extent,this.previousExtent_))),this.dispatchEvent(new $r(Mi.POSTRENDER,this,s)),this.renderComplete_=this.hasListener(Mi.LOADSTART)||this.hasListener(Mi.LOADEND)||this.hasListener(Qe.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new Ri("removelayer",n)),this.set(ie.LAYERGROUP,t)}setSize(t){this.set(ie.SIZE,t)}setTarget(t){this.set(ie.TARGET,t)}setView(t){if(!t||t instanceof Cn){this.set(ie.VIEW,t);return}this.set(ie.VIEW,new Cn);const n=this;t.then(function(i){n.setView(new Cn(i))})}updateSize(){const t=this.getTargetElement();let n;if(t){const r=getComputedStyle(t),s=t.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),o=t.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(s)&&!isNaN(o)&&(n=[s,o],!gm(n)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&qy("No map visible because the map container's width or height are 0."))}const i=this.getSize();n&&(!i||!Ji(n,i))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(t){const n=this.getView();n&&n.setViewportSize(t)}};function vC(e){let t=null;e.keyboardEventTarget!==void 0&&(t=typeof e.keyboardEventTarget=="string"?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);const n={},i=e.layers&&typeof e.layers.getLayers=="function"?e.layers:new Hs({layers:e.layers});n[ie.LAYERGROUP]=i,n[ie.TARGET]=e.target,n[ie.VIEW]=e.view instanceof Cn?e.view:new Cn;let r;e.controls!==void 0&&(Array.isArray(e.controls)?r=new Tn(e.controls.slice()):(ot(typeof e.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=e.controls));let s;e.interactions!==void 0&&(Array.isArray(e.interactions)?s=new Tn(e.interactions.slice()):(ot(typeof e.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),s=e.interactions));let o;return e.overlays!==void 0?Array.isArray(e.overlays)?o=new Tn(e.overlays.slice()):(ot(typeof e.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),o=e.overlays):o=new Tn,{controls:r,interactions:s,keyboardEventTarget:t,overlays:o,values:n}}class xC{constructor(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let n=this.oldest_;for(;n;)t(n.value_,n.key_,this),n=n.newer}get(t,n){const i=this.entries_[t];return ot(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(t){const n=this.entries_[t];return ot(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[t],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let n=0,i;for(i=this.newest_;i;i=i.older)t[n++]=i.key_;return t}getValues(){const t=new Array(this.count_);let n=0,i;for(i=this.newest_;i;i=i.older)t[n++]=i.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){var n;return(n=this.entries_[t])==null?void 0:n.value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,n){this.get(t),this.entries_[t].value_=n}set(t,n){ot(!(t in this.entries_),"Tried to set a value for a key that is used already");const i={key_:t,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_}setSize(t){this.highWaterMark=t}}function Um(e,t,n,i){return i!==void 0?(i[0]=e,i[1]=t,i[2]=n,i):[e,t,n]}function pu(e,t,n){return e+"/"+t+"/"+n}function q1(e){return pu(e[0],e[1],e[2])}function EC(e){return e.split("/").map(Number)}function wC(e){return(e[1]<<e[0])+e[2]}function MC(e,t){const n=e[0],i=e[1],r=e[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;const s=t.getFullTileRange(n);return s?s.containsXY(i,r):!0}class K1 extends xC{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;const t=this.peekFirstKey(),i=EC(t)[0];this.forEach(r=>{r.tileCoord[0]!==i&&(this.remove(q1(r.tileCoord)),r.release())})}}class _g{constructor(t,n,i,r){this.minX=t,this.maxX=n,this.minY=i,this.maxY=r}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,n){return this.minX<=t&&t<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function Br(e,t,n,i,r){return r!==void 0?(r.minX=e,r.maxX=t,r.minY=n,r.maxY=i,r):new _g(e,t,n,i)}const Cl={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class SC extends fu{constructor(t){t=t||{};const n=Object.assign({},t);delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.setPreload(t.preload!==void 0?t.preload:0),this.setUseInterimTilesOnError(t.useInterimTilesOnError!==void 0?t.useInterimTilesOnError:!0)}getPreload(){return this.get(Cl.PRELOAD)}setPreload(t){this.set(Cl.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(Cl.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(Cl.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}}const CC=.5,RC=10,Wm=.25;class TC{constructor(t,n,i,r,s,o){this.sourceProj_=t,this.targetProj_=n;let a={};const l=zs(this.targetProj_,this.sourceProj_);this.transformInv_=function(m){const y=m[0]+"/"+m[1];return a[y]||(a[y]=l(m)),a[y]},this.maxSourceExtent_=r,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&ht(r)>=ht(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?ht(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?ht(this.targetProj_.getExtent()):null;const h=kr(i),u=nu(i),c=eu(i),f=tu(i),g=this.transformInv_(h),d=this.transformInv_(u),p=this.transformInv_(c),v=this.transformInv_(f),_=RC+(o?Math.max(0,Math.ceil(Math.log2(yf(i)/(o*o*256*256)))):0);if(this.addQuad_(h,u,c,f,g,d,p,v,_),this.wrapsXInSource_){let m=1/0;this.triangles_.forEach(function(y,x,E){m=Math.min(m,y.source[0][0],y.source[1][0],y.source[2][0])}),this.triangles_.forEach(y=>{if(Math.max(y.source[0][0],y.source[1][0],y.source[2][0])-m>this.sourceWorldWidth_/2){const x=[[y.source[0][0],y.source[0][1]],[y.source[1][0],y.source[1][1]],[y.source[2][0],y.source[2][1]]];x[0][0]-m>this.sourceWorldWidth_/2&&(x[0][0]-=this.sourceWorldWidth_),x[1][0]-m>this.sourceWorldWidth_/2&&(x[1][0]-=this.sourceWorldWidth_),x[2][0]-m>this.sourceWorldWidth_/2&&(x[2][0]-=this.sourceWorldWidth_);const E=Math.min(x[0][0],x[1][0],x[2][0]);Math.max(x[0][0],x[1][0],x[2][0])-E<this.sourceWorldWidth_/2&&(y.source=x)}})}a={}}addTriangle_(t,n,i,r,s,o){this.triangles_.push({source:[r,s,o],target:[t,n,i]})}addQuad_(t,n,i,r,s,o,a,l,h){const u=H0([s,o,a,l]),c=this.sourceWorldWidth_?ht(u)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,g=this.sourceProj_.canWrapX()&&c>.5&&c<1;let d=!1;if(h>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const v=H0([t,n,i,r]);d=ht(v)/this.targetWorldWidth_>Wm||d}!g&&this.sourceProj_.isGlobal()&&c&&(d=c>Wm||d)}if(!d&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3])&&!Me(u,this.maxSourceExtent_))return;let p=0;if(!d&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(l[0])||!isFinite(l[1]))){if(h>0)d=!0;else if(p=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(o[0])||!isFinite(o[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),p!=1&&p!=2&&p!=4&&p!=8)return}if(h>0){if(!d){const v=[(t[0]+i[0])/2,(t[1]+i[1])/2],_=this.transformInv_(v);let m;g?m=(ws(s[0],f)+ws(a[0],f))/2-ws(_[0],f):m=(s[0]+a[0])/2-_[0];const y=(s[1]+a[1])/2-_[1];d=m*m+y*y>this.errorThresholdSquared_}if(d){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){const v=[(n[0]+i[0])/2,(n[1]+i[1])/2],_=this.transformInv_(v),m=[(r[0]+t[0])/2,(r[1]+t[1])/2],y=this.transformInv_(m);this.addQuad_(t,n,v,m,s,o,_,y,h-1),this.addQuad_(m,v,i,r,y,_,a,l,h-1)}else{const v=[(t[0]+n[0])/2,(t[1]+n[1])/2],_=this.transformInv_(v),m=[(i[0]+r[0])/2,(i[1]+r[1])/2],y=this.transformInv_(m);this.addQuad_(t,v,m,r,s,_,y,l,h-1),this.addQuad_(v,n,i,m,_,o,a,y,h-1)}return}}if(g){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}p&11||this.addTriangle_(t,i,r,s,a,l),p&14||this.addTriangle_(t,i,n,s,a,o),p&&(p&13||this.addTriangle_(n,r,t,o,l,s),p&7||this.addTriangle_(n,r,i,o,l,a))}calculateSourceExtent(){const t=rn();return this.triangles_.forEach(function(n,i,r){const s=n.source;jo(t,s[0]),jo(t,s[1]),jo(t,s[2])}),t}getTriangles(){return this.triangles_}}let gc;const Ms=[];function Xm(e,t,n,i,r){e.beginPath(),e.moveTo(0,0),e.lineTo(t,n),e.lineTo(i,r),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,i)+1,Math.max(n,r)),e.restore()}function mc(e,t){return Math.abs(e[t*4]-210)>2||Math.abs(e[t*4+3]-.75*255)>2}function IC(){if(gc===void 0){const e=Jt(6,6,Ms);e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",Xm(e,4,5,4,0),Xm(e,4,5,0,5);const t=e.getImageData(0,0,3,3).data;gc=mc(t,0)||mc(t,4)||mc(t,8),ou(e),Ms.push(e.canvas)}return gc}function Vm(e,t,n,i){const r=Ai(n,t,e);let s=em(t,i,n);const o=t.getMetersPerUnit();o!==void 0&&(s*=o);const a=e.getMetersPerUnit();a!==void 0&&(s/=a);const l=e.getExtent();if(!l||Fs(l,r)){const h=em(e,s,r)/s;isFinite(h)&&h>0&&(s/=h)}return s}function AC(e,t,n,i){const r=Tr(n);let s=Vm(e,t,r,i);return(!isFinite(s)||s<=0)&&Uy(n,function(o){return s=Vm(e,t,o,i),isFinite(s)&&s>0}),s}function PC(e,t,n,i,r,s,o,a,l,h,u,c,f,g){const d=Jt(Math.round(n*e),Math.round(n*t),Ms);if(c||(d.imageSmoothingEnabled=!1),l.length===0)return d.canvas;d.scale(n,n);function p(E){return Math.round(E*n)/n}d.globalCompositeOperation="lighter";const v=rn();l.forEach(function(E,w,S){b2(v,E.extent)});let _;const m=n/i,y=(c?1:1+Math.pow(2,-24))/m;{if(_=Jt(Math.round(ht(v)*m),Math.round(ae(v)*m),Ms),c||(_.imageSmoothingEnabled=!1),r&&g){const E=(r[0]-v[0])*m,w=-(r[3]-v[3])*m,S=ht(r)*m,M=ae(r)*m;_.rect(E,w,S,M),_.clip()}l.forEach(function(E,w,S){if(E.image.width>0&&E.image.height>0){if(E.clipExtent){_.save();const B=(E.clipExtent[0]-v[0])*m,$=-(E.clipExtent[3]-v[3])*m,Y=ht(E.clipExtent)*m,Z=ae(E.clipExtent)*m;_.rect(c?B:Math.round(B),c?$:Math.round($),c?Y:Math.round(B+Y)-Math.round(B),c?Z:Math.round($+Z)-Math.round($)),_.clip()}const M=(E.extent[0]-v[0])*m,R=-(E.extent[3]-v[3])*m,O=ht(E.extent)*m,F=ae(E.extent)*m;_.drawImage(E.image,h,h,E.image.width-2*h,E.image.height-2*h,c?M:Math.round(M),c?R:Math.round(R),c?O:Math.round(M+O)-Math.round(M),c?F:Math.round(R+F)-Math.round(R)),E.clipExtent&&_.restore()}})}const x=kr(o);return a.getTriangles().forEach(function(E,w,S){const M=E.source,R=E.target;let O=M[0][0],F=M[0][1],B=M[1][0],$=M[1][1],Y=M[2][0],Z=M[2][1];const k=p((R[0][0]-x[0])/s),it=p(-(R[0][1]-x[1])/s),I=p((R[1][0]-x[0])/s),z=p(-(R[1][1]-x[1])/s),N=p((R[2][0]-x[0])/s),U=p(-(R[2][1]-x[1])/s),W=O,ut=F;O=0,F=0,B-=W,$-=ut,Y-=W,Z-=ut;const L=[[B,$,0,0,I-k],[Y,Z,0,0,N-k],[0,0,B,$,z-it],[0,0,Y,Z,U-it]],zt=Z2(L);if(!zt)return;if(d.save(),d.beginPath(),IC()||!c){d.moveTo(I,z);const yt=4,sn=k-I,tr=it-z;for(let ue=0;ue<yt;ue++)d.lineTo(I+p((ue+1)*sn/yt),z+p(ue*tr/(yt-1))),ue!=yt-1&&d.lineTo(I+p((ue+1)*sn/yt),z+p((ue+1)*tr/(yt-1)));d.lineTo(N,U)}else d.moveTo(I,z),d.lineTo(k,it),d.lineTo(N,U);d.clip(),d.transform(zt[0],zt[2],zt[1],zt[3],k,it),d.translate(v[0]-W,v[3]-ut);let Et;if(_)Et=_.canvas,d.scale(y,-y);else{const yt=l[0],sn=yt.extent;Et=yt.image,d.scale(ht(sn)/Et.width,-ae(sn)/Et.height)}d.drawImage(Et,0,0),d.restore()}),_&&(ou(_),Ms.push(_.canvas)),u&&(d.save(),d.globalCompositeOperation="source-over",d.strokeStyle="black",d.lineWidth=1,a.getTriangles().forEach(function(E,w,S){const M=E.target,R=(M[0][0]-x[0])/s,O=-(M[0][1]-x[1])/s,F=(M[1][0]-x[0])/s,B=-(M[1][1]-x[1])/s,$=(M[2][0]-x[0])/s,Y=-(M[2][1]-x[1])/s;d.beginPath(),d.moveTo(F,B),d.lineTo(R,O),d.lineTo($,Y),d.closePath(),d.stroke()}),d.restore()),d.canvas}class kf extends B1{constructor(t,n,i,r,s,o,a,l,h,u,c,f){super(s,V.IDLE,f),this.renderEdges_=c!==void 0?c:!1,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=r,this.wrappedTileCoord_=o||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=t.canWrapX()?t.getExtent():void 0;const g=r.getTileCoordExtent(this.wrappedTileCoord_),d=this.targetTileGrid_.getExtent();let p=this.sourceTileGrid_.getExtent();const v=d?Uo(g,d):g;if(yf(v)===0){this.state=V.EMPTY;return}const _=t.getExtent();_&&(p?p=Uo(p,_):p=_);const m=r.getResolution(this.wrappedTileCoord_[0]),y=AC(t,i,v,m);if(!isFinite(y)||y<=0){this.state=V.EMPTY;return}const x=u!==void 0?u:CC;if(this.triangulation_=new TC(t,i,v,p,y*x,m),this.triangulation_.getTriangles().length===0){this.state=V.EMPTY;return}this.sourceZ_=n.getZForResolution(y);let E=this.triangulation_.calculateSourceExtent();if(p&&(t.canWrapX()?(E[1]=Ot(E[1],p[1],p[3]),E[3]=Ot(E[3],p[1],p[3])):E=Uo(E,p)),!yf(E))this.state=V.EMPTY;else{let w=0,S=0;t.canWrapX()&&(w=ht(_),S=Math.floor((E[0]-_[0])/w)),Xy(E.slice(),t,!0).forEach(R=>{const O=n.getTileRangeForExtentAndZ(R,this.sourceZ_);for(let F=O.minX;F<=O.maxX;F++)for(let B=O.minY;B<=O.maxY;B++){const $=h(this.sourceZ_,F,B,a);if($){const Y=S*w;this.sourceTiles_.push({tile:$,offset:Y})}}++S}),this.sourceTiles_.length===0&&(this.state=V.EMPTY)}}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach(n=>{var r;const i=n.tile;if(i&&i.getState()==V.LOADED){const s=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);s[0]+=n.offset,s[2]+=n.offset;const o=(r=this.clipExtent_)==null?void 0:r.slice();o&&(o[0]+=n.offset,o[2]+=n.offset),t.push({extent:s,clipExtent:o,image:i.getImage()})}}),this.sourceTiles_.length=0,t.length===0)this.state=V.ERROR;else{const n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),r=typeof i=="number"?i:i[0],s=typeof i=="number"?i:i[1],o=this.targetTileGrid_.getResolution(n),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=PC(r,s,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,l,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=V.LOADED}this.changed()}load(){if(this.state==V.IDLE){this.state=V.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const i=n.getState();if(i==V.IDLE||i==V.LOADING){t++;const r=lt(n,Q.CHANGE,function(s){const o=n.getState();(o==V.LOADED||o==V.ERROR||o==V.EMPTY)&&(Mt(r),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(r)}}),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},i,r){n.getState()==V.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Mt),this.sourcesListenerKeys_=null}release(){this.canvas_&&(ou(this.canvas_.getContext("2d")),Ms.push(this.canvas_),this.canvas_=null),super.release()}}class LC extends N1{constructor(t){super(t),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=rn(),this.tmpTileRange_=new _g(0,0,0,0)}isDrawableTile(t){const n=this.getLayer(),i=t.getState(),r=n.getUseInterimTilesOnError();return i==V.LOADED||i==V.EMPTY||i==V.ERROR&&!r}getTile(t,n,i,r){const s=r.pixelRatio,o=r.viewState.projection,a=this.getLayer();let h=a.getSource().getTile(t,n,i,s,o);return h.getState()==V.ERROR&&a.getUseInterimTilesOnError()&&a.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(h)||(h=h.getInterimTile()),h}getData(t){const n=this.frameState;if(!n)return null;const i=this.getLayer(),r=qt(n.pixelToCoordinateTransform,t.slice()),s=i.getExtent();if(s&&!Fs(s,r))return null;const o=n.pixelRatio,a=n.viewState.projection,l=n.viewState,h=i.getRenderSource(),u=h.getTileGridForProjection(l.projection),c=h.getTilePixelRatio(n.pixelRatio);for(let f=u.getZForResolution(l.resolution);f>=u.getMinZoom();--f){const g=u.getTileCoordForCoordAndZ(r,f),d=h.getTile(f,g[1],g[2],o,a);if(!(d instanceof j1||d instanceof kf)||d instanceof kf&&d.getState()===V.EMPTY)return null;if(d.getState()!==V.LOADED)continue;const p=u.getOrigin(f),v=Fe(u.getTileSize(f)),_=u.getResolution(f),m=Math.floor(c*((r[0]-p[0])/_-g[1]*v[0])),y=Math.floor(c*((p[1]-r[1])/_-g[2]*v[1])),x=Math.round(c*h.getGutterForProjection(l.projection));return this.getImageData(d.getImage(),m+x,y+x)}return null}loadedTileCallback(t,n,i){return this.isDrawableTile(i)?super.loadedTileCallback(t,n,i):!1}prepareFrame(t){return!!this.getLayer().getSource()}renderFrame(t,n){const i=t.layerStatesArray[t.layerIndex],r=t.viewState,s=r.projection,o=r.resolution,a=r.center,l=r.rotation,h=t.pixelRatio,u=this.getLayer(),c=u.getSource(),f=c.getRevision(),g=c.getTileGridForProjection(s),d=g.getZForResolution(o,c.zDirection),p=g.getResolution(d);let v=t.extent;const _=t.viewState.resolution,m=c.getTilePixelRatio(h);this.prepareContainer(t,n);const y=this.context.canvas.width,x=this.context.canvas.height,E=i.extent&&dr(i.extent);E&&(v=Uo(v,dr(i.extent)));const w=p*y/2/m,S=p*x/2/m,M=[a[0]-w,a[1]-S,a[0]+w,a[1]+S],R=g.getTileRangeForExtentAndZ(v,d),O={};O[d]={};const F=this.createLoadedTileFinder(c,s,O),B=this.tmpExtent,$=this.tmpTileRange_;this.newTiles_=!1;const Y=l?xf(r.center,_,l,t.size):void 0;for(let U=R.minX;U<=R.maxX;++U)for(let W=R.minY;W<=R.maxY;++W){if(l&&!g.tileCoordIntersectsViewport([d,U,W],Y))continue;const ut=this.getTile(d,U,W,t);if(this.isDrawableTile(ut)){const Et=gt(this);if(ut.getState()==V.LOADED){O[d][ut.tileCoord.toString()]=ut;let yt=ut.inTransition(Et);yt&&i.opacity!==1&&(ut.endTransition(Et),yt=!1),!this.newTiles_&&(yt||!this.renderedTiles.includes(ut))&&(this.newTiles_=!0)}if(ut.getAlpha(Et,t.time)===1)continue}const L=g.getTileCoordChildTileRange(ut.tileCoord,$,B);let zt=!1;L&&(zt=F(d+1,L)),zt||g.forEachTileCoordParentTileRange(ut.tileCoord,F,$,B)}const Z=p/o*h/m,k=this.getRenderContext(t);oi(this.tempTransform,y/2,x/2,Z,Z,0,-y/2,-x/2),E&&this.clipUnrotated(k,t,E),c.getInterpolate()||(k.imageSmoothingEnabled=!1),this.preRender(k,t),this.renderedTiles.length=0;let it=Object.keys(O).map(Number);it.sort(Qn);let I,z,N;i.opacity===1&&(!this.containerReused||c.getOpaque(t.viewState.projection))?it=it.reverse():(I=[],z=[]);for(let U=it.length-1;U>=0;--U){const W=it[U],ut=c.getTilePixelSize(W,h,s),zt=g.getResolution(W)/p,Et=ut[0]*zt*Z,yt=ut[1]*zt*Z,sn=g.getTileCoordForCoordAndZ(kr(M),W),tr=g.getTileCoordExtent(sn),ue=qt(this.tempTransform,[m*(tr[0]-M[0])/p,m*(M[3]-tr[3])/p]),Ha=m*c.getGutterForProjection(s),to=O[W];for(const Su in to){const ci=to[Su],eo=ci.tileCoord,fi=sn[1]-eo[1],no=Math.round(ue[0]-(fi-1)*Et),Za=sn[2]-eo[2],Cu=Math.round(ue[1]-(Za-1)*yt),on=Math.round(ue[0]-fi*Et),je=Math.round(ue[1]-Za*yt),zn=no-on,er=Cu-je,nr=d===W,di=nr&&ci.getAlpha(gt(this),t.time)!==1;let ir=!1;if(!di)if(I){N=[on,je,on+zn,je,on+zn,je+er,on,je+er];for(let gi=0,Dr=I.length;gi<Dr;++gi)if(d!==W&&W<z[gi]){const Vt=I[gi];Me([on,je,on+zn,je+er],[Vt[0],Vt[3],Vt[4],Vt[7]])&&(ir||(k.save(),ir=!0),k.beginPath(),k.moveTo(N[0],N[1]),k.lineTo(N[2],N[3]),k.lineTo(N[4],N[5]),k.lineTo(N[6],N[7]),k.moveTo(Vt[6],Vt[7]),k.lineTo(Vt[4],Vt[5]),k.lineTo(Vt[2],Vt[3]),k.lineTo(Vt[0],Vt[1]),k.clip())}I.push(N),z.push(W)}else k.clearRect(on,je,zn,er);this.drawTileImage(ci,t,on,je,zn,er,Ha,nr),I&&!di?(ir&&k.restore(),this.renderedTiles.unshift(ci)):this.renderedTiles.push(ci),this.updateUsedTiles(t.usedTiles,c,ci)}}return this.renderedRevision=f,this.renderedResolution=p,this.extentChanged=!this.renderedExtent_||!ga(this.renderedExtent_,M),this.renderedExtent_=M,this.renderedPixelRatio=h,this.renderedProjection=s,this.manageTilePyramid(t,c,g,h,s,v,d,u.getPreload()),this.scheduleExpireCache(t,c),this.postRender(this.context,t),i.extent&&k.restore(),k.imageSmoothingEnabled=!0,this.container}drawTileImage(t,n,i,r,s,o,a,l){const h=this.getTileImage(t);if(!h)return;const u=this.getRenderContext(n),c=gt(this),f=n.layerStatesArray[n.layerIndex],g=f.opacity*(l?t.getAlpha(c,n.time):1),d=g!==u.globalAlpha;d&&(u.save(),u.globalAlpha=g),u.drawImage(h,a,a,h.width-2*a,h.height-2*a,i,r,s,o),d&&u.restore(),g!==f.opacity?n.animate=!0:l&&t.endTransition(c)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}scheduleExpireCache(t,n){if(n.canExpireCache()){const i=(function(r,s,o){const a=gt(r);a in o.usedTiles&&r.expireCache(o.viewState.projection,o.usedTiles[a])}).bind(null,n);t.postRenderFunctions.push(i)}}updateUsedTiles(t,n,i){const r=gt(n);r in t||(t[r]={}),t[r][i.getKey()]=!0}manageTilePyramid(t,n,i,r,s,o,a,l,h){const u=gt(n);u in t.wantedTiles||(t.wantedTiles[u]={});const c=t.wantedTiles[u],f=t.tileQueue,g=i.getMinZoom(),d=t.viewState.rotation,p=d?xf(t.viewState.center,t.viewState.resolution,d,t.size):void 0;let v=0,_,m,y,x,E,w;for(w=g;w<=a;++w)for(m=i.getTileRangeForExtentAndZ(o,w,m),y=i.getResolution(w),x=m.minX;x<=m.maxX;++x)for(E=m.minY;E<=m.maxY;++E)d&&!i.tileCoordIntersectsViewport([w,x,E],p)||(a-w<=l?(++v,_=n.getTile(w,x,E,r,s),_.getState()==V.IDLE&&(c[_.getKey()]=!0,f.isKeyQueued(_.getKey())||f.enqueue([_,u,i.getTileCoordCenter(_.tileCoord),y])),h!==void 0&&h(_)):n.useTile(w,x,E,s));n.updateCacheSize(v,s)}}class OC extends SC{constructor(t){super(t)}createRenderer(){return new LC(this)}}const pc={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},jr=[0,0,0],xi=5;class H1{constructor(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,ot(A2(this.resolutions_,(r,s)=>s-r),"`resolutions` must be sorted in descending order");let n;if(!t.origins){for(let r=0,s=this.resolutions_.length-1;r<s;++r)if(!n)n=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,ot(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const i=t.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=kr(i)),ot(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,ot(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:lg,ot(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map((r,s)=>{const o=new _g(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(i){const a=this.getTileRangeForExtentAndZ(i,s);o.minX=Math.max(a.minX,o.minX),o.maxX=Math.min(a.maxX,o.maxX),o.minY=Math.max(a.minY,o.minY),o.maxY=Math.min(a.maxY,o.maxY)}return o}):i&&this.calculateTileRanges_(i)}forEachTileCoord(t,n,i){const r=this.getTileRangeForExtentAndZ(t,n);for(let s=r.minX,o=r.maxX;s<=o;++s)for(let a=r.minY,l=r.maxY;a<=l;++a)i([n,s,a])}forEachTileCoordParentTileRange(t,n,i,r){let s,o,a,l=null,h=t[0]-1;for(this.zoomFactor_===2?(o=t[1],a=t[2]):l=this.getTileCoordExtent(t,r);h>=this.minZoom;){if(o!==void 0&&a!==void 0?(o=Math.floor(o/2),a=Math.floor(a/2),s=Br(o,o,a,a,i)):s=this.getTileRangeForExtentAndZ(l,h,i),n(h,s))return!0;--h}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,n,i){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){const s=t[1]*2,o=t[2]*2;return Br(s,s+1,o,o+1,n)}const r=this.getTileCoordExtent(t,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,t[0]+1,n)}return null}getTileRangeForTileCoordAndZ(t,n,i){if(n>this.maxZoom||n<this.minZoom)return null;const r=t[0],s=t[1],o=t[2];if(n===r)return Br(s,o,s,o,i);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,n-r),h=Math.floor(s*l),u=Math.floor(o*l);if(n<r)return Br(h,h,u,u,i);const c=Math.floor(l*(s+1))-1,f=Math.floor(l*(o+1))-1;return Br(h,c,u,f,i)}const a=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,n,i)}getTileRangeForExtentAndZ(t,n,i){this.getTileCoordForXYAndZ_(t[0],t[3],n,!1,jr);const r=jr[1],s=jr[2];this.getTileCoordForXYAndZ_(t[2],t[1],n,!0,jr);const o=jr[1],a=jr[2];return Br(r,o,s,a,i)}getTileCoordCenter(t){const n=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=Fe(this.getTileSize(t[0]),this.tmpSize_);return[n[0]+(t[1]+.5)*r[0]*i,n[1]-(t[2]+.5)*r[1]*i]}getTileCoordExtent(t,n){const i=this.getOrigin(t[0]),r=this.getResolution(t[0]),s=Fe(this.getTileSize(t[0]),this.tmpSize_),o=i[0]+t[1]*s[0]*r,a=i[1]-(t[2]+1)*s[1]*r,l=o+s[0]*r,h=a+s[1]*r;return $i(o,a,l,h,n)}getTileCoordForCoordAndResolution(t,n,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],n,!1,i)}getTileCoordForXYAndResolution_(t,n,i,r,s){const o=this.getZForResolution(i),a=i/this.getResolution(o),l=this.getOrigin(o),h=Fe(this.getTileSize(o),this.tmpSize_);let u=a*(t-l[0])/i/h[0],c=a*(l[1]-n)/i/h[1];return r?(u=yl(u,xi)-1,c=yl(c,xi)-1):(u=_l(u,xi),c=_l(c,xi)),Um(o,u,c,s)}getTileCoordForXYAndZ_(t,n,i,r,s){const o=this.getOrigin(i),a=this.getResolution(i),l=Fe(this.getTileSize(i),this.tmpSize_);let h=(t-o[0])/a/l[0],u=(o[1]-n)/a/l[1];return r?(h=yl(h,xi)-1,u=yl(u,xi)-1):(h=_l(h,xi),u=_l(u,xi)),Um(i,h,u,s)}getTileCoordForCoordAndZ(t,n,i){return this.getTileCoordForXYAndZ_(t[0],t[1],n,!1,i)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,n){const i=Bd(this.resolutions_,t,n||0);return Ot(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,n){return s1(n,0,n.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const n=this.resolutions_.length,i=new Array(n);for(let r=this.minZoom;r<n;++r)i[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=i}}function Z1(e){let t=e.getDefaultTileGrid();return t||(t=FC(e),e.setDefaultTileGrid(t)),t}function kC(e,t,n){const i=t[0],r=e.getTileCoordCenter(t),s=yg(n);if(!Fs(s,r)){const o=ht(s),a=Math.ceil((s[0]-r[0])/o);return r[0]+=o*a,e.getTileCoordForCoordAndZ(r,i)}return t}function NC(e,t,n,i){i=i!==void 0?i:"top-left";const r=Q1(e,t,n);return new H1({extent:e,origin:G2(e,i),resolutions:r,tileSize:n})}function DC(e){const t=e||{},n=t.extent||Zt("EPSG:3857").getExtent(),i={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:Q1(n,t.maxZoom,t.tileSize,t.maxResolution)};return new H1(i)}function Q1(e,t,n,i){t=t!==void 0?t:Qw,n=Fe(n!==void 0?n:lg);const r=ae(e),s=ht(e);i=i>0?i:Math.max(s/n[0],r/n[1]);const o=t+1,a=new Array(o);for(let l=0;l<o;++l)a[l]=i/Math.pow(2,l);return a}function FC(e,t,n,i){const r=yg(e);return NC(r,t,n,i)}function yg(e){e=Zt(e);let t=e.getExtent();if(!t){const n=180*Xd.degrees/e.getMetersPerUnit();t=$i(-n,-n,n,n)}return t}class bC extends G1{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.opaque_=t.opaque!==void 0?t.opaque:!1,this.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,this.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;const n=[256,256];this.tileGrid&&Fe(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tileCache=new K1(t.cacheSize||0),this.tmpSize=[0,0],this.key_=t.key||"",this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(t,n){const i=this.getTileCacheForProjection(t);i&&i.expireCache(n)}forEachLoadedTile(t,n,i,r){const s=this.getTileCacheForProjection(t);if(!s)return!1;let o=!0,a,l,h;for(let u=i.minX;u<=i.maxX;++u)for(let c=i.minY;c<=i.maxY;++c)l=pu(n,u,c),h=!1,s.containsKey(l)&&(a=s.get(l),h=a.getState()===V.LOADED,h&&(h=r(a)!==!1)),h||(o=!1);return o}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getOpaque(t){return this.opaque_}getResolutions(t){const n=t?this.getTileGridForProjection(t):this.tileGrid;return n?n.getResolutions():null}getTile(t,n,i,r,s){return at()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:Z1(t)}getTileCacheForProjection(t){const n=this.getProjection();return ot(n===null||Ur(n,t),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,n,i){const r=this.getTileGridForProjection(i),s=this.getTilePixelRatio(n),o=Fe(r.getTileSize(t),this.tmpSize);return s==1?o:Uw(o,s,this.tmpSize)}getTileCoordForTileUrlFunction(t,n){n=n!==void 0?n:this.getProjection();const i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=kC(i,t,n)),MC(t,i)?t:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(t,n){const i=this.getTileCacheForProjection(n);t>i.highWaterMark&&(i.highWaterMark=t)}useTile(t,n,i,r){}}class zC extends li{constructor(t,n){super(t),this.tile=n}}function GC(e,t){const n=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,s=/\{-y\}/g;return function(o,a,l){if(o)return e.replace(n,o[0].toString()).replace(i,o[1].toString()).replace(r,o[2].toString()).replace(s,function(){const h=o[0],u=t.getFullTileRange(h);if(!u)throw new Error("The {-y} placeholder requires a tile grid with extent");return(u.getHeight()-o[2]-1).toString()})}}function BC(e,t){const n=e.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=GC(e[r],t);return jC(i)}function jC(e){return e.length===1?e[0]:function(t,n,i){if(!t)return;const r=wC(t),s=ws(r,e.length);return e[s](t,n,i)}}function UC(e){const t=[];let n=/\{([a-z])-([a-z])\}/.exec(e);if(n){const i=n[1].charCodeAt(0),r=n[2].charCodeAt(0);let s;for(s=i;s<=r;++s)t.push(e.replace(n[0],String.fromCharCode(s)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e),n){const i=parseInt(n[2],10);for(let r=parseInt(n[1],10);r<=i;r++)t.push(e.replace(n[0],r.toString()));return t}return t.push(e),t}class vg extends bC{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===vg.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const n=t.target,i=gt(n),r=n.getState();let s;r==V.LOADING?(this.tileLoadingKeys_[i]=!0,s=pc.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],s=r==V.ERROR?pc.TILELOADERROR:r==V.LOADED?pc.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new zC(s,n))}setTileLoadFunction(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,n){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof n<"u"?this.setKey(n):this.changed()}setUrl(t){const n=UC(t);this.urls=n,this.setUrls(n)}setUrls(t){this.urls=t;const n=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(BC(t,this.tileGrid),n):this.setKey(n)}tileUrlFunction(t,n,i){}useTile(t,n,i){const r=pu(t,n,i);this.tileCache.containsKey(r)&&this.tileCache.get(r)}}class WC extends vg{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:XC,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate!==void 0?t.interpolate:!0,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,this.tileClass=t.tileClass!==void 0?t.tileClass:j1,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1}expireCache(t,n){const i=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==i?n:{});for(const r in this.tileCacheForProjection){const s=this.tileCacheForProjection[r];s.expireCache(s==i?n:{})}}getGutterForProjection(t){return this.getProjection()&&t&&!Ur(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getOpaque(t){return this.getProjection()&&t&&!Ur(this.getProjection(),t)?!1:super.getOpaque(t)}getTileGridForProjection(t){const n=this.getProjection();if(this.tileGrid&&(!n||Ur(n,t)))return this.tileGrid;const i=gt(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=Z1(t)),this.tileGridForProjection[i]}getTileCacheForProjection(t){const n=this.getProjection();if(!n||Ur(n,t))return this.tileCache;const i=gt(t);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new K1(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}createTile_(t,n,i,r,s,o){const a=[t,n,i],l=this.getTileCoordForTileUrlFunction(a,s),h=l?this.tileUrlFunction(l,r,s):void 0,u=new this.tileClass(a,h!==void 0?V.IDLE:V.EMPTY,h!==void 0?h:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=o,u.addEventListener(Q.CHANGE,this.handleTileChange.bind(this)),u}getTile(t,n,i,r,s){const o=this.getProjection();if(!o||!s||Ur(o,s))return this.getTileInternal(t,n,i,r,o||s);const a=this.getTileCacheForProjection(s),l=[t,n,i];let h;const u=q1(l);a.containsKey(u)&&(h=a.get(u));const c=this.getKey();if(h&&h.key==c)return h;const f=this.getTileGridForProjection(o),g=this.getTileGridForProjection(s),d=this.getTileCoordForTileUrlFunction(l,s),p=new kf(o,f,s,g,l,d,this.getTilePixelRatio(r),this.getGutter(),(v,_,m,y)=>this.getTileInternal(v,_,m,y,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return p.key=c,h?(p.interimTile=h,p.refreshInterimChain(),a.replace(u,p)):a.set(u,p),p}getTileInternal(t,n,i,r,s){let o=null;const a=pu(t,n,i),l=this.getKey();if(!this.tileCache.containsKey(a))o=this.createTile_(t,n,i,r,s,l),this.tileCache.set(a,o);else if(o=this.tileCache.get(a),o.key!=l){const h=o;o=this.createTile_(t,n,i,r,s,l),h.getState()==V.IDLE?o.interimTile=h.interimTile:o.interimTile=h,o.refreshInterimChain(),this.tileCache.replace(a,o)}return o}setRenderReprojectionEdges(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(const n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}}setTileGridForProjection(t,n){const i=Zt(t);if(i){const r=gt(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=n)}}clear(){super.clear();for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear()}}function XC(e,t){e.getImage().src=t}class VC extends WC{constructor(t){t=t||{};const n=t.projection!==void 0?t.projection:"EPSG:3857",i=t.tileGrid!==void 0?t.tileGrid:DC({extent:yg(n),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,opaque:t.opaque,projection:n,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=t.gutter!==void 0?t.gutter:0}getGutter(){return this.gutter_}}const $C='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class YC extends VC{constructor(t){t=t||{};let n;t.attributions!==void 0?n=t.attributions:n=[$C];const i=t.crossOrigin!==void 0?t.crossOrigin:"anonymous",r=t.url!==void 0?t.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:i,interpolate:t.interpolate,maxZoom:t.maxZoom!==void 0?t.maxZoom:19,opaque:t.opaque!==void 0?t.opaque:!0,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:r,wrapX:t.wrapX,zDirection:t.zDirection})}}const J1=({className:e,projection:t,changeProjection:n,name:i,...r})=>{const s=o=>{const a=o.target.value;n(a)};return K.jsx("select",{className:`${e} projection-selector`,value:t.name,onChange:s,...r,children:Object.keys(fa).map(o=>K.jsx("option",{value:o,children:fa[o].name},`${i}-${o}`))})},qC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAQSwAAEEsB549FewAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAPtSURBVHic7ZlNTBxlGMd/z+xuCyUKqf1QatUtXSUpH9V2iT0YTVRMJFEvJCbGg0QvctdEjeGmVU8eejDqiYMfiakx9mA06a0psCjFRKWFpbEoFizQlu22uzuPB6i2ZFeB91nemMzvRGaY3/Off3Z2dt4RNohfDx2qLRQWuxQeRXgASAINy7vngSyQQfluU6Lu2O4TJ65sRC6p9oDxAwfqCQqvAi8D9as8bAE4Qpg43JTJLFQvXRULUJDswdZeRPoUblunZlZU+5JDo0cE1DTgMlUpIPvIPTWl3K0fiPK8hU/g05ow0dOYyeQsfCvctmT3728IE6VvQNLG6gHCRKf1JRFYyrS7OxbGS/1VOHmADuTaZ9rdHbOUmhYwcXbsXUS6LJ03IdI5PvnL26ZKK9FEx7521dgwZUoN4nHim2so5vOEpaLrqDAMSacyp4ZdRQBxCwmAauw9ypx8/R27qdu2E0RQVS7P/M6l6SmXUUEg+hbwhIvkb5mFJJtufRh4bOX2LVu3U7f9dpClD5qIcMuORmob1ntXXEakc6Kj7SE3yRImBahKT7nttQ1by/5/pe1rm6kvOEswKEBBVHjSIszakC41+A5zLuDsgy3NwLZy+/IX58sek7845zoWYEf2YNu9rhLnAophrLnSvsU/z5O7MHPzttk/yF2YdR0LQAmtOHu1ON8FBHZW3KnK/LlJLs9ME9+0mUL+CqXCNdeR/8yWf5m9Stxvg6HW/NeVWLyap3g17zxqJYLUujoMvgRlQ57byyHCoqvDuYBA9DdXx3rR0H22cwFhqfSTq2O9lISfXR0mzwLj6bZzwC4L1xqYaho8daerxOZpUPnKxLMm5KiFxeancEw/pEpLVpVGhspHFiKTAvaeHM0AX1i4VoOin6eGRr63cNktiIi8BhTMfJUpSBB7w0pmVkDTwMgYyJtWvkqo8nrTyR9OW/nMF0XH0+39oM9Ze5fQ/qbBUZOV5uuYrgkCBHULLyIcs/ai+nVQd+kla615Acnjk/k9d9/3FMhhK6fA+3uSzU8nj0+aP1BU9dXYmY7WZ0TlHSC1TsVYqPpKamj0S8tcN2L+CbiRvQOjR+fCxD6gV2BiDYeOA71zYaKlmicPG/By9DpL7wrb0wT6uCr3q5BaiG9pAagv5n4U5bQowyDfJodGBqv1LnAlG1bASp7t6WsshUwBxAJ2ffJxn5enyqpeAv8HogJ8B/BNVIDvAL6JCvAdwDdRAb4D+CYqwHcA30QF+A7gm6gA3wF8ExXgO4BvogJ8B/BNVIDvAL6JCvAdwDdRAb4D+CYqwHcA30QF+A7gm6gA3wF8462A6bs4DwwDw8t/e+EvEJAYca8hpZEAAAAASUVORK5CYII=",KC=({projection:e,onclickHangler:t,formData:n,orthodromy:i})=>{const{projection:r,changeProjection:s}=Dy(""),o=ge.useRef(null),a=ge.useRef(null),l=ge.useRef(new os),h=ge.useRef(new os),[u]=ge.useState(new GS({features:[l.current,h.current,new os({geometry:new pr([])})]})),c=g=>{const p=u.getFeatures().find(v=>v.getGeometry()instanceof pr);p?p.setGeometry(new pr(g)):u.addFeature(new os({geometry:new pr(g)}))},f=(g,d,p)=>{u.getFeatures().includes(g)||u.addFeature(g),g.setGeometry(new e1(d));const _=new ei({image:new za({anchor:[.5,1],src:qC,scale:.8}),text:new cu({text:p,font:"20px Arial",offsetY:-37,fill:new Ys({color:"#ffffff"}),stroke:new Gs({color:"#000000",width:2})})});g.setStyle(_)};return ge.useEffect(()=>{var g;if(o.current){const d=(g=a.current)==null?void 0:g.getView(),p=new Cn({projection:r.EPSG,center:d?Ai(d.getCenter(),d==null?void 0:d.getProjection(),r.EPSG):[0,0],zoom:d?d.getZoom():3.7}),v=new NS({source:u,style:new ei({stroke:new Gs({color:"#FF0000",width:2})})});a.current=new yC({target:o.current,layers:[new OC({source:new YC}),v],view:p})}return()=>{a.current&&a.current.setTarget(void 0)}},[r,u]),ge.useEffect(()=>{const g=Ai([n.point1_lng,n.point1_lat],e.EPSG,r.EPSG),d=Ai([n.point2_lng,n.point2_lat],e.EPSG,r.EPSG);f(l.current,g,"1"),f(h.current,d,"2")},[n,e,r]),ge.useEffect(()=>{a.current&&a.current.on("click",d=>{console.log(d.coordinate,r.name,"->",e.name);const p=Ai(d.coordinate,r.EPSG,e.EPSG);t(p[0],p[1])});const g=i.line.map(d=>Ai(d,i.EPSG,r.EPSG));c(g)},[r,e]),K.jsxs("div",{style:{width:"100%",position:"relative"},children:[K.jsx("div",{ref:o,style:{width:"100%",height:"100vh"}}),K.jsx(J1,{style:{position:"absolute",top:10,right:10},name:"MapProjection",projection:r,changeProjection:s})]})},HC=({formData:e,setFormData:t,projection:n,changeProjection:i,currentPoint:r,setCurrentPoint:s,handleFormSubmit:o})=>{const a=h=>{const{name:u,value:c}=h.target;t({...e,[u]:c})},l=h=>{h.preventDefault(),o(e,n.EPSG)};return K.jsxs("form",{onSubmit:l,className:"orhodromy-form",children:[K.jsxs("label",{children:[K.jsx("h4",{children:"Projection:"}),K.jsx(J1,{name:"main",projection:n,changeProjection:i})]}),K.jsxs("label",{children:[K.jsx("button",{type:"button",className:` ${r=="point1"?"orhodromy-form-button-picker-active":""} orhodromy-form-button-picker`,onClick:()=>s("point1"),children:""}),K.jsx("h4",{className:"",children:"Point1:"})]}),K.jsxs("p",{children:[K.jsxs("label",{children:[K.jsx("span",{children:"lng:"}),K.jsx("input",{type:"number",name:"point1_lng",value:e.point1_lng,onChange:a,required:!0})]}),K.jsx("br",{}),K.jsxs("label",{children:[K.jsx("span",{children:"lat:"}),K.jsx("input",{type:"number",name:"point1_lat",value:e.point1_lat,onChange:a,required:!0})]})]}),K.jsxs("label",{children:[K.jsx("button",{type:"button",className:` ${r=="point2"?"orhodromy-form-button-picker-active":""} orhodromy-form-button-picker`,onClick:()=>s("point2"),children:""}),K.jsx("h4",{children:"Point2:"})]}),K.jsxs("p",{children:[K.jsxs("label",{children:[K.jsx("span",{children:"lng:"}),K.jsx("input",{type:"number",name:"point2_lng",value:e.point2_lng,onChange:a,required:!0})]}),K.jsx("br",{}),K.jsxs("label",{children:[K.jsx("span",{children:"lat:"}),K.jsx("input",{type:"number",name:"point2_lat",value:e.point2_lat,onChange:a,required:!0})]})]}),K.jsx("h4",{children:"Params:"}),K.jsx("p",{children:K.jsxs("label",{children:[K.jsx("span",{style:{minWidth:"3em"},children:"nodes:"}),K.jsx("input",{type:"number",name:"count",value:e.count,onChange:a,required:!0})]})}),K.jsx("button",{type:"submit",children:"Submit"})]})};function tv(e,t){return function(){return e.apply(t,arguments)}}const{toString:ZC}=Object.prototype,{getPrototypeOf:xg}=Object,_u=(e=>t=>{const n=ZC.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),vn=e=>(e=e.toLowerCase(),t=>_u(t)===e),yu=e=>t=>typeof t===e,{isArray:Zs}=Array,Ra=yu("undefined");function QC(e){return e!==null&&!Ra(e)&&e.constructor!==null&&!Ra(e.constructor)&&tn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ev=vn("ArrayBuffer");function JC(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ev(e.buffer),t}const tR=yu("string"),tn=yu("function"),nv=yu("number"),vu=e=>e!==null&&typeof e=="object",eR=e=>e===!0||e===!1,jl=e=>{if(_u(e)!=="object")return!1;const t=xg(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},nR=vn("Date"),iR=vn("File"),rR=vn("Blob"),sR=vn("FileList"),oR=e=>vu(e)&&tn(e.pipe),aR=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||tn(e.append)&&((t=_u(e))==="formdata"||t==="object"&&tn(e.toString)&&e.toString()==="[object FormData]"))},lR=vn("URLSearchParams"),[hR,uR,cR,fR]=["ReadableStream","Request","Response","Headers"].map(vn),dR=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Wa(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,r;if(typeof e!="object"&&(e=[e]),Zs(e))for(i=0,r=e.length;i<r;i++)t.call(null,e[i],i,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(i=0;i<o;i++)a=s[i],t.call(null,e[a],a,e)}}function iv(e,t){t=t.toLowerCase();const n=Object.keys(e);let i=n.length,r;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const rv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,sv=e=>!Ra(e)&&e!==rv;function Nf(){const{caseless:e}=sv(this)&&this||{},t={},n=(i,r)=>{const s=e&&iv(t,r)||r;jl(t[s])&&jl(i)?t[s]=Nf(t[s],i):jl(i)?t[s]=Nf({},i):Zs(i)?t[s]=i.slice():t[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&Wa(arguments[i],n);return t}const gR=(e,t,n,{allOwnKeys:i}={})=>(Wa(t,(r,s)=>{n&&tn(r)?e[s]=tv(r,n):e[s]=r},{allOwnKeys:i}),e),mR=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),pR=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},_R=(e,t,n,i)=>{let r,s,o;const a={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),s=r.length;s-- >0;)o=r[s],(!i||i(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&xg(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},yR=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},vR=e=>{if(!e)return null;if(Zs(e))return e;let t=e.length;if(!nv(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},xR=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&xg(Uint8Array)),ER=(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=i.next())&&!r.done;){const s=r.value;t.call(e,s[0],s[1])}},wR=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},MR=vn("HTMLFormElement"),SR=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),$m=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),CR=vn("RegExp"),ov=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};Wa(n,(r,s)=>{let o;(o=t(r,s,e))!==!1&&(i[s]=o||r)}),Object.defineProperties(e,i)},RR=e=>{ov(e,(t,n)=>{if(tn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(tn(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},TR=(e,t)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return Zs(e)?i(e):i(String(e).split(t)),n},IR=()=>{},AR=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,_c="abcdefghijklmnopqrstuvwxyz",Ym="0123456789",av={DIGIT:Ym,ALPHA:_c,ALPHA_DIGIT:_c+_c.toUpperCase()+Ym},PR=(e=16,t=av.ALPHA_DIGIT)=>{let n="";const{length:i}=t;for(;e--;)n+=t[Math.random()*i|0];return n};function LR(e){return!!(e&&tn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const OR=e=>{const t=new Array(10),n=(i,r)=>{if(vu(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[r]=i;const s=Zs(i)?[]:{};return Wa(i,(o,a)=>{const l=n(o,r+1);!Ra(l)&&(s[a]=l)}),t[r]=void 0,s}}return i};return n(e,0)},kR=vn("AsyncFunction"),NR=e=>e&&(vu(e)||tn(e))&&tn(e.then)&&tn(e.catch),C={isArray:Zs,isArrayBuffer:ev,isBuffer:QC,isFormData:aR,isArrayBufferView:JC,isString:tR,isNumber:nv,isBoolean:eR,isObject:vu,isPlainObject:jl,isReadableStream:hR,isRequest:uR,isResponse:cR,isHeaders:fR,isUndefined:Ra,isDate:nR,isFile:iR,isBlob:rR,isRegExp:CR,isFunction:tn,isStream:oR,isURLSearchParams:lR,isTypedArray:xR,isFileList:sR,forEach:Wa,merge:Nf,extend:gR,trim:dR,stripBOM:mR,inherits:pR,toFlatObject:_R,kindOf:_u,kindOfTest:vn,endsWith:yR,toArray:vR,forEachEntry:ER,matchAll:wR,isHTMLForm:MR,hasOwnProperty:$m,hasOwnProp:$m,reduceDescriptors:ov,freezeMethods:RR,toObjectSet:TR,toCamelCase:SR,noop:IR,toFiniteNumber:AR,findKey:iv,global:rv,isContextDefined:sv,ALPHABET:av,generateString:PR,isSpecCompliantForm:LR,toJSONObject:OR,isAsyncFn:kR,isThenable:NR};function J(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}C.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:C.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const lv=J.prototype,hv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{hv[e]={value:e}});Object.defineProperties(J,hv);Object.defineProperty(lv,"isAxiosError",{value:!0});J.from=(e,t,n,i,r,s)=>{const o=Object.create(lv);return C.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),J.call(o,e.message,t,n,i,r),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const DR=null;function Df(e){return C.isPlainObject(e)||C.isArray(e)}function uv(e){return C.endsWith(e,"[]")?e.slice(0,-2):e}function qm(e,t,n){return e?e.concat(t).map(function(r,s){return r=uv(r),!n&&s?"["+r+"]":r}).join(n?".":""):t}function FR(e){return C.isArray(e)&&!e.some(Df)}const bR=C.toFlatObject(C,{},null,function(t){return/^is[A-Z]/.test(t)});function xu(e,t,n){if(!C.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=C.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,v){return!C.isUndefined(v[p])});const i=n.metaTokens,r=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&C.isSpecCompliantForm(t);if(!C.isFunction(r))throw new TypeError("visitor must be a function");function h(d){if(d===null)return"";if(C.isDate(d))return d.toISOString();if(!l&&C.isBlob(d))throw new J("Blob is not supported. Use a Buffer instead.");return C.isArrayBuffer(d)||C.isTypedArray(d)?l&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function u(d,p,v){let _=d;if(d&&!v&&typeof d=="object"){if(C.endsWith(p,"{}"))p=i?p:p.slice(0,-2),d=JSON.stringify(d);else if(C.isArray(d)&&FR(d)||(C.isFileList(d)||C.endsWith(p,"[]"))&&(_=C.toArray(d)))return p=uv(p),_.forEach(function(y,x){!(C.isUndefined(y)||y===null)&&t.append(o===!0?qm([p],x,s):o===null?p:p+"[]",h(y))}),!1}return Df(d)?!0:(t.append(qm(v,p,s),h(d)),!1)}const c=[],f=Object.assign(bR,{defaultVisitor:u,convertValue:h,isVisitable:Df});function g(d,p){if(!C.isUndefined(d)){if(c.indexOf(d)!==-1)throw Error("Circular reference detected in "+p.join("."));c.push(d),C.forEach(d,function(_,m){(!(C.isUndefined(_)||_===null)&&r.call(t,_,C.isString(m)?m.trim():m,p,f))===!0&&g(_,p?p.concat(m):[m])}),c.pop()}}if(!C.isObject(e))throw new TypeError("data must be an object");return g(e),t}function Km(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function Eg(e,t){this._pairs=[],e&&xu(e,this,t)}const cv=Eg.prototype;cv.append=function(t,n){this._pairs.push([t,n])};cv.toString=function(t){const n=t?function(i){return t.call(this,i,Km)}:Km;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function zR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fv(e,t,n){if(!t)return e;const i=n&&n.encode||zR,r=n&&n.serialize;let s;if(r?s=r(t,n):s=C.isURLSearchParams(t)?t.toString():new Eg(t,n).toString(i),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class Hm{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){C.forEach(this.handlers,function(i){i!==null&&t(i)})}}const dv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},GR=typeof URLSearchParams<"u"?URLSearchParams:Eg,BR=typeof FormData<"u"?FormData:null,jR=typeof Blob<"u"?Blob:null,UR={isBrowser:!0,classes:{URLSearchParams:GR,FormData:BR,Blob:jR},protocols:["http","https","file","blob","url","data"]},wg=typeof window<"u"&&typeof document<"u",WR=(e=>wg&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),XR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",VR=wg&&window.location.href||"http://localhost",$R=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:wg,hasStandardBrowserEnv:WR,hasStandardBrowserWebWorkerEnv:XR,origin:VR},Symbol.toStringTag,{value:"Module"})),mn={...$R,...UR};function YR(e,t){return xu(e,new mn.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,s){return mn.isNode&&C.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function qR(e){return C.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function KR(e){const t={},n=Object.keys(e);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],t[s]=e[s];return t}function gv(e){function t(n,i,r,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&C.isArray(r)?r.length:o,l?(C.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!C.isObject(r[o]))&&(r[o]=[]),t(n,i,r[o],s)&&C.isArray(r[o])&&(r[o]=KR(r[o])),!a)}if(C.isFormData(e)&&C.isFunction(e.entries)){const n={};return C.forEachEntry(e,(i,r)=>{t(qR(i),r,n,0)}),n}return null}function HR(e,t,n){if(C.isString(e))try{return(t||JSON.parse)(e),C.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}const Xa={transitional:dv,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=C.isObject(t);if(s&&C.isHTMLForm(t)&&(t=new FormData(t)),C.isFormData(t))return r?JSON.stringify(gv(t)):t;if(C.isArrayBuffer(t)||C.isBuffer(t)||C.isStream(t)||C.isFile(t)||C.isBlob(t)||C.isReadableStream(t))return t;if(C.isArrayBufferView(t))return t.buffer;if(C.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return YR(t,this.formSerializer).toString();if((a=C.isFileList(t))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return xu(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),HR(t)):t}],transformResponse:[function(t){const n=this.transitional||Xa.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(C.isResponse(t)||C.isReadableStream(t))return t;if(t&&C.isString(t)&&(i&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?J.from(a,J.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mn.classes.FormData,Blob:mn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};C.forEach(["delete","get","head","post","put","patch"],e=>{Xa.headers[e]={}});const ZR=C.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),QR=e=>{const t={};let n,i,r;return e&&e.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!n||t[n]&&ZR[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},Zm=Symbol("internals");function xo(e){return e&&String(e).trim().toLowerCase()}function Ul(e){return e===!1||e==null?e:C.isArray(e)?e.map(Ul):String(e)}function JR(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const tT=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function yc(e,t,n,i,r){if(C.isFunction(i))return i.call(this,t,n);if(r&&(t=n),!!C.isString(t)){if(C.isString(i))return t.indexOf(i)!==-1;if(C.isRegExp(i))return i.test(t)}}function eT(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function nT(e,t){const n=C.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(r,s,o){return this[i].call(this,t,r,s,o)},configurable:!0})})}class Ae{constructor(t){t&&this.set(t)}set(t,n,i){const r=this;function s(a,l,h){const u=xo(l);if(!u)throw new Error("header name must be a non-empty string");const c=C.findKey(r,u);(!c||r[c]===void 0||h===!0||h===void 0&&r[c]!==!1)&&(r[c||l]=Ul(a))}const o=(a,l)=>C.forEach(a,(h,u)=>s(h,u,l));if(C.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(C.isString(t)&&(t=t.trim())&&!tT(t))o(QR(t),n);else if(C.isHeaders(t))for(const[a,l]of t.entries())s(l,a,i);else t!=null&&s(n,t,i);return this}get(t,n){if(t=xo(t),t){const i=C.findKey(this,t);if(i){const r=this[i];if(!n)return r;if(n===!0)return JR(r);if(C.isFunction(n))return n.call(this,r,i);if(C.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=xo(t),t){const i=C.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||yc(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let r=!1;function s(o){if(o=xo(o),o){const a=C.findKey(i,o);a&&(!n||yc(i,i[a],a,n))&&(delete i[a],r=!0)}}return C.isArray(t)?t.forEach(s):s(t),r}clear(t){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!t||yc(this,this[s],s,t,!0))&&(delete this[s],r=!0)}return r}normalize(t){const n=this,i={};return C.forEach(this,(r,s)=>{const o=C.findKey(i,s);if(o){n[o]=Ul(r),delete n[s];return}const a=t?eT(s):String(s).trim();a!==s&&delete n[s],n[a]=Ul(r),i[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return C.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=t&&C.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(r=>i.set(r)),i}static accessor(t){const i=(this[Zm]=this[Zm]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=xo(o);i[a]||(nT(r,o),i[a]=!0)}return C.isArray(t)?t.forEach(s):s(t),this}}Ae.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);C.reduceDescriptors(Ae.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[n]=i}}});C.freezeMethods(Ae);function vc(e,t){const n=this||Xa,i=t||n,r=Ae.from(i.headers);let s=i.data;return C.forEach(e,function(a){s=a.call(n,s,r.normalize(),t?t.status:void 0)}),r.normalize(),s}function mv(e){return!!(e&&e.__CANCEL__)}function Qs(e,t,n){J.call(this,e??"canceled",J.ERR_CANCELED,t,n),this.name="CanceledError"}C.inherits(Qs,J,{__CANCEL__:!0});function pv(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new J("Request failed with status code "+n.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function iT(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function rT(e,t){e=e||10;const n=new Array(e),i=new Array(e);let r=0,s=0,o;return t=t!==void 0?t:1e3,function(l){const h=Date.now(),u=i[s];o||(o=h),n[r]=l,i[r]=h;let c=s,f=0;for(;c!==r;)f+=n[c++],c=c%e;if(r=(r+1)%e,r===s&&(s=(s+1)%e),h-o<t)return;const g=u&&h-u;return g?Math.round(f*1e3/g):void 0}}function sT(e,t){let n=0;const i=1e3/t;let r=null;return function(){const o=this===!0,a=Date.now();if(o||a-n>i)return r&&(clearTimeout(r),r=null),n=a,e.apply(null,arguments);r||(r=setTimeout(()=>(r=null,n=Date.now(),e.apply(null,arguments)),i-(a-n)))}}const Rh=(e,t,n=3)=>{let i=0;const r=rT(50,250);return sT(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-i,h=r(l),u=o<=a;i=o;const c={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:h||void 0,estimated:h&&a&&u?(a-o)/h:void 0,event:s,lengthComputable:a!=null};c[t?"download":"upload"]=!0,e(c)},n)},oT=mn.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function r(s){let o=s;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=r(window.location.href),function(o){const a=C.isString(o)?r(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}(),aT=mn.hasStandardBrowserEnv?{write(e,t,n,i,r,s){const o=[e+"="+encodeURIComponent(t)];C.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),C.isString(i)&&o.push("path="+i),C.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function lT(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function hT(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function _v(e,t){return e&&!lT(t)?hT(e,t):t}const Qm=e=>e instanceof Ae?{...e}:e;function Ir(e,t){t=t||{};const n={};function i(h,u,c){return C.isPlainObject(h)&&C.isPlainObject(u)?C.merge.call({caseless:c},h,u):C.isPlainObject(u)?C.merge({},u):C.isArray(u)?u.slice():u}function r(h,u,c){if(C.isUndefined(u)){if(!C.isUndefined(h))return i(void 0,h,c)}else return i(h,u,c)}function s(h,u){if(!C.isUndefined(u))return i(void 0,u)}function o(h,u){if(C.isUndefined(u)){if(!C.isUndefined(h))return i(void 0,h)}else return i(void 0,u)}function a(h,u,c){if(c in t)return i(h,u);if(c in e)return i(void 0,h)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(h,u)=>r(Qm(h),Qm(u),!0)};return C.forEach(Object.keys(Object.assign({},e,t)),function(u){const c=l[u]||r,f=c(e[u],t[u],u);C.isUndefined(f)&&c!==a||(n[u]=f)}),n}const yv=e=>{const t=Ir({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:o,auth:a}=t;t.headers=o=Ae.from(o),t.url=fv(_v(t.baseURL,t.url),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(C.isFormData(n)){if(mn.hasStandardBrowserEnv||mn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[h,...u]=l?l.split(";").map(c=>c.trim()).filter(Boolean):[];o.setContentType([h||"multipart/form-data",...u].join("; "))}}if(mn.hasStandardBrowserEnv&&(i&&C.isFunction(i)&&(i=i(t)),i||i!==!1&&oT(t.url))){const h=r&&s&&aT.read(s);h&&o.set(r,h)}return t},uT=typeof XMLHttpRequest<"u",cT=uT&&function(e){return new Promise(function(n,i){const r=yv(e);let s=r.data;const o=Ae.from(r.headers).normalize();let{responseType:a}=r,l;function h(){r.cancelToken&&r.cancelToken.unsubscribe(l),r.signal&&r.signal.removeEventListener("abort",l)}let u=new XMLHttpRequest;u.open(r.method.toUpperCase(),r.url,!0),u.timeout=r.timeout;function c(){if(!u)return;const g=Ae.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),p={data:!a||a==="text"||a==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:g,config:e,request:u};pv(function(_){n(_),h()},function(_){i(_),h()},p),u=null}"onloadend"in u?u.onloadend=c:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(c)},u.onabort=function(){u&&(i(new J("Request aborted",J.ECONNABORTED,r,u)),u=null)},u.onerror=function(){i(new J("Network Error",J.ERR_NETWORK,r,u)),u=null},u.ontimeout=function(){let d=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const p=r.transitional||dv;r.timeoutErrorMessage&&(d=r.timeoutErrorMessage),i(new J(d,p.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,r,u)),u=null},s===void 0&&o.setContentType(null),"setRequestHeader"in u&&C.forEach(o.toJSON(),function(d,p){u.setRequestHeader(p,d)}),C.isUndefined(r.withCredentials)||(u.withCredentials=!!r.withCredentials),a&&a!=="json"&&(u.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&u.addEventListener("progress",Rh(r.onDownloadProgress,!0)),typeof r.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",Rh(r.onUploadProgress)),(r.cancelToken||r.signal)&&(l=g=>{u&&(i(!g||g.type?new Qs(null,e,u):g),u.abort(),u=null)},r.cancelToken&&r.cancelToken.subscribe(l),r.signal&&(r.signal.aborted?l():r.signal.addEventListener("abort",l)));const f=iT(r.url);if(f&&mn.protocols.indexOf(f)===-1){i(new J("Unsupported protocol "+f+":",J.ERR_BAD_REQUEST,e));return}u.send(s||null)})},fT=(e,t)=>{let n=new AbortController,i;const r=function(l){if(!i){i=!0,o();const h=l instanceof Error?l:this.reason;n.abort(h instanceof J?h:new Qs(h instanceof Error?h.message:h))}};let s=t&&setTimeout(()=>{r(new J(`timeout ${t} of ms exceeded`,J.ETIMEDOUT))},t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",r):l.unsubscribe(r))}),e=null)};e.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",r));const{signal:a}=n;return a.unsubscribe=o,[a,()=>{s&&clearTimeout(s),s=null}]},dT=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let i=0,r;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},gT=async function*(e,t,n){for await(const i of e)yield*dT(ArrayBuffer.isView(i)?i:await n(String(i)),t)},Jm=(e,t,n,i,r)=>{const s=gT(e,t,r);let o=0;return new ReadableStream({type:"bytes",async pull(a){const{done:l,value:h}=await s.next();if(l){a.close(),i();return}let u=h.byteLength;n&&n(o+=u),a.enqueue(new Uint8Array(h))},cancel(a){return i(a),s.return()}},{highWaterMark:2})},tp=(e,t)=>{const n=e!=null;return i=>setTimeout(()=>t({lengthComputable:n,total:e,loaded:i}))},Eu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",vv=Eu&&typeof ReadableStream=="function",Ff=Eu&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),mT=vv&&(()=>{let e=!1;const t=new Request(mn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})(),ep=64*1024,bf=vv&&!!(()=>{try{return C.isReadableStream(new Response("").body)}catch{}})(),Th={stream:bf&&(e=>e.body)};Eu&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Th[t]&&(Th[t]=C.isFunction(e[t])?n=>n[t]():(n,i)=>{throw new J(`Response type '${t}' is not supported`,J.ERR_NOT_SUPPORT,i)})})})(new Response);const pT=async e=>{if(e==null)return 0;if(C.isBlob(e))return e.size;if(C.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(C.isArrayBufferView(e))return e.byteLength;if(C.isURLSearchParams(e)&&(e=e+""),C.isString(e))return(await Ff(e)).byteLength},_T=async(e,t)=>{const n=C.toFiniteNumber(e.getContentLength());return n??pT(t)},yT=Eu&&(async e=>{let{url:t,method:n,data:i,signal:r,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:h,headers:u,withCredentials:c="same-origin",fetchOptions:f}=yv(e);h=h?(h+"").toLowerCase():"text";let[g,d]=r||s||o?fT([r,s],o):[],p,v;const _=()=>{!p&&setTimeout(()=>{g&&g.unsubscribe()}),p=!0};let m;try{if(l&&mT&&n!=="get"&&n!=="head"&&(m=await _T(u,i))!==0){let w=new Request(t,{method:"POST",body:i,duplex:"half"}),S;C.isFormData(i)&&(S=w.headers.get("content-type"))&&u.setContentType(S),w.body&&(i=Jm(w.body,ep,tp(m,Rh(l)),null,Ff))}C.isString(c)||(c=c?"cors":"omit"),v=new Request(t,{...f,signal:g,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:i,duplex:"half",withCredentials:c});let y=await fetch(v);const x=bf&&(h==="stream"||h==="response");if(bf&&(a||x)){const w={};["status","statusText","headers"].forEach(M=>{w[M]=y[M]});const S=C.toFiniteNumber(y.headers.get("content-length"));y=new Response(Jm(y.body,ep,a&&tp(S,Rh(a,!0)),x&&_,Ff),w)}h=h||"text";let E=await Th[C.findKey(Th,h)||"text"](y,e);return!x&&_(),d&&d(),await new Promise((w,S)=>{pv(w,S,{data:E,headers:Ae.from(y.headers),status:y.status,statusText:y.statusText,config:e,request:v})})}catch(y){throw _(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new J("Network Error",J.ERR_NETWORK,e,v),{cause:y.cause||y}):J.from(y,y&&y.code,e,v)}}),zf={http:DR,xhr:cT,fetch:yT};C.forEach(zf,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const np=e=>`- ${e}`,vT=e=>C.isFunction(e)||e===null||e===!1,xv={getAdapter:e=>{e=C.isArray(e)?e:[e];const{length:t}=e;let n,i;const r={};for(let s=0;s<t;s++){n=e[s];let o;if(i=n,!vT(n)&&(i=zf[(o=String(n)).toLowerCase()],i===void 0))throw new J(`Unknown adapter '${o}'`);if(i)break;r[o||"#"+s]=i}if(!i){const s=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(np).join(`
`):" "+np(s[0]):"as no adapter specified";throw new J("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:zf};function xc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qs(null,e)}function ip(e){return xc(e),e.headers=Ae.from(e.headers),e.data=vc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),xv.getAdapter(e.adapter||Xa.adapter)(e).then(function(i){return xc(e),i.data=vc.call(e,e.transformResponse,i),i.headers=Ae.from(i.headers),i},function(i){return mv(i)||(xc(e),i&&i.response&&(i.response.data=vc.call(e,e.transformResponse,i.response),i.response.headers=Ae.from(i.response.headers))),Promise.reject(i)})}const Ev="1.7.2",Mg={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Mg[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const rp={};Mg.transitional=function(t,n,i){function r(s,o){return"[Axios v"+Ev+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(t===!1)throw new J(r(o," has been removed"+(n?" in "+n:"")),J.ERR_DEPRECATED);return n&&!rp[o]&&(rp[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,a):!0}};function xT(e,t,n){if(typeof e!="object")throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const s=i[r],o=t[s];if(o){const a=e[s],l=a===void 0||o(a,s,e);if(l!==!0)throw new J("option "+s+" must be "+l,J.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new J("Unknown option "+s,J.ERR_BAD_OPTION)}}const Gf={assertOptions:xT,validators:Mg},Ei=Gf.validators;class Er{constructor(t){this.defaults=t,this.interceptors={request:new Hm,response:new Hm}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let r;Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ir(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&Gf.assertOptions(i,{silentJSONParsing:Ei.transitional(Ei.boolean),forcedJSONParsing:Ei.transitional(Ei.boolean),clarifyTimeoutError:Ei.transitional(Ei.boolean)},!1),r!=null&&(C.isFunction(r)?n.paramsSerializer={serialize:r}:Gf.assertOptions(r,{encode:Ei.function,serialize:Ei.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&C.merge(s.common,s[n.method]);s&&C.forEach(["delete","get","head","post","put","patch","common"],d=>{delete s[d]}),n.headers=Ae.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(l=l&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});const h=[];this.interceptors.response.forEach(function(p){h.push(p.fulfilled,p.rejected)});let u,c=0,f;if(!l){const d=[ip.bind(this),void 0];for(d.unshift.apply(d,a),d.push.apply(d,h),f=d.length,u=Promise.resolve(n);c<f;)u=u.then(d[c++],d[c++]);return u}f=a.length;let g=n;for(c=0;c<f;){const d=a[c++],p=a[c++];try{g=d(g)}catch(v){p.call(this,v);break}}try{u=ip.call(this,g)}catch(d){return Promise.reject(d)}for(c=0,f=h.length;c<f;)u=u.then(h[c++],h[c++]);return u}getUri(t){t=Ir(this.defaults,t);const n=_v(t.baseURL,t.url);return fv(n,t.params,t.paramsSerializer)}}C.forEach(["delete","get","head","options"],function(t){Er.prototype[t]=function(n,i){return this.request(Ir(i||{},{method:t,url:n,data:(i||{}).data}))}});C.forEach(["post","put","patch"],function(t){function n(i){return function(s,o,a){return this.request(Ir(a||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Er.prototype[t]=n(),Er.prototype[t+"Form"]=n(!0)});class Sg{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},t(function(s,o,a){i.reason||(i.reason=new Qs(s,o,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new Sg(function(r){t=r}),cancel:t}}}function ET(e){return function(n){return e.apply(null,n)}}function wT(e){return C.isObject(e)&&e.isAxiosError===!0}const Bf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Bf).forEach(([e,t])=>{Bf[t]=e});function wv(e){const t=new Er(e),n=tv(Er.prototype.request,t);return C.extend(n,Er.prototype,t,{allOwnKeys:!0}),C.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return wv(Ir(e,r))},n}const bt=wv(Xa);bt.Axios=Er;bt.CanceledError=Qs;bt.CancelToken=Sg;bt.isCancel=mv;bt.VERSION=Ev;bt.toFormData=xu;bt.AxiosError=J;bt.Cancel=bt.CanceledError;bt.all=function(t){return Promise.all(t)};bt.spread=ET;bt.isAxiosError=wT;bt.mergeConfig=Ir;bt.AxiosHeaders=Ae;bt.formToJSON=e=>gv(C.isHTMLForm(e)?new FormData(e):e);bt.getAdapter=xv.getAdapter;bt.HttpStatusCode=Bf;bt.default=bt;function MT(){const{projection:e,changeProjection:t}=Dy("WGS84"),[n,i]=ge.useState({point1_lng:0,point1_lat:0,point2_lng:0,point2_lat:0,count:30}),[r,s]=ge.useState(null),[o,a]=ge.useState({line:[],EPSG:e.EPSG}),l=(c,f)=>{s(g=>g&&(i(d=>({...d,[`${g}_lng`]:c,[`${g}_lat`]:f})),null))},h=c=>{const f=fa[c].EPSG;f!==e.EPSG&&(t(g=>(i(d=>{const p=d.point1_lng&&d.point1_lat?Ai([d.point1_lng,d.point1_lat],g.EPSG,f):[d.point1_lng,d.point1_lat],v=d.point2_lng&&d.point2_lat?Ai([d.point2_lng,d.point2_lat],g.EPSG,f):[d.point2_lng,d.point2_lat];return console.log(p,v),{...d,point1_lng:p[0],point1_lat:p[1],point2_lng:v[0],point2_lat:v[1]}}),c)),s(null))},u=async(c,f)=>{const g={point1:`POINT(${c.point1_lng} ${c.point1_lat})`,point2:`POINT(${c.point2_lng},${c.point2_lat})`,cs:f,count:c.count};try{const d=await bt.get("/api/orthodromy",{params:g});console.log("  :",d.data);const v=d.data.replace("LINESTRING(","").replace(")","").split(", ").map(_=>{const[m,y]=_.split(" ");return[parseFloat(y),parseFloat(m)]});console.log(v),a({line:v,EPSG:f})}catch(d){console.error("   :",d)}};return K.jsxs(K.Fragment,{children:[K.jsxs("div",{children:[K.jsx("h1",{children:"Building orthodromy"}),K.jsx(HC,{formData:n,setFormData:i,projection:e,changeProjection:h,currentPoint:r,setCurrentPoint:s,handleFormSubmit:u})]}),K.jsx(KC,{projection:e,onclickHangler:l,formData:n,orthodromy:o})]})}function ST(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}var Ar=1,Pr=2,Ss=3,CT=4,jf=5,sp=6378137,RT=6356752314e-3,op=.0066943799901413165,Xo=484813681109536e-20,A=Math.PI/2,TT=.16666666666666666,IT=.04722222222222222,AT=.022156084656084655,D=1e-10,Yt=.017453292519943295,Pn=57.29577951308232,ct=Math.PI/4,Ta=Math.PI*2,kt=3.14159265359,Le={};Le.greenwich=0;Le.lisbon=-9.131906111111;Le.paris=2.337229166667;Le.bogota=-74.080916666667;Le.madrid=-3.687938888889;Le.rome=12.452333333333;Le.bern=7.439583333333;Le.jakarta=106.807719444444;Le.ferro=-17.666666666667;Le.brussels=4.367975;Le.stockholm=18.058277777778;Le.athens=23.7163375;Le.oslo=10.722916666667;const PT={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var ap=/[\s_\-\/\(\)]/g;function qi(e,t){if(e[t])return e[t];for(var n=Object.keys(e),i=t.toLowerCase().replace(ap,""),r=-1,s,o;++r<n.length;)if(s=n[r],o=s.toLowerCase().replace(ap,""),o===i)return e[s]}function Uf(e){var t={},n=e.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).reduce(function(a,l){var h=l.split("=");return h.push(!0),a[h[0].toLowerCase()]=h[1],a},{}),i,r,s,o={proj:"projName",datum:"datumCode",rf:function(a){t.rf=parseFloat(a)},lat_0:function(a){t.lat0=a*Yt},lat_1:function(a){t.lat1=a*Yt},lat_2:function(a){t.lat2=a*Yt},lat_ts:function(a){t.lat_ts=a*Yt},lon_0:function(a){t.long0=a*Yt},lon_1:function(a){t.long1=a*Yt},lon_2:function(a){t.long2=a*Yt},alpha:function(a){t.alpha=parseFloat(a)*Yt},gamma:function(a){t.rectified_grid_angle=parseFloat(a)},lonc:function(a){t.longc=a*Yt},x_0:function(a){t.x0=parseFloat(a)},y_0:function(a){t.y0=parseFloat(a)},k_0:function(a){t.k0=parseFloat(a)},k:function(a){t.k0=parseFloat(a)},a:function(a){t.a=parseFloat(a)},b:function(a){t.b=parseFloat(a)},r:function(a){t.a=t.b=parseFloat(a)},r_a:function(){t.R_A=!0},zone:function(a){t.zone=parseInt(a,10)},south:function(){t.utmSouth=!0},towgs84:function(a){t.datum_params=a.split(",").map(function(l){return parseFloat(l)})},to_meter:function(a){t.to_meter=parseFloat(a)},units:function(a){t.units=a;var l=qi(PT,a);l&&(t.to_meter=l.to_meter)},from_greenwich:function(a){t.from_greenwich=a*Yt},pm:function(a){var l=qi(Le,a);t.from_greenwich=(l||parseFloat(a))*Yt},nadgrids:function(a){a==="@null"?t.datumCode="none":t.nadgrids=a},axis:function(a){var l="ewnsud";a.length===3&&l.indexOf(a.substr(0,1))!==-1&&l.indexOf(a.substr(1,1))!==-1&&l.indexOf(a.substr(2,1))!==-1&&(t.axis=a)},approx:function(){t.approx=!0}};for(i in n)r=n[i],i in o?(s=o[i],typeof s=="function"?s(r):t[s]=r):t[i]=r;return typeof t.datumCode=="string"&&t.datumCode!=="WGS84"&&(t.datumCode=t.datumCode.toLowerCase()),t}var Ia=1,Mv=2,Sv=3,Ih=4,Cv=5,Cg=-1,LT=/\s/,OT=/[A-Za-z]/,kT=/[A-Za-z84_]/,wu=/[,\]]/,Rv=/[\d\.E\-\+]/;function ui(e){if(typeof e!="string")throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Ia}ui.prototype.readCharicter=function(){var e=this.text[this.place++];if(this.state!==Ih)for(;LT.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case Ia:return this.neutral(e);case Mv:return this.keyword(e);case Ih:return this.quoted(e);case Cv:return this.afterquote(e);case Sv:return this.number(e);case Cg:return}};ui.prototype.afterquote=function(e){if(e==='"'){this.word+='"',this.state=Ih;return}if(wu.test(e)){this.word=this.word.trim(),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in afterquote yet, index '+this.place)};ui.prototype.afterItem=function(e){if(e===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=Ia;return}if(e==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=Ia,this.currentObject=this.stack.pop(),this.currentObject||(this.state=Cg);return}};ui.prototype.number=function(e){if(Rv.test(e)){this.word+=e;return}if(wu.test(e)){this.word=parseFloat(this.word),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in number yet, index '+this.place)};ui.prototype.quoted=function(e){if(e==='"'){this.state=Cv;return}this.word+=e};ui.prototype.keyword=function(e){if(kT.test(e)){this.word+=e;return}if(e==="["){var t=[];t.push(this.word),this.level++,this.root===null?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,this.state=Ia;return}if(wu.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in keyword yet, index '+this.place)};ui.prototype.neutral=function(e){if(OT.test(e)){this.word=e,this.state=Mv;return}if(e==='"'){this.word="",this.state=Ih;return}if(Rv.test(e)){this.word=e,this.state=Sv;return}if(wu.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in neutral yet, index '+this.place)};ui.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===Cg)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function NT(e){var t=new ui(e);return t.output()}function lp(e,t,n){Array.isArray(t)&&(n.unshift(t),t=null);var i=t?{}:e,r=n.reduce(function(s,o){return us(o,s),s},i);t&&(e[t]=r)}function us(e,t){if(!Array.isArray(e)){t[e]=!0;return}var n=e.shift();if(n==="PARAMETER"&&(n=e.shift()),e.length===1){if(Array.isArray(e[0])){t[n]={},us(e[0],t[n]);return}t[n]=e[0];return}if(!e.length){t[n]=!0;return}if(n==="TOWGS84"){t[n]=e;return}if(n==="AXIS"){n in t||(t[n]=[]),t[n].push(e);return}Array.isArray(n)||(t[n]={});var i;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":t[n]={name:e[0].toLowerCase(),convert:e[1]},e.length===3&&us(e[2],t[n]);return;case"SPHEROID":case"ELLIPSOID":t[n]={name:e[0],a:e[1],rf:e[2]},e.length===4&&us(e[3],t[n]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":e[0]=["name",e[0]],lp(t,n,e);return;default:for(i=-1;++i<e.length;)if(!Array.isArray(e[i]))return us(e,t[n]);return lp(t,n,e)}}var DT=.017453292519943295;function FT(e,t){var n=t[0],i=t[1];!(n in e)&&i in e&&(e[n]=e[i],t.length===3&&(e[n]=t[2](e[n])))}function wn(e){return e*DT}function bT(e){if(e.type==="GEOGCS"?e.projName="longlat":e.type==="LOCAL_CS"?(e.projName="identity",e.local=!0):typeof e.PROJECTION=="object"?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var t="",n=0,i=e.AXIS.length;n<i;++n){var r=[e.AXIS[n][0].toLowerCase(),e.AXIS[n][1].toLowerCase()];r[0].indexOf("north")!==-1||(r[0]==="y"||r[0]==="lat")&&r[1]==="north"?t+="n":r[0].indexOf("south")!==-1||(r[0]==="y"||r[0]==="lat")&&r[1]==="south"?t+="s":r[0].indexOf("east")!==-1||(r[0]==="x"||r[0]==="lon")&&r[1]==="east"?t+="e":(r[0].indexOf("west")!==-1||(r[0]==="x"||r[0]==="lon")&&r[1]==="west")&&(t+="w")}t.length===2&&(t+="u"),t.length===3&&(e.axis=t)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.UNIT.convert&&(e.type==="GEOGCS"?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var s=e.GEOGCS;e.type==="GEOGCS"&&(s=e),s&&(s.DATUM?e.datumCode=s.DATUM.name.toLowerCase():e.datumCode=s.name.toLowerCase(),e.datumCode.slice(0,2)==="d_"&&(e.datumCode=e.datumCode.slice(2)),(e.datumCode==="new_zealand_geodetic_datum_1949"||e.datumCode==="new_zealand_1949")&&(e.datumCode="nzgd49"),(e.datumCode==="wgs_1984"||e.datumCode==="world_geodetic_system_1984")&&(e.PROJECTION==="Mercator_Auxiliary_Sphere"&&(e.sphere=!0),e.datumCode="wgs84"),e.datumCode.slice(-6)==="_ferro"&&(e.datumCode=e.datumCode.slice(0,-6)),e.datumCode.slice(-8)==="_jakarta"&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(e.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),e.ellps.toLowerCase().slice(0,13)==="international"&&(e.ellps="intl"),e.a=s.DATUM.SPHEROID.a,e.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(e.datum_params=s.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),e.datumCode==="ch1903+"&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a);function o(h){var u=e.to_meter||1;return h*u}var a=function(h){return FT(e,h)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",wn],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",wn],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",wn],["lat0","latitude_of_origin",wn],["lat0","standard_parallel_1",wn],["lat1","standard_parallel_1",wn],["lat2","standard_parallel_2",wn],["azimuth","Azimuth"],["alpha","azimuth",wn],["srsCode","name"]];l.forEach(a),!e.long0&&e.longc&&(e.projName==="Albers_Conic_Equal_Area"||e.projName==="Lambert_Azimuthal_Equal_Area")&&(e.long0=e.longc),!e.lat_ts&&e.lat1&&(e.projName==="Stereographic_South_Pole"||e.projName==="Polar Stereographic (variant B)")?(e.lat0=wn(e.lat1>0?90:-90),e.lat_ts=e.lat1):!e.lat_ts&&e.lat0&&e.projName==="Polar_Stereographic"&&(e.lat_ts=e.lat0,e.lat0=wn(e.lat0>0?90:-90))}function Tv(e){var t=NT(e),n=t.shift(),i=t.shift();t.unshift(["name",i]),t.unshift(["type",n]);var r={};return us(t,r),bT(r),r}function fe(e){var t=this;if(arguments.length===2){var n=arguments[1];typeof n=="string"?n.charAt(0)==="+"?fe[e]=Uf(arguments[1]):fe[e]=Tv(arguments[1]):fe[e]=n}else if(arguments.length===1){if(Array.isArray(e))return e.map(function(i){Array.isArray(i)?fe.apply(t,i):fe(i)});if(typeof e=="string"){if(e in fe)return fe[e]}else"EPSG"in e?fe["EPSG:"+e.EPSG]=e:"ESRI"in e?fe["ESRI:"+e.ESRI]=e:"IAU2000"in e?fe["IAU2000:"+e.IAU2000]=e:console.log(e);return}}ST(fe);function zT(e){return typeof e=="string"}function GT(e){return e in fe}var BT=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function jT(e){return BT.some(function(t){return e.indexOf(t)>-1})}var UT=["3857","900913","3785","102113"];function WT(e){var t=qi(e,"authority");if(t){var n=qi(t,"epsg");return n&&UT.indexOf(n)>-1}}function XT(e){var t=qi(e,"extension");if(t)return qi(t,"proj4")}function VT(e){return e[0]==="+"}function $T(e){if(zT(e)){if(GT(e))return fe[e];if(jT(e)){var t=Tv(e);if(WT(t))return fe["EPSG:3857"];var n=XT(t);return n?Uf(n):t}if(VT(e))return Uf(e)}else return e}function hp(e,t){e=e||{};var n,i;if(!t)return e;for(i in t)n=t[i],n!==void 0&&(e[i]=n);return e}function Fn(e,t,n){var i=e*t;return n/Math.sqrt(1-i*i)}function Va(e){return e<0?-1:1}function b(e){return Math.abs(e)<=kt?e:e-Va(e)*Ta}function pn(e,t,n){var i=e*n,r=.5*e;return i=Math.pow((1-i)/(1+i),r),Math.tan(.5*(A-t))/i}function Aa(e,t){for(var n=.5*e,i,r,s=A-2*Math.atan(t),o=0;o<=15;o++)if(i=e*Math.sin(s),r=A-2*Math.atan(t*Math.pow((1-i)/(1+i),n))-s,s+=r,Math.abs(r)<=1e-10)return s;return-9999}function YT(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Fn(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function qT(e){var t=e.x,n=e.y;if(n*Pn>90&&n*Pn<-90&&t*Pn>180&&t*Pn<-180)return null;var i,r;if(Math.abs(Math.abs(n)-A)<=D)return null;if(this.sphere)i=this.x0+this.a*this.k0*b(t-this.long0),r=this.y0+this.a*this.k0*Math.log(Math.tan(ct+.5*n));else{var s=Math.sin(n),o=pn(this.e,n,s);i=this.x0+this.a*this.k0*b(t-this.long0),r=this.y0-this.a*this.k0*Math.log(o)}return e.x=i,e.y=r,e}function KT(e){var t=e.x-this.x0,n=e.y-this.y0,i,r;if(this.sphere)r=A-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var s=Math.exp(-n/(this.a*this.k0));if(r=Aa(this.e,s),r===-9999)return null}return i=b(this.long0+t/(this.a*this.k0)),e.x=i,e.y=r,e}var HT=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const ZT={init:YT,forward:qT,inverse:KT,names:HT};function QT(){}function up(e){return e}var JT=["longlat","identity"];const tI={init:QT,forward:up,inverse:up,names:JT};var eI=[ZT,tI],Wl={},Ah=[];function Iv(e,t){var n=Ah.length;return e.names?(Ah[n]=e,e.names.forEach(function(i){Wl[i.toLowerCase()]=n}),this):(console.log(t),!0)}function nI(e){if(!e)return!1;var t=e.toLowerCase();if(typeof Wl[t]<"u"&&Ah[Wl[t]])return Ah[Wl[t]]}function iI(){eI.forEach(Iv)}const rI={start:iI,add:Iv,get:nI};var H={};H.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};H.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};H.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};H.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};H.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};H.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};H.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};H.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};H.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};H.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};H.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};H.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};H.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};H.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};H.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};H.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};H.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};H.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};H.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};H.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};H.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};H.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};H.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};H.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};H.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};H.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};H.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};H.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};H.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};H.hough={a:6378270,rf:297,ellipseName:"Hough"};H.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};H.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};H.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};H.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};H.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};H.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};H.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};H.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};H.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};H.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};H.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};H.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var sI=H.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};H.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function oI(e,t,n,i){var r=e*e,s=t*t,o=(r-s)/r,a=0;i?(e*=1-o*(TT+o*(IT+o*AT)),r=e*e,o=0):a=Math.sqrt(o);var l=(r-s)/s;return{es:o,e:a,ep2:l}}function aI(e,t,n,i,r){if(!e){var s=qi(H,i);s||(s=sI),e=s.a,t=s.b,n=s.rf}return n&&!t&&(t=(1-1/n)*e),(n===0||Math.abs(e-t)<D)&&(r=!0,t=e),{a:e,b:t,rf:n,sphere:r}}var Dt={};Dt.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};Dt.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};Dt.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};Dt.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};Dt.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};Dt.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};Dt.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};Dt.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"};Dt.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"};Dt.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};Dt.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};Dt.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};Dt.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};Dt.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};Dt.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};Dt.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};Dt.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};Dt.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function lI(e,t,n,i,r,s,o){var a={};return e===void 0||e==="none"?a.datum_type=jf:a.datum_type=CT,t&&(a.datum_params=t.map(parseFloat),(a.datum_params[0]!==0||a.datum_params[1]!==0||a.datum_params[2]!==0)&&(a.datum_type=Ar),a.datum_params.length>3&&(a.datum_params[3]!==0||a.datum_params[4]!==0||a.datum_params[5]!==0||a.datum_params[6]!==0)&&(a.datum_type=Pr,a.datum_params[3]*=Xo,a.datum_params[4]*=Xo,a.datum_params[5]*=Xo,a.datum_params[6]=a.datum_params[6]/1e6+1)),o&&(a.datum_type=Ss,a.grids=o),a.a=n,a.b=i,a.es=r,a.ep2=s,a}var Av={};function hI(e,t){var n=new DataView(t),i=fI(n),r=dI(n,i),s=gI(n,r,i),o={header:r,subgrids:s};return Av[e]=o,o}function uI(e){if(e===void 0)return null;var t=e.split(",");return t.map(cI)}function cI(e){if(e.length===0)return null;var t=e[0]==="@";return t&&(e=e.slice(1)),e==="null"?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:Av[e]||null,isNull:!1}}function cs(e){return e/3600*Math.PI/180}function fI(e){var t=e.getInt32(8,!1);return t===11?!1:(t=e.getInt32(8,!0),t!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function dI(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:Wf(e,56,64).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}function Wf(e,t,n){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,n)))}function gI(e,t,n){for(var i=176,r=[],s=0;s<t.nSubgrids;s++){var o=pI(e,i,n),a=_I(e,i,o,n),l=Math.round(1+(o.upperLongitude-o.lowerLongitude)/o.longitudeInterval),h=Math.round(1+(o.upperLatitude-o.lowerLatitude)/o.latitudeInterval);r.push({ll:[cs(o.lowerLongitude),cs(o.lowerLatitude)],del:[cs(o.longitudeInterval),cs(o.latitudeInterval)],lim:[l,h],count:o.gridNodeCount,cvs:mI(a)}),i+=176+o.gridNodeCount*16}return r}function mI(e){return e.map(function(t){return[cs(t.longitudeShift),cs(t.latitudeShift)]})}function pI(e,t,n){return{name:Wf(e,t+8,t+16).trim(),parent:Wf(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,n),upperLatitude:e.getFloat64(t+88,n),lowerLongitude:e.getFloat64(t+104,n),upperLongitude:e.getFloat64(t+120,n),latitudeInterval:e.getFloat64(t+136,n),longitudeInterval:e.getFloat64(t+152,n),gridNodeCount:e.getInt32(t+168,n)}}function _I(e,t,n,i){for(var r=t+176,s=16,o=[],a=0;a<n.gridNodeCount;a++){var l={latitudeShift:e.getFloat32(r+a*s,i),longitudeShift:e.getFloat32(r+a*s+4,i),latitudeAccuracy:e.getFloat32(r+a*s+8,i),longitudeAccuracy:e.getFloat32(r+a*s+12,i)};o.push(l)}return o}function Dn(e,t){if(!(this instanceof Dn))return new Dn(e);t=t||function(h){if(h)throw h};var n=$T(e);if(typeof n!="object"){t(e);return}var i=Dn.projections.get(n.projName);if(!i){t(e);return}if(n.datumCode&&n.datumCode!=="none"){var r=qi(Dt,n.datumCode);r&&(n.datum_params=n.datum_params||(r.towgs84?r.towgs84.split(","):null),n.ellps=r.ellipse,n.datumName=r.datumName?r.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var s=aI(n.a,n.b,n.rf,n.ellps,n.sphere),o=oI(s.a,s.b,s.rf,n.R_A),a=uI(n.nadgrids),l=n.datum||lI(n.datumCode,n.datum_params,s.a,s.b,o.es,o.ep2,a);hp(this,n),hp(this,i),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=o.es,this.e=o.e,this.ep2=o.ep2,this.datum=l,this.init(),t(null,this)}Dn.projections=rI;Dn.projections.start();function yI(e,t){return e.datum_type!==t.datum_type||e.a!==t.a||Math.abs(e.es-t.es)>5e-11?!1:e.datum_type===Ar?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type===Pr?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6]:!0}function Pv(e,t,n){var i=e.x,r=e.y,s=e.z?e.z:0,o,a,l,h;if(r<-A&&r>-1.001*A)r=-A;else if(r>A&&r<1.001*A)r=A;else{if(r<-A)return{x:-1/0,y:-1/0,z:e.z};if(r>A)return{x:1/0,y:1/0,z:e.z}}return i>Math.PI&&(i-=2*Math.PI),a=Math.sin(r),h=Math.cos(r),l=a*a,o=n/Math.sqrt(1-t*l),{x:(o+s)*h*Math.cos(i),y:(o+s)*h*Math.sin(i),z:(o*(1-t)+s)*a}}function Lv(e,t,n,i){var r=1e-12,s=r*r,o=30,a,l,h,u,c,f,g,d,p,v,_,m,y,x=e.x,E=e.y,w=e.z?e.z:0,S,M,R;if(a=Math.sqrt(x*x+E*E),l=Math.sqrt(x*x+E*E+w*w),a/n<r){if(S=0,l/n<r)return M=A,R=-i,{x:e.x,y:e.y,z:e.z}}else S=Math.atan2(E,x);h=w/l,u=a/l,c=1/Math.sqrt(1-t*(2-t)*u*u),d=u*(1-t)*c,p=h*c,y=0;do y++,g=n/Math.sqrt(1-t*p*p),R=a*d+w*p-g*(1-t*p*p),f=t*g/(g+R),c=1/Math.sqrt(1-f*(2-f)*u*u),v=u*(1-f)*c,_=h*c,m=_*d-v*p,d=v,p=_;while(m*m>s&&y<o);return M=Math.atan(_/Math.abs(v)),{x:S,y:M,z:R}}function vI(e,t,n){if(t===Ar)return{x:e.x+n[0],y:e.y+n[1],z:e.z+n[2]};if(t===Pr){var i=n[0],r=n[1],s=n[2],o=n[3],a=n[4],l=n[5],h=n[6];return{x:h*(e.x-l*e.y+a*e.z)+i,y:h*(l*e.x+e.y-o*e.z)+r,z:h*(-a*e.x+o*e.y+e.z)+s}}}function xI(e,t,n){if(t===Ar)return{x:e.x-n[0],y:e.y-n[1],z:e.z-n[2]};if(t===Pr){var i=n[0],r=n[1],s=n[2],o=n[3],a=n[4],l=n[5],h=n[6],u=(e.x-i)/h,c=(e.y-r)/h,f=(e.z-s)/h;return{x:u+l*c-a*f,y:-l*u+c+o*f,z:a*u-o*c+f}}}function Rl(e){return e===Ar||e===Pr}function EI(e,t,n){if(yI(e,t)||e.datum_type===jf||t.datum_type===jf)return n;var i=e.a,r=e.es;if(e.datum_type===Ss){var s=cp(e,!1,n);if(s!==0)return;i=sp,r=op}var o=t.a,a=t.b,l=t.es;if(t.datum_type===Ss&&(o=sp,a=RT,l=op),r===l&&i===o&&!Rl(e.datum_type)&&!Rl(t.datum_type))return n;if(n=Pv(n,r,i),Rl(e.datum_type)&&(n=vI(n,e.datum_type,e.datum_params)),Rl(t.datum_type)&&(n=xI(n,t.datum_type,t.datum_params)),n=Lv(n,l,o,a),t.datum_type===Ss){var h=cp(t,!0,n);if(h!==0)return}return n}function cp(e,t,n){if(e.grids===null||e.grids.length===0)return console.log("Grid shift grids not found"),-1;var i={x:-n.x,y:n.y},r={x:Number.NaN,y:Number.NaN},s=[];t:for(var o=0;o<e.grids.length;o++){var a=e.grids[o];if(s.push(a.name),a.isNull){r=i;break}if(a.mandatory,a.grid===null){if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1;continue}for(var l=a.grid.subgrids,h=0,u=l.length;h<u;h++){var c=l[h],f=(Math.abs(c.del[1])+Math.abs(c.del[0]))/1e4,g=c.ll[0]-f,d=c.ll[1]-f,p=c.ll[0]+(c.lim[0]-1)*c.del[0]+f,v=c.ll[1]+(c.lim[1]-1)*c.del[1]+f;if(!(d>i.y||g>i.x||v<i.y||p<i.x)&&(r=wI(i,t,c),!isNaN(r.x)))break t}}return isNaN(r.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*Pn+" "+i.y*Pn+" tried: '"+s+"'"),-1):(n.x=-r.x,n.y=r.y,0)}function wI(e,t,n){var i={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return i;var r={x:e.x,y:e.y};r.x-=n.ll[0],r.y-=n.ll[1],r.x=b(r.x-Math.PI)+Math.PI;var s=fp(r,n);if(t){if(isNaN(s.x))return i;s.x=r.x-s.x,s.y=r.y-s.y;var o=9,a=1e-12,l,h;do{if(h=fp(s,n),isNaN(h.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:r.x-(h.x+s.x),y:r.y-(h.y+s.y)},s.x+=l.x,s.y+=l.y}while(o--&&Math.abs(l.x)>a&&Math.abs(l.y)>a);if(o<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=b(s.x+n.ll[0]),i.y=s.y+n.ll[1]}else isNaN(s.x)||(i.x=e.x+s.x,i.y=e.y+s.y);return i}function fp(e,t){var n={x:e.x/t.del[0],y:e.y/t.del[1]},i={x:Math.floor(n.x),y:Math.floor(n.y)},r={x:n.x-1*i.x,y:n.y-1*i.y},s={x:Number.NaN,y:Number.NaN},o;if(i.x<0||i.x>=t.lim[0]||i.y<0||i.y>=t.lim[1])return s;o=i.y*t.lim[0]+i.x;var a={x:t.cvs[o][0],y:t.cvs[o][1]};o++;var l={x:t.cvs[o][0],y:t.cvs[o][1]};o+=t.lim[0];var h={x:t.cvs[o][0],y:t.cvs[o][1]};o--;var u={x:t.cvs[o][0],y:t.cvs[o][1]},c=r.x*r.y,f=r.x*(1-r.y),g=(1-r.x)*(1-r.y),d=(1-r.x)*r.y;return s.x=g*a.x+f*l.x+d*u.x+c*h.x,s.y=g*a.y+f*l.y+d*u.y+c*h.y,s}function dp(e,t,n){var i=n.x,r=n.y,s=n.z||0,o,a,l,h={};for(l=0;l<3;l++)if(!(t&&l===2&&n.z===void 0))switch(l===0?(o=i,"ew".indexOf(e.axis[l])!==-1?a="x":a="y"):l===1?(o=r,"ns".indexOf(e.axis[l])!==-1?a="y":a="x"):(o=s,a="z"),e.axis[l]){case"e":h[a]=o;break;case"w":h[a]=-o;break;case"n":h[a]=o;break;case"s":h[a]=-o;break;case"u":n[a]!==void 0&&(h.z=o);break;case"d":n[a]!==void 0&&(h.z=-o);break;default:return null}return h}function Ov(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}function MI(e){gp(e.x),gp(e.y)}function gp(e){if(typeof Number.isFinite=="function"){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if(typeof e!="number"||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function SI(e,t){return(e.datum.datum_type===Ar||e.datum.datum_type===Pr||e.datum.datum_type===Ss)&&t.datumCode!=="WGS84"||(t.datum.datum_type===Ar||t.datum.datum_type===Pr||t.datum.datum_type===Ss)&&e.datumCode!=="WGS84"}function Ph(e,t,n,i){var r;Array.isArray(n)?n=Ov(n):n={x:n.x,y:n.y,z:n.z,m:n.m};var s=n.z!==void 0;if(MI(n),e.datum&&t.datum&&SI(e,t)&&(r=new Dn("WGS84"),n=Ph(e,r,n,i),e=r),i&&e.axis!=="enu"&&(n=dp(e,!1,n)),e.projName==="longlat")n={x:n.x*Yt,y:n.y*Yt,z:n.z||0};else if(e.to_meter&&(n={x:n.x*e.to_meter,y:n.y*e.to_meter,z:n.z||0}),n=e.inverse(n),!n)return;if(e.from_greenwich&&(n.x+=e.from_greenwich),n=EI(e.datum,t.datum,n),!!n)return t.from_greenwich&&(n={x:n.x-t.from_greenwich,y:n.y,z:n.z||0}),t.projName==="longlat"?n={x:n.x*Pn,y:n.y*Pn,z:n.z||0}:(n=t.forward(n),t.to_meter&&(n={x:n.x/t.to_meter,y:n.y/t.to_meter,z:n.z||0})),i&&t.axis!=="enu"?dp(t,!0,n):(n&&!s&&delete n.z,n)}var mp=Dn("WGS84");function Ec(e,t,n,i){var r,s,o;return Array.isArray(n)?(r=Ph(e,t,n,i)||{x:NaN,y:NaN},n.length>2?typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"?typeof r.z=="number"?[r.x,r.y,r.z].concat(n.splice(3)):[r.x,r.y,n[2]].concat(n.splice(3)):[r.x,r.y].concat(n.splice(2)):[r.x,r.y]):(s=Ph(e,t,n,i),o=Object.keys(n),o.length===2||o.forEach(function(a){if(typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"){if(a==="x"||a==="y"||a==="z")return}else if(a==="x"||a==="y")return;s[a]=n[a]}),s)}function pp(e){return e instanceof Dn?e:e.oProj?e.oProj:Dn(e)}function Pe(e,t,n){e=pp(e);var i=!1,r;return typeof t>"u"?(t=e,e=mp,i=!0):(typeof t.x<"u"||Array.isArray(t))&&(n=t,t=e,e=mp,i=!0),t=pp(t),n?Ec(e,t,n):(r={forward:function(s,o){return Ec(e,t,s,o)},inverse:function(s,o){return Ec(t,e,s,o)}},i&&(r.oProj=t),r)}var _p=6,kv="AJSAJS",Nv="AFAFAF",fs=65,ve=73,$e=79,Ao=86,Po=90;const CI={forward:Dv,inverse:RI,toPoint:Fv};function Dv(e,t){return t=t||5,AI(TI({lat:e[1],lon:e[0]}),t)}function RI(e){var t=Rg(zv(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function Fv(e){var t=Rg(zv(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function wc(e){return e*(Math.PI/180)}function yp(e){return 180*(e/Math.PI)}function TI(e){var t=e.lat,n=e.lon,i=6378137,r=.00669438,s=.9996,o,a,l,h,u,c,f,g=wc(t),d=wc(n),p,v;v=Math.floor((n+180)/6)+1,n===180&&(v=60),t>=56&&t<64&&n>=3&&n<12&&(v=32),t>=72&&t<84&&(n>=0&&n<9?v=31:n>=9&&n<21?v=33:n>=21&&n<33?v=35:n>=33&&n<42&&(v=37)),o=(v-1)*6-180+3,p=wc(o),a=r/(1-r),l=i/Math.sqrt(1-r*Math.sin(g)*Math.sin(g)),h=Math.tan(g)*Math.tan(g),u=a*Math.cos(g)*Math.cos(g),c=Math.cos(g)*(d-p),f=i*((1-r/4-3*r*r/64-5*r*r*r/256)*g-(3*r/8+3*r*r/32+45*r*r*r/1024)*Math.sin(2*g)+(15*r*r/256+45*r*r*r/1024)*Math.sin(4*g)-35*r*r*r/3072*Math.sin(6*g));var _=s*l*(c+(1-h+u)*c*c*c/6+(5-18*h+h*h+72*u-58*a)*c*c*c*c*c/120)+5e5,m=s*(f+l*Math.tan(g)*(c*c/2+(5-h+9*u+4*u*u)*c*c*c*c/24+(61-58*h+h*h+600*u-330*a)*c*c*c*c*c*c/720));return t<0&&(m+=1e7),{northing:Math.round(m),easting:Math.round(_),zoneNumber:v,zoneLetter:II(t)}}function Rg(e){var t=e.northing,n=e.easting,i=e.zoneLetter,r=e.zoneNumber;if(r<0||r>60)return null;var s=.9996,o=6378137,a=.00669438,l,h=(1-Math.sqrt(1-a))/(1+Math.sqrt(1-a)),u,c,f,g,d,p,v,_,m,y=n-5e5,x=t;i<"N"&&(x-=1e7),v=(r-1)*6-180+3,l=a/(1-a),p=x/s,_=p/(o*(1-a/4-3*a*a/64-5*a*a*a/256)),m=_+(3*h/2-27*h*h*h/32)*Math.sin(2*_)+(21*h*h/16-55*h*h*h*h/32)*Math.sin(4*_)+151*h*h*h/96*Math.sin(6*_),u=o/Math.sqrt(1-a*Math.sin(m)*Math.sin(m)),c=Math.tan(m)*Math.tan(m),f=l*Math.cos(m)*Math.cos(m),g=o*(1-a)/Math.pow(1-a*Math.sin(m)*Math.sin(m),1.5),d=y/(u*s);var E=m-u*Math.tan(m)/g*(d*d/2-(5+3*c+10*f-4*f*f-9*l)*d*d*d*d/24+(61+90*c+298*f+45*c*c-252*l-3*f*f)*d*d*d*d*d*d/720);E=yp(E);var w=(d-(1+2*c+f)*d*d*d/6+(5-2*f+28*c-3*f*f+8*l+24*c*c)*d*d*d*d*d/120)/Math.cos(m);w=v+yp(w);var S;if(e.accuracy){var M=Rg({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});S={top:M.lat,right:M.lon,bottom:E,left:w}}else S={lat:E,lon:w};return S}function II(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function AI(e,t){var n="00000"+e.easting,i="00000"+e.northing;return e.zoneNumber+e.zoneLetter+PI(e.easting,e.northing,e.zoneNumber)+n.substr(n.length-5,t)+i.substr(i.length-5,t)}function PI(e,t,n){var i=bv(n),r=Math.floor(e/1e5),s=Math.floor(t/1e5)%20;return LI(r,s,i)}function bv(e){var t=e%_p;return t===0&&(t=_p),t}function LI(e,t,n){var i=n-1,r=kv.charCodeAt(i),s=Nv.charCodeAt(i),o=r+e-1,a=s+t,l=!1;o>Po&&(o=o-Po+fs-1,l=!0),(o===ve||r<ve&&o>ve||(o>ve||r<ve)&&l)&&o++,(o===$e||r<$e&&o>$e||(o>$e||r<$e)&&l)&&(o++,o===ve&&o++),o>Po&&(o=o-Po+fs-1),a>Ao?(a=a-Ao+fs-1,l=!0):l=!1,(a===ve||s<ve&&a>ve||(a>ve||s<ve)&&l)&&a++,(a===$e||s<$e&&a>$e||(a>$e||s<$e)&&l)&&(a++,a===ve&&a++),a>Ao&&(a=a-Ao+fs-1);var h=String.fromCharCode(o)+String.fromCharCode(a);return h}function zv(e){if(e&&e.length===0)throw"MGRSPoint coverting from nothing";for(var t=e.length,n=null,i="",r,s=0;!/[A-Z]/.test(r=e.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+e;i+=r,s++}var o=parseInt(i,10);if(s===0||s+3>t)throw"MGRSPoint bad conversion from: "+e;var a=e.charAt(s++);if(a<="A"||a==="B"||a==="Y"||a>="Z"||a==="I"||a==="O")throw"MGRSPoint zone letter "+a+" not handled: "+e;n=e.substring(s,s+=2);for(var l=bv(o),h=OI(n.charAt(0),l),u=kI(n.charAt(1),l);u<NI(a);)u+=2e6;var c=t-s;if(c%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+e;var f=c/2,g=0,d=0,p,v,_,m,y;return f>0&&(p=1e5/Math.pow(10,f),v=e.substring(s,s+f),g=parseFloat(v)*p,_=e.substring(s+f),d=parseFloat(_)*p),m=g+h,y=d+u,{easting:m,northing:y,zoneLetter:a,zoneNumber:o,accuracy:p}}function OI(e,t){for(var n=kv.charCodeAt(t-1),i=1e5,r=!1;n!==e.charCodeAt(0);){if(n++,n===ve&&n++,n===$e&&n++,n>Po){if(r)throw"Bad character: "+e;n=fs,r=!0}i+=1e5}return i}function kI(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var n=Nv.charCodeAt(t-1),i=0,r=!1;n!==e.charCodeAt(0);){if(n++,n===ve&&n++,n===$e&&n++,n>Ao){if(r)throw"Bad character: "+e;n=fs,r=!0}i+=1e5}return i}function NI(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function Us(e,t,n){if(!(this instanceof Us))return new Us(e,t,n);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if(typeof e=="object")this.x=e.x,this.y=e.y,this.z=e.z||0;else if(typeof e=="string"&&typeof t>"u"){var i=e.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=e,this.y=t,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Us.fromMGRS=function(e){return new Us(Fv(e))};Us.prototype.toMGRS=function(e){return Dv([this.x,this.y],e)};var DI=1,FI=.25,vp=.046875,xp=.01953125,Ep=.01068115234375,bI=.75,zI=.46875,GI=.013020833333333334,BI=.007120768229166667,jI=.3645833333333333,UI=.005696614583333333,WI=.3076171875;function Gv(e){var t=[];t[0]=DI-e*(FI+e*(vp+e*(xp+e*Ep))),t[1]=e*(bI-e*(vp+e*(xp+e*Ep)));var n=e*e;return t[2]=n*(zI-e*(GI+e*BI)),n*=e,t[3]=n*(jI-e*UI),t[4]=n*e*WI,t}function Mu(e,t,n,i){return n*=t,t*=t,i[0]*e-n*(i[1]+t*(i[2]+t*(i[3]+t*i[4])))}var XI=20;function Bv(e,t,n){for(var i=1/(1-t),r=e,s=XI;s;--s){var o=Math.sin(r),a=1-t*o*o;if(a=(Mu(r,o,Math.cos(r),n)-e)*(a*Math.sqrt(a))*i,r-=a,Math.abs(a)<D)return r}return r}function VI(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=Gv(this.es),this.ml0=Mu(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function $I(e){var t=e.x,n=e.y,i=b(t-this.long0),r,s,o,a=Math.sin(n),l=Math.cos(n);if(this.es){var u=l*i,c=Math.pow(u,2),f=this.ep2*Math.pow(l,2),g=Math.pow(f,2),d=Math.abs(l)>D?Math.tan(n):0,p=Math.pow(d,2),v=Math.pow(p,2);r=1-this.es*Math.pow(a,2),u=u/Math.sqrt(r);var _=Mu(n,a,l,this.en);s=this.a*(this.k0*u*(1+c/6*(1-p+f+c/20*(5-18*p+v+14*f-58*p*f+c/42*(61+179*v-v*p-479*p)))))+this.x0,o=this.a*(this.k0*(_-this.ml0+a*i*u/2*(1+c/12*(5-p+9*f+4*g+c/30*(61+v-58*p+270*f-330*p*f+c/56*(1385+543*v-v*p-3111*p))))))+this.y0}else{var h=l*Math.sin(i);if(Math.abs(Math.abs(h)-1)<D)return 93;if(s=.5*this.a*this.k0*Math.log((1+h)/(1-h))+this.x0,o=l*Math.cos(i)/Math.sqrt(1-Math.pow(h,2)),h=Math.abs(o),h>=1){if(h-1>D)return 93;o=0}else o=Math.acos(o);n<0&&(o=-o),o=this.a*this.k0*(o-this.lat0)+this.y0}return e.x=s,e.y=o,e}function YI(e){var t,n,i,r,s=(e.x-this.x0)*(1/this.a),o=(e.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+o/this.k0,n=Bv(t,this.es,this.en),Math.abs(n)<A){var c=Math.sin(n),f=Math.cos(n),g=Math.abs(f)>D?Math.tan(n):0,d=this.ep2*Math.pow(f,2),p=Math.pow(d,2),v=Math.pow(g,2),_=Math.pow(v,2);t=1-this.es*Math.pow(c,2);var m=s*Math.sqrt(t)/this.k0,y=Math.pow(m,2);t=t*g,i=n-t*y/(1-this.es)*.5*(1-y/12*(5+3*v-9*d*v+d-4*p-y/30*(61+90*v-252*d*v+45*_+46*d-y/56*(1385+3633*v+4095*_+1574*_*v)))),r=b(this.long0+m*(1-y/6*(1+2*v+d-y/20*(5+28*v+24*_+8*d*v+6*d-y/42*(61+662*v+1320*_+720*_*v))))/f)}else i=A*Va(o),r=0;else{var a=Math.exp(s/this.k0),l=.5*(a-1/a),h=this.lat0+o/this.k0,u=Math.cos(h);t=Math.sqrt((1-Math.pow(u,2))/(1+Math.pow(l,2))),i=Math.asin(t),o<0&&(i=-i),l===0&&u===0?r=0:r=b(Math.atan2(l,u)+this.long0)}return e.x=r,e.y=i,e}var qI=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const Xl={init:VI,forward:$I,inverse:YI,names:qI};function jv(e){var t=Math.exp(e);return t=(t-1/t)/2,t}function He(e,t){e=Math.abs(e),t=Math.abs(t);var n=Math.max(e,t),i=Math.min(e,t)/(n||1);return n*Math.sqrt(1+Math.pow(i,2))}function KI(e){var t=1+e,n=t-1;return n===0?e:e*Math.log(t)/n}function HI(e){var t=Math.abs(e);return t=KI(t*(1+t/(He(1,t)+1))),e<0?-t:t}function Tg(e,t){for(var n=2*Math.cos(2*t),i=e.length-1,r=e[i],s=0,o;--i>=0;)o=-s+n*r+e[i],s=r,r=o;return t+o*Math.sin(2*t)}function ZI(e,t){for(var n=2*Math.cos(t),i=e.length-1,r=e[i],s=0,o;--i>=0;)o=-s+n*r+e[i],s=r,r=o;return Math.sin(t)*o}function QI(e){var t=Math.exp(e);return t=(t+1/t)/2,t}function Uv(e,t,n){for(var i=Math.sin(t),r=Math.cos(t),s=jv(n),o=QI(n),a=2*r*o,l=-2*i*s,h=e.length-1,u=e[h],c=0,f=0,g=0,d,p;--h>=0;)d=f,p=c,f=u,c=g,u=-d+a*f-l*c+e[h],g=-p+l*f+a*c;return a=i*o,l=r*s,[a*u-l*g,a*g+l*u]}function JI(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Xl.init.apply(this),this.forward=Xl.forward,this.inverse=Xl.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),n=t;this.cgb[0]=t*(2+t*(-2/3+t*(-2+t*(116/45+t*(26/45+t*(-2854/675)))))),this.cbg[0]=t*(-2+t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))),n=n*t,this.cgb[1]=n*(7/3+t*(-8/5+t*(-227/45+t*(2704/315+t*(2323/945))))),this.cbg[1]=n*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),n=n*t,this.cgb[2]=n*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=n*(-26/15+t*(34/21+t*(8/5+t*(-12686/2835)))),n=n*t,this.cgb[3]=n*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=n*(1237/630+t*(-12/5+t*(-24832/14175))),n=n*t,this.cgb[4]=n*(4174/315+t*(-144838/6237)),this.cbg[4]=n*(-734/315+t*(109598/31185)),n=n*t,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=t*(-.5+t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=n*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=n*(13/48+t*(-3/5+t*(557/1440+t*(281/630+t*(-1983433/1935360))))),n=n*t,this.utg[2]=n*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=n*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),n=n*t,this.utg[3]=n*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=n*(49561/161280+t*(-179/168+t*(6601661/7257600))),n=n*t,this.utg[4]=n*(-4583/161280+t*(108847/3991680)),this.gtu[4]=n*(34729/80640+t*(-3418889/1995840)),n=n*t,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=n*(212378941/319334400);var i=Tg(this.cbg,this.lat0);this.Zb=-this.Qn*(i+ZI(this.gtu,2*i))}function t3(e){var t=b(e.x-this.long0),n=e.y;n=Tg(this.cbg,n);var i=Math.sin(n),r=Math.cos(n),s=Math.sin(t),o=Math.cos(t);n=Math.atan2(i,o*r),t=Math.atan2(s*r,He(i,r*o)),t=HI(Math.tan(t));var a=Uv(this.gtu,2*n,2*t);n=n+a[0],t=t+a[1];var l,h;return Math.abs(t)<=2.623395162778?(l=this.a*(this.Qn*t)+this.x0,h=this.a*(this.Qn*n+this.Zb)+this.y0):(l=1/0,h=1/0),e.x=l,e.y=h,e}function e3(e){var t=(e.x-this.x0)*(1/this.a),n=(e.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,t=t/this.Qn;var i,r;if(Math.abs(t)<=2.623395162778){var s=Uv(this.utg,2*n,2*t);n=n+s[0],t=t+s[1],t=Math.atan(jv(t));var o=Math.sin(n),a=Math.cos(n),l=Math.sin(t),h=Math.cos(t);n=Math.atan2(o*h,He(l,h*a)),t=Math.atan2(l,h*a),i=b(t+this.long0),r=Tg(this.cgb,n)}else i=1/0,r=1/0;return e.x=i,e.y=r,e}var n3=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const Vl={init:JI,forward:t3,inverse:e3,names:n3};function i3(e,t){if(e===void 0){if(e=Math.floor((b(t)+Math.PI)*30/Math.PI)+1,e<0)return 0;if(e>60)return 60}return e}var r3="etmerc";function s3(){var e=i3(this.zone,this.long0);if(e===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*Yt,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Vl.init.apply(this),this.forward=Vl.forward,this.inverse=Vl.inverse}var o3=["Universal Transverse Mercator System","utm"];const a3={init:s3,names:o3,dependsOn:r3};function Ig(e,t){return Math.pow((1-e)/(1+e),t)}var l3=20;function h3(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+ct)/(Math.pow(Math.tan(.5*this.lat0+ct),this.C)*Ig(this.e*e,this.ratexp))}function u3(e){var t=e.x,n=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+ct),this.C)*Ig(this.e*Math.sin(n),this.ratexp))-A,e.x=this.C*t,e}function c3(e){for(var t=1e-14,n=e.x/this.C,i=e.y,r=Math.pow(Math.tan(.5*i+ct)/this.K,1/this.C),s=l3;s>0&&(i=2*Math.atan(r*Ig(this.e*Math.sin(e.y),-.5*this.e))-A,!(Math.abs(i-e.y)<t));--s)e.y=i;return s?(e.x=n,e.y=i,e):null}var f3=["gauss"];const Ag={init:h3,forward:u3,inverse:c3,names:f3};function d3(){Ag.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function g3(e){var t,n,i,r;return e.x=b(e.x-this.long0),Ag.forward.apply(this,[e]),t=Math.sin(e.y),n=Math.cos(e.y),i=Math.cos(e.x),r=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*n*i),e.x=r*n*Math.sin(e.x),e.y=r*(this.cosc0*t-this.sinc0*n*i),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function m3(e){var t,n,i,r,s;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,s=He(e.x,e.y)){var o=2*Math.atan2(s,this.R2);t=Math.sin(o),n=Math.cos(o),r=Math.asin(n*this.sinc0+e.y*t*this.cosc0/s),i=Math.atan2(e.x*t,s*this.cosc0*n-e.y*this.sinc0*t)}else r=this.phic0,i=0;return e.x=i,e.y=r,Ag.inverse.apply(this,[e]),e.x=b(e.x+this.long0),e}var p3=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const _3={init:d3,forward:g3,inverse:m3,names:p3};function y3(e,t,n){return t*=n,Math.tan(.5*(A+e))*Math.pow((1-t)/(1+t),.5*n)}function v3(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=D&&(this.k0=.5*(1+Va(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=D&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=D&&Math.abs(Math.cos(this.lat_ts))>D&&(this.k0=.5*this.cons*Fn(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/pn(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Fn(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-A,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function x3(e){var t=e.x,n=e.y,i=Math.sin(n),r=Math.cos(n),s,o,a,l,h,u,c=b(t-this.long0);return Math.abs(Math.abs(t-this.long0)-Math.PI)<=D&&Math.abs(n+this.lat0)<=D?(e.x=NaN,e.y=NaN,e):this.sphere?(s=2*this.k0/(1+this.sinlat0*i+this.coslat0*r*Math.cos(c)),e.x=this.a*s*r*Math.sin(c)+this.x0,e.y=this.a*s*(this.coslat0*i-this.sinlat0*r*Math.cos(c))+this.y0,e):(o=2*Math.atan(this.ssfn_(n,i,this.e))-A,l=Math.cos(o),a=Math.sin(o),Math.abs(this.coslat0)<=D?(h=pn(this.e,n*this.con,this.con*i),u=2*this.a*this.k0*h/this.cons,e.x=this.x0+u*Math.sin(t-this.long0),e.y=this.y0-this.con*u*Math.cos(t-this.long0),e):(Math.abs(this.sinlat0)<D?(s=2*this.a*this.k0/(1+l*Math.cos(c)),e.y=s*a):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*l*Math.cos(c))),e.y=s*(this.cosX0*a-this.sinX0*l*Math.cos(c))+this.y0),e.x=s*l*Math.sin(c)+this.x0,e))}function E3(e){e.x-=this.x0,e.y-=this.y0;var t,n,i,r,s,o=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var a=2*Math.atan(o/(2*this.a*this.k0));return t=this.long0,n=this.lat0,o<=D?(e.x=t,e.y=n,e):(n=Math.asin(Math.cos(a)*this.sinlat0+e.y*Math.sin(a)*this.coslat0/o),Math.abs(this.coslat0)<D?this.lat0>0?t=b(this.long0+Math.atan2(e.x,-1*e.y)):t=b(this.long0+Math.atan2(e.x,e.y)):t=b(this.long0+Math.atan2(e.x*Math.sin(a),o*this.coslat0*Math.cos(a)-e.y*this.sinlat0*Math.sin(a))),e.x=t,e.y=n,e)}else if(Math.abs(this.coslat0)<=D){if(o<=D)return n=this.lat0,t=this.long0,e.x=t,e.y=n,e;e.x*=this.con,e.y*=this.con,i=o*this.cons/(2*this.a*this.k0),n=this.con*Aa(this.e,i),t=this.con*b(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else r=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,o<=D?s=this.X0:(s=Math.asin(Math.cos(r)*this.sinX0+e.y*Math.sin(r)*this.cosX0/o),t=b(this.long0+Math.atan2(e.x*Math.sin(r),o*this.cosX0*Math.cos(r)-e.y*this.sinX0*Math.sin(r)))),n=-1*Aa(this.e,Math.tan(.5*(A+s)));return e.x=t,e.y=n,e}var w3=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const M3={init:v3,forward:x3,inverse:E3,names:w3,ssfn_:y3};function S3(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),n=this.a,i=this.rf,r=1/i,s=2*r-Math.pow(r,2),o=this.e=Math.sqrt(s);this.R=this.k0*n*Math.sqrt(1-s)/(1-s*Math.pow(t,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+e/2)),h=Math.log((1+o*t)/(1-o*t));this.K=a-this.alpha*l+this.alpha*o/2*h}function C3(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),i=-this.alpha*(t+n)+this.K,r=2*(Math.atan(Math.exp(i))-Math.PI/4),s=this.alpha*(e.x-this.lambda0),o=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(s))),a=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(s));return e.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,e.x=this.R*o+this.x0,e}function R3(e){for(var t=e.x-this.x0,n=e.y-this.y0,i=t/this.R,r=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(i)),o=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(r))),a=this.lambda0+o/this.alpha,l=0,h=s,u=-1e3,c=0;Math.abs(h-u)>1e-7;){if(++c>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(h))/2)),u=h,h=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=a,e.y=h,e}var T3=["somerc"];const I3={init:S3,forward:C3,inverse:R3,names:T3};var Yr=1e-7;function A3(e){var t=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n=typeof e.PROJECTION=="object"?Object.keys(e.PROJECTION)[0]:e.PROJECTION;return"no_uoff"in e||"no_off"in e||t.indexOf(n)!==-1}function P3(){var e,t,n,i,r,s,o,a,l,h,u=0,c,f=0,g=0,d=0,p=0,v=0,_=0;this.no_off=A3(this),this.no_rot="no_rot"in this;var m=!1;"alpha"in this&&(m=!0);var y=!1;if("rectified_grid_angle"in this&&(y=!0),m&&(_=this.alpha),y&&(u=this.rectified_grid_angle*Yt),m||y)f=this.longc;else if(g=this.long1,p=this.lat1,d=this.long2,v=this.lat2,Math.abs(p-v)<=Yr||(e=Math.abs(p))<=Yr||Math.abs(e-A)<=Yr||Math.abs(Math.abs(this.lat0)-A)<=Yr||Math.abs(Math.abs(v)-A)<=Yr)throw new Error;var x=1-this.es;t=Math.sqrt(x),Math.abs(this.lat0)>D?(a=Math.sin(this.lat0),n=Math.cos(this.lat0),e=1-this.es*a*a,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/x),this.A=this.B*this.k0*t/e,i=this.B*t/(n*Math.sqrt(e)),r=i*i-1,r<=0?r=0:(r=Math.sqrt(r),this.lat0<0&&(r=-r)),this.E=r+=i,this.E*=Math.pow(pn(this.e,this.lat0,a),this.B)):(this.B=1/t,this.A=this.k0,this.E=i=r=1),m||y?(m?(c=Math.asin(Math.sin(_)/i),y||(u=_)):(c=u,_=Math.asin(i*Math.sin(c))),this.lam0=f-Math.asin(.5*(r-1/r)*Math.tan(c))/this.B):(s=Math.pow(pn(this.e,p,Math.sin(p)),this.B),o=Math.pow(pn(this.e,v,Math.sin(v)),this.B),r=this.E/s,l=(o-s)/(o+s),h=this.E*this.E,h=(h-o*s)/(h+o*s),e=g-d,e<-Math.pi?d-=Ta:e>Math.pi&&(d+=Ta),this.lam0=b(.5*(g+d)-Math.atan(h*Math.tan(.5*this.B*(g-d))/l)/this.B),c=Math.atan(2*Math.sin(this.B*b(g-this.lam0))/(r-1/r)),u=_=Math.asin(i*Math.sin(c))),this.singam=Math.sin(c),this.cosgam=Math.cos(c),this.sinrot=Math.sin(u),this.cosrot=Math.cos(u),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(_))),this.lat0<0&&(this.u_0=-this.u_0)),r=.5*c,this.v_pole_n=this.ArB*Math.log(Math.tan(ct-r)),this.v_pole_s=this.ArB*Math.log(Math.tan(ct+r))}function L3(e){var t={},n,i,r,s,o,a,l,h;if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-A)>D){if(o=this.E/Math.pow(pn(this.e,e.y,Math.sin(e.y)),this.B),a=1/o,n=.5*(o-a),i=.5*(o+a),s=Math.sin(this.B*e.x),r=(n*this.singam-s*this.cosgam)/i,Math.abs(Math.abs(r)-1)<D)throw new Error;h=.5*this.ArB*Math.log((1-r)/(1+r)),a=Math.cos(this.B*e.x),Math.abs(a)<Yr?l=this.A*e.x:l=this.ArB*Math.atan2(n*this.cosgam+s*this.singam,a)}else h=e.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*e.y;return this.no_rot?(t.x=l,t.y=h):(l-=this.u_0,t.x=h*this.cosrot+l*this.sinrot,t.y=l*this.cosrot-h*this.sinrot),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function O3(e){var t,n,i,r,s,o,a,l={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(n=e.y,t=e.x):(n=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),i=Math.exp(-this.BrA*n),r=.5*(i-1/i),s=.5*(i+1/i),o=Math.sin(this.BrA*t),a=(o*this.cosgam+r*this.singam)/s,Math.abs(Math.abs(a)-1)<D)l.x=0,l.y=a<0?-A:A;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=Aa(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(r*this.cosgam-o*this.singam,Math.cos(this.BrA*t))}return l.x+=this.lam0,l}var k3=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const N3={init:P3,forward:L3,inverse:O3,names:k3};function D3(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<D)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),n=Math.cos(this.lat1),i=Fn(this.e,t,n),r=pn(this.e,this.lat1,t),s=Math.sin(this.lat2),o=Math.cos(this.lat2),a=Fn(this.e,s,o),l=pn(this.e,this.lat2,s),h=pn(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>D?this.ns=Math.log(i/a)/Math.log(r/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=i/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(h,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function F3(e){var t=e.x,n=e.y;Math.abs(2*Math.abs(n)-Math.PI)<=D&&(n=Va(n)*(A-2*D));var i=Math.abs(Math.abs(n)-A),r,s;if(i>D)r=pn(this.e,n,Math.sin(n)),s=this.a*this.f0*Math.pow(r,this.ns);else{if(i=n*this.ns,i<=0)return null;s=0}var o=this.ns*b(t-this.long0);return e.x=this.k0*(s*Math.sin(o))+this.x0,e.y=this.k0*(this.rh-s*Math.cos(o))+this.y0,e}function b3(e){var t,n,i,r,s,o=(e.x-this.x0)/this.k0,a=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(o*o+a*a),n=1):(t=-Math.sqrt(o*o+a*a),n=-1);var l=0;if(t!==0&&(l=Math.atan2(n*o,n*a)),t!==0||this.ns>0){if(n=1/this.ns,i=Math.pow(t/(this.a*this.f0),n),r=Aa(this.e,i),r===-9999)return null}else r=-A;return s=b(l/this.ns+this.long0),e.x=s,e.y=r,e}var z3=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const G3={init:D3,forward:F3,inverse:b3,names:z3};function B3(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function j3(e){var t,n,i,r,s,o,a,l=e.x,h=e.y,u=b(l-this.long0);return t=Math.pow((1+this.e*Math.sin(h))/(1-this.e*Math.sin(h)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(h/2+this.s45),this.alfa)/t)-this.s45),i=-u*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),s=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(r)),o=this.n*s,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),e.y=a*Math.cos(o)/1,e.x=a*Math.sin(o)/1,this.czech||(e.y*=-1,e.x*=-1),e}function U3(e){var t,n,i,r,s,o,a,l,h=e.x;e.x=e.y,e.y=h,this.czech||(e.y*=-1,e.x*=-1),o=Math.sqrt(e.x*e.x+e.y*e.y),s=Math.atan2(e.y,e.x),r=s/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(t)),e.x=this.long0-n/this.alfa,a=t,l=0;var u=0;do e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-e.y)<1e-10&&(l=1),a=e.y,u+=1;while(l===0&&u<15);return u>=15?null:e}var W3=["Krovak","krovak"];const X3={init:B3,forward:j3,inverse:U3,names:W3};function me(e,t,n,i,r){return e*r-t*Math.sin(2*r)+n*Math.sin(4*r)-i*Math.sin(6*r)}function $a(e){return 1-.25*e*(1+e/16*(3+1.25*e))}function Ya(e){return .375*e*(1+.25*e*(1+.46875*e))}function qa(e){return .05859375*e*e*(1+.75*e)}function Ka(e){return e*e*e*(35/3072)}function Ws(e,t,n){var i=t*n;return e/Math.sqrt(1-i*i)}function Js(e){return Math.abs(e)<A?e:e-Va(e)*Math.PI}function Lh(e,t,n,i,r){var s,o;s=e/t;for(var a=0;a<15;a++)if(o=(e-(t*s-n*Math.sin(2*s)+i*Math.sin(4*s)-r*Math.sin(6*s)))/(t-2*n*Math.cos(2*s)+4*i*Math.cos(4*s)-6*r*Math.cos(6*s)),s+=o,Math.abs(o)<=1e-10)return s;return NaN}function V3(){this.sphere||(this.e0=$a(this.es),this.e1=Ya(this.es),this.e2=qa(this.es),this.e3=Ka(this.es),this.ml0=this.a*me(this.e0,this.e1,this.e2,this.e3,this.lat0))}function $3(e){var t,n,i=e.x,r=e.y;if(i=b(i-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(r)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(r),Math.cos(i))-this.lat0);else{var s=Math.sin(r),o=Math.cos(r),a=Ws(this.a,this.e,s),l=Math.tan(r)*Math.tan(r),h=i*Math.cos(r),u=h*h,c=this.es*o*o/(1-this.es),f=this.a*me(this.e0,this.e1,this.e2,this.e3,r);t=a*h*(1-u*l*(1/6-(8-l+8*c)*u/120)),n=f-this.ml0+a*s/o*u*(.5+(5-l+6*c)*u/24)}return e.x=t+this.x0,e.y=n+this.y0,e}function Y3(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,n=e.y/this.a,i,r;if(this.sphere){var s=n+this.lat0;i=Math.asin(Math.sin(s)*Math.cos(t)),r=Math.atan2(Math.tan(t),Math.cos(s))}else{var o=this.ml0/this.a+n,a=Lh(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-A)<=D)return e.x=this.long0,e.y=A,n<0&&(e.y*=-1),e;var l=Ws(this.a,this.e,Math.sin(a)),h=l*l*l/this.a/this.a*(1-this.es),u=Math.pow(Math.tan(a),2),c=t*this.a/l,f=c*c;i=a-l*Math.tan(a)/h*c*c*(.5-(1+3*u)*c*c/24),r=c*(1-f*(u/3+(1+3*u)*u*f/15))/Math.cos(a)}return e.x=b(r+this.long0),e.y=Js(i),e}var q3=["Cassini","Cassini_Soldner","cass"];const K3={init:V3,forward:$3,inverse:Y3,names:q3};function Wi(e,t){var n;return e>1e-7?(n=e*t,(1-e*e)*(t/(1-n*n)-.5/e*Math.log((1-n)/(1+n)))):2*t}var H3=1,Z3=2,Q3=3,J3=4;function tA(){var e=Math.abs(this.lat0);if(Math.abs(e-A)<D?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<D?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var t;switch(this.qp=Wi(this.e,1),this.mmf=.5/(1-this.es),this.apa=hA(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=Wi(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function eA(e){var t,n,i,r,s,o,a,l,h,u,c=e.x,f=e.y;if(c=b(c-this.long0),this.sphere){if(s=Math.sin(f),u=Math.cos(f),i=Math.cos(c),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+u*i:1+this.sinph0*s+this.cosph0*u*i,n<=D)return null;n=Math.sqrt(2/n),t=n*u*Math.sin(c),n*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*u*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(f+this.lat0)<D)return null;n=ct-f*.5,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),t=n*Math.sin(c),n*=i}}else{switch(a=0,l=0,h=0,i=Math.cos(c),r=Math.sin(c),s=Math.sin(f),o=Wi(this.e,s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(a=o/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:h=1+this.sinb1*a+this.cosb1*l*i;break;case this.EQUIT:h=1+l*i;break;case this.N_POLE:h=A+f,o=this.qp-o;break;case this.S_POLE:h=f-A,o=this.qp+o;break}if(Math.abs(h)<D)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:h=Math.sqrt(2/h),this.mode===this.OBLIQ?n=this.ymf*h*(this.cosb1*a-this.sinb1*l*i):n=(h=Math.sqrt(2/(1+l*i)))*a*this.ymf,t=this.xmf*h*l*r;break;case this.N_POLE:case this.S_POLE:o>=0?(t=(h=Math.sqrt(o))*r,n=i*(this.mode===this.S_POLE?h:-h)):t=n=0;break}}return e.x=this.a*t+this.x0,e.y=this.a*n+this.y0,e}function nA(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,n=e.y/this.a,i,r,s,o,a,l,h;if(this.sphere){var u=0,c,f=0;if(c=Math.sqrt(t*t+n*n),r=c*.5,r>1)return null;switch(r=2*Math.asin(r),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(f=Math.sin(r),u=Math.cos(r)),this.mode){case this.EQUIT:r=Math.abs(c)<=D?0:Math.asin(n*f/c),t*=f,n=u*c;break;case this.OBLIQ:r=Math.abs(c)<=D?this.lat0:Math.asin(u*this.sinph0+n*f*this.cosph0/c),t*=f*this.cosph0,n=(u-Math.sin(r)*this.sinph0)*c;break;case this.N_POLE:n=-n,r=A-r;break;case this.S_POLE:r-=A;break}i=n===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(t,n)}else{if(h=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t/=this.dd,n*=this.dd,l=Math.sqrt(t*t+n*n),l<D)return e.x=this.long0,e.y=this.lat0,e;o=2*Math.asin(.5*l/this.rq),s=Math.cos(o),t*=o=Math.sin(o),this.mode===this.OBLIQ?(h=s*this.sinb1+n*o*this.cosb1/l,a=this.qp*h,n=l*this.cosb1*s-n*this.sinb1*o):(h=n*o/l,a=this.qp*h,n=l*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),a=t*t+n*n,!a)return e.x=this.long0,e.y=this.lat0,e;h=1-a/this.qp,this.mode===this.S_POLE&&(h=-h)}i=Math.atan2(t,n),r=uA(Math.asin(h),this.apa)}return e.x=b(this.long0+i),e.y=r,e}var iA=.3333333333333333,rA=.17222222222222222,sA=.10257936507936508,oA=.06388888888888888,aA=.0664021164021164,lA=.016415012942191543;function hA(e){var t,n=[];return n[0]=e*iA,t=e*e,n[0]+=t*rA,n[1]=t*oA,t*=e,n[0]+=t*sA,n[1]+=t*aA,n[2]=t*lA,n}function uA(e,t){var n=e+e;return e+t[0]*Math.sin(n)+t[1]*Math.sin(n+n)+t[2]*Math.sin(n+n+n)}var cA=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const fA={init:tA,forward:eA,inverse:nA,names:cA,S_POLE:H3,N_POLE:Z3,EQUIT:Q3,OBLIQ:J3};function Ki(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}function dA(){Math.abs(this.lat1+this.lat2)<D||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Fn(this.e3,this.sin_po,this.cos_po),this.qs1=Wi(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Fn(this.e3,this.sin_po,this.cos_po),this.qs2=Wi(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Wi(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>D?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function gA(e){var t=e.x,n=e.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=Wi(this.e3,this.sin_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,s=this.ns0*b(t-this.long0),o=r*Math.sin(s)+this.x0,a=this.rh-r*Math.cos(s)+this.y0;return e.x=o,e.y=a,e}function mA(e){var t,n,i,r,s,o;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),i=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),i=-1),r=0,t!==0&&(r=Math.atan2(i*e.x,i*e.y)),i=t*this.ns0/this.a,this.sphere?o=Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,o=this.phi1z(this.e3,n)),s=b(r/this.ns0+this.long0),e.x=s,e.y=o,e}function pA(e,t){var n,i,r,s,o,a=Ki(.5*t);if(e<D)return a;for(var l=e*e,h=1;h<=25;h++)if(n=Math.sin(a),i=Math.cos(a),r=e*n,s=1-r*r,o=.5*s*s/i*(t/(1-l)-n/s+.5/e*Math.log((1-r)/(1+r))),a=a+o,Math.abs(o)<=1e-7)return a;return null}var _A=["Albers_Conic_Equal_Area","Albers","aea"];const yA={init:dA,forward:gA,inverse:mA,names:_A,phi1z:pA};function vA(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function xA(e){var t,n,i,r,s,o,a,l,h=e.x,u=e.y;return i=b(h-this.long0),t=Math.sin(u),n=Math.cos(u),r=Math.cos(i),o=this.sin_p14*t+this.cos_p14*n*r,s=1,o>0||Math.abs(o)<=D?(a=this.x0+this.a*s*n*Math.sin(i)/o,l=this.y0+this.a*s*(this.cos_p14*t-this.sin_p14*n*r)/o):(a=this.x0+this.infinity_dist*n*Math.sin(i),l=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*n*r)),e.x=a,e.y=l,e}function EA(e){var t,n,i,r,s,o;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(r=Math.atan2(t,this.rc),n=Math.sin(r),i=Math.cos(r),o=Ki(i*this.sin_p14+e.y*n*this.cos_p14/t),s=Math.atan2(e.x*n,t*this.cos_p14*i-e.y*this.sin_p14*n),s=b(this.long0+s)):(o=this.phic0,s=0),e.x=s,e.y=o,e}var wA=["gnom"];const MA={init:vA,forward:xA,inverse:EA,names:wA};function SA(e,t){var n=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-n)<1e-6)return t<0?-1*A:A;for(var i=Math.asin(.5*t),r,s,o,a,l=0;l<30;l++)if(s=Math.sin(i),o=Math.cos(i),a=e*s,r=Math.pow(1-a*a,2)/(2*o)*(t/(1-e*e)-s/(1-a*a)+.5/e*Math.log((1-a)/(1+a))),i+=r,Math.abs(r)<=1e-10)return i;return NaN}function CA(){this.sphere||(this.k0=Fn(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function RA(e){var t=e.x,n=e.y,i,r,s=b(t-this.long0);if(this.sphere)i=this.x0+this.a*s*Math.cos(this.lat_ts),r=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var o=Wi(this.e,Math.sin(n));i=this.x0+this.a*this.k0*s,r=this.y0+this.a*o*.5/this.k0}return e.x=i,e.y=r,e}function TA(e){e.x-=this.x0,e.y-=this.y0;var t,n;return this.sphere?(t=b(this.long0+e.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(n=SA(this.e,2*e.y*this.k0/this.a),t=b(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=n,e}var IA=["cea"];const AA={init:CA,forward:RA,inverse:TA,names:IA};function PA(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function LA(e){var t=e.x,n=e.y,i=b(t-this.long0),r=Js(n-this.lat0);return e.x=this.x0+this.a*i*this.rc,e.y=this.y0+this.a*r,e}function OA(e){var t=e.x,n=e.y;return e.x=b(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=Js(this.lat0+(n-this.y0)/this.a),e}var kA=["Equirectangular","Equidistant_Cylindrical","eqc"];const NA={init:PA,forward:LA,inverse:OA,names:kA};var wp=20;function DA(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=$a(this.es),this.e1=Ya(this.es),this.e2=qa(this.es),this.e3=Ka(this.es),this.ml0=this.a*me(this.e0,this.e1,this.e2,this.e3,this.lat0)}function FA(e){var t=e.x,n=e.y,i,r,s,o=b(t-this.long0);if(s=o*Math.sin(n),this.sphere)Math.abs(n)<=D?(i=this.a*o,r=-1*this.a*this.lat0):(i=this.a*Math.sin(s)/Math.tan(n),r=this.a*(Js(n-this.lat0)+(1-Math.cos(s))/Math.tan(n)));else if(Math.abs(n)<=D)i=this.a*o,r=-1*this.ml0;else{var a=Ws(this.a,this.e,Math.sin(n))/Math.tan(n);i=a*Math.sin(s),r=this.a*me(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+a*(1-Math.cos(s))}return e.x=i+this.x0,e.y=r+this.y0,e}function bA(e){var t,n,i,r,s,o,a,l,h;if(i=e.x-this.x0,r=e.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=D)t=b(i/this.a+this.long0),n=0;else{o=this.lat0+r/this.a,a=i*i/this.a/this.a+o*o,l=o;var u;for(s=wp;s;--s)if(u=Math.tan(l),h=-1*(o*(l*u+1)-l-.5*(l*l+a)*u)/((l-o)/u-1),l+=h,Math.abs(h)<=D){n=l;break}t=b(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(r+this.ml0)<=D)n=0,t=b(this.long0+i/this.a);else{o=(this.ml0+r)/this.a,a=i*i/this.a/this.a+o*o,l=o;var c,f,g,d,p;for(s=wp;s;--s)if(p=this.e*Math.sin(l),c=Math.sqrt(1-p*p)*Math.tan(l),f=this.a*me(this.e0,this.e1,this.e2,this.e3,l),g=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),d=f/this.a,h=(o*(c*d+1)-d-.5*c*(d*d+a))/(this.es*Math.sin(2*l)*(d*d+a-2*o*d)/(4*c)+(o-d)*(c*g-2/Math.sin(2*l))-g),l-=h,Math.abs(h)<=D){n=l;break}c=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),t=b(this.long0+Math.asin(i*c/this.a)/Math.sin(n))}return e.x=t,e.y=n,e}var zA=["Polyconic","poly"];const GA={init:DA,forward:FA,inverse:bA,names:zA};function BA(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function jA(e){var t,n=e.x,i=e.y,r=i-this.lat0,s=n-this.long0,o=r/Xo*1e-5,a=s,l=1,h=0;for(t=1;t<=10;t++)l=l*o,h=h+this.A[t]*l;var u=h,c=a,f=1,g=0,d,p,v=0,_=0;for(t=1;t<=6;t++)d=f*u-g*c,p=g*u+f*c,f=d,g=p,v=v+this.B_re[t]*f-this.B_im[t]*g,_=_+this.B_im[t]*f+this.B_re[t]*g;return e.x=_*this.a+this.x0,e.y=v*this.a+this.y0,e}function UA(e){var t,n=e.x,i=e.y,r=n-this.x0,s=i-this.y0,o=s/this.a,a=r/this.a,l=1,h=0,u,c,f=0,g=0;for(t=1;t<=6;t++)u=l*o-h*a,c=h*o+l*a,l=u,h=c,f=f+this.C_re[t]*l-this.C_im[t]*h,g=g+this.C_im[t]*l+this.C_re[t]*h;for(var d=0;d<this.iterations;d++){var p=f,v=g,_,m,y=o,x=a;for(t=2;t<=6;t++)_=p*f-v*g,m=v*f+p*g,p=_,v=m,y=y+(t-1)*(this.B_re[t]*p-this.B_im[t]*v),x=x+(t-1)*(this.B_im[t]*p+this.B_re[t]*v);p=1,v=0;var E=this.B_re[1],w=this.B_im[1];for(t=2;t<=6;t++)_=p*f-v*g,m=v*f+p*g,p=_,v=m,E=E+t*(this.B_re[t]*p-this.B_im[t]*v),w=w+t*(this.B_im[t]*p+this.B_re[t]*v);var S=E*E+w*w;f=(y*E+x*w)/S,g=(x*E-y*w)/S}var M=f,R=g,O=1,F=0;for(t=1;t<=9;t++)O=O*M,F=F+this.D[t]*O;var B=this.lat0+F*Xo*1e5,$=this.long0+R;return e.x=$,e.y=B,e}var WA=["New_Zealand_Map_Grid","nzmg"];const XA={init:BA,forward:jA,inverse:UA,names:WA};function VA(){}function $A(e){var t=e.x,n=e.y,i=b(t-this.long0),r=this.x0+this.a*i,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return e.x=r,e.y=s,e}function YA(e){e.x-=this.x0,e.y-=this.y0;var t=b(this.long0+e.x/this.a),n=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=n,e}var qA=["Miller_Cylindrical","mill"];const KA={init:VA,forward:$A,inverse:YA,names:qA};var HA=20;function ZA(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Gv(this.es)}function QA(e){var t,n,i=e.x,r=e.y;if(i=b(i-this.long0),this.sphere){if(!this.m)r=this.n!==1?Math.asin(this.n*Math.sin(r)):r;else for(var s=this.n*Math.sin(r),o=HA;o;--o){var a=(this.m*r+Math.sin(r)-s)/(this.m+Math.cos(r));if(r-=a,Math.abs(a)<D)break}t=this.a*this.C_x*i*(this.m+Math.cos(r)),n=this.a*this.C_y*r}else{var l=Math.sin(r),h=Math.cos(r);n=this.a*Mu(r,l,h,this.en),t=this.a*i*h/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=n,e}function JA(e){var t,n,i,r;return e.x-=this.x0,i=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,i=i/(this.C_x*(this.m+Math.cos(t))),this.m?t=Ki((this.m*t+Math.sin(t))/this.n):this.n!==1&&(t=Ki(Math.sin(t)/this.n)),i=b(i+this.long0),t=Js(t)):(t=Bv(e.y/this.a,this.es,this.en),r=Math.abs(t),r<A?(r=Math.sin(t),n=this.long0+e.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(t)),i=b(n)):r-D<A&&(i=this.long0)),e.x=i,e.y=t,e}var tP=["Sinusoidal","sinu"];const eP={init:ZA,forward:QA,inverse:JA,names:tP};function nP(){}function iP(e){for(var t=e.x,n=e.y,i=b(t-this.long0),r=n,s=Math.PI*Math.sin(n);;){var o=-(r+Math.sin(r)-s)/(1+Math.cos(r));if(r+=o,Math.abs(o)<D)break}r/=2,Math.PI/2-Math.abs(n)<D&&(i=0);var a=.900316316158*this.a*i*Math.cos(r)+this.x0,l=1.4142135623731*this.a*Math.sin(r)+this.y0;return e.x=a,e.y=l,e}function rP(e){var t,n;e.x-=this.x0,e.y-=this.y0,n=e.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),t=Math.asin(n);var i=b(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*t+Math.sin(2*t))/Math.PI,Math.abs(n)>1&&(n=1);var r=Math.asin(n);return e.x=i,e.y=r,e}var sP=["Mollweide","moll"];const oP={init:nP,forward:iP,inverse:rP,names:sP};function aP(){Math.abs(this.lat1+this.lat2)<D||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=$a(this.es),this.e1=Ya(this.es),this.e2=qa(this.es),this.e3=Ka(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Fn(this.e,this.sinphi,this.cosphi),this.ml1=me(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<D?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Fn(this.e,this.sinphi,this.cosphi),this.ml2=me(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=me(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function lP(e){var t=e.x,n=e.y,i;if(this.sphere)i=this.a*(this.g-n);else{var r=me(this.e0,this.e1,this.e2,this.e3,n);i=this.a*(this.g-r)}var s=this.ns*b(t-this.long0),o=this.x0+i*Math.sin(s),a=this.y0+this.rh-i*Math.cos(s);return e.x=o,e.y=a,e}function hP(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var t,n,i,r;this.ns>=0?(n=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(n=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var s=0;if(n!==0&&(s=Math.atan2(t*e.x,t*e.y)),this.sphere)return r=b(this.long0+s/this.ns),i=Js(this.g-n/this.a),e.x=r,e.y=i,e;var o=this.g-n/this.a;return i=Lh(o,this.e0,this.e1,this.e2,this.e3),r=b(this.long0+s/this.ns),e.x=r,e.y=i,e}var uP=["Equidistant_Conic","eqdc"];const cP={init:aP,forward:lP,inverse:hP,names:uP};function fP(){this.R=this.a}function dP(e){var t=e.x,n=e.y,i=b(t-this.long0),r,s;Math.abs(n)<=D&&(r=this.x0+this.R*i,s=this.y0);var o=Ki(2*Math.abs(n/Math.PI));(Math.abs(i)<=D||Math.abs(Math.abs(n)-A)<=D)&&(r=this.x0,n>=0?s=this.y0+Math.PI*this.R*Math.tan(.5*o):s=this.y0+Math.PI*this.R*-Math.tan(.5*o));var a=.5*Math.abs(Math.PI/i-i/Math.PI),l=a*a,h=Math.sin(o),u=Math.cos(o),c=u/(h+u-1),f=c*c,g=c*(2/h-1),d=g*g,p=Math.PI*this.R*(a*(c-d)+Math.sqrt(l*(c-d)*(c-d)-(d+l)*(f-d)))/(d+l);i<0&&(p=-p),r=this.x0+p;var v=l+c;return p=Math.PI*this.R*(g*v-a*Math.sqrt((d+l)*(l+1)-v*v))/(d+l),n>=0?s=this.y0+p:s=this.y0-p,e.x=r,e.y=s,e}function gP(e){var t,n,i,r,s,o,a,l,h,u,c,f,g;return e.x-=this.x0,e.y-=this.y0,c=Math.PI*this.R,i=e.x/c,r=e.y/c,s=i*i+r*r,o=-Math.abs(r)*(1+s),a=o-2*r*r+i*i,l=-2*o+1+2*r*r+s*s,g=r*r/l+(2*a*a*a/l/l/l-9*o*a/l/l)/27,h=(o-a*a/3/l)/l,u=2*Math.sqrt(-h/3),c=3*g/h/u,Math.abs(c)>1&&(c>=0?c=1:c=-1),f=Math.acos(c)/3,e.y>=0?n=(-u*Math.cos(f+Math.PI/3)-a/3/l)*Math.PI:n=-(-u*Math.cos(f+Math.PI/3)-a/3/l)*Math.PI,Math.abs(i)<D?t=this.long0:t=b(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(i*i-r*r)+s*s))/2/i),e.x=t,e.y=n,e}var mP=["Van_der_Grinten_I","VanDerGrinten","vandg"];const pP={init:fP,forward:dP,inverse:gP,names:mP};function _P(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function yP(e){var t=e.x,n=e.y,i=Math.sin(e.y),r=Math.cos(e.y),s=b(t-this.long0),o,a,l,h,u,c,f,g,d,p,v,_,m,y,x,E,w,S,M,R,O,F,B;return this.sphere?Math.abs(this.sin_p12-1)<=D?(e.x=this.x0+this.a*(A-n)*Math.sin(s),e.y=this.y0-this.a*(A-n)*Math.cos(s),e):Math.abs(this.sin_p12+1)<=D?(e.x=this.x0+this.a*(A+n)*Math.sin(s),e.y=this.y0+this.a*(A+n)*Math.cos(s),e):(S=this.sin_p12*i+this.cos_p12*r*Math.cos(s),E=Math.acos(S),w=E?E/Math.sin(E):1,e.x=this.x0+this.a*w*r*Math.sin(s),e.y=this.y0+this.a*w*(this.cos_p12*i-this.sin_p12*r*Math.cos(s)),e):(o=$a(this.es),a=Ya(this.es),l=qa(this.es),h=Ka(this.es),Math.abs(this.sin_p12-1)<=D?(u=this.a*me(o,a,l,h,A),c=this.a*me(o,a,l,h,n),e.x=this.x0+(u-c)*Math.sin(s),e.y=this.y0-(u-c)*Math.cos(s),e):Math.abs(this.sin_p12+1)<=D?(u=this.a*me(o,a,l,h,A),c=this.a*me(o,a,l,h,n),e.x=this.x0+(u+c)*Math.sin(s),e.y=this.y0+(u+c)*Math.cos(s),e):(f=i/r,g=Ws(this.a,this.e,this.sin_p12),d=Ws(this.a,this.e,i),p=Math.atan((1-this.es)*f+this.es*g*this.sin_p12/(d*r)),v=Math.atan2(Math.sin(s),this.cos_p12*Math.tan(p)-this.sin_p12*Math.cos(s)),v===0?M=Math.asin(this.cos_p12*Math.sin(p)-this.sin_p12*Math.cos(p)):Math.abs(Math.abs(v)-Math.PI)<=D?M=-Math.asin(this.cos_p12*Math.sin(p)-this.sin_p12*Math.cos(p)):M=Math.asin(Math.sin(s)*Math.cos(p)/Math.sin(v)),_=this.e*this.sin_p12/Math.sqrt(1-this.es),m=this.e*this.cos_p12*Math.cos(v)/Math.sqrt(1-this.es),y=_*m,x=m*m,R=M*M,O=R*M,F=O*M,B=F*M,E=g*M*(1-R*x*(1-x)/6+O/8*y*(1-2*x)+F/120*(x*(4-7*x)-3*_*_*(1-7*x))-B/48*y),e.x=this.x0+E*Math.sin(v),e.y=this.y0+E*Math.cos(v),e))}function vP(e){e.x-=this.x0,e.y-=this.y0;var t,n,i,r,s,o,a,l,h,u,c,f,g,d,p,v,_,m,y,x,E,w,S,M;return this.sphere?(t=Math.sqrt(e.x*e.x+e.y*e.y),t>2*A*this.a?void 0:(n=t/this.a,i=Math.sin(n),r=Math.cos(n),s=this.long0,Math.abs(t)<=D?o=this.lat0:(o=Ki(r*this.sin_p12+e.y*i*this.cos_p12/t),a=Math.abs(this.lat0)-A,Math.abs(a)<=D?this.lat0>=0?s=b(this.long0+Math.atan2(e.x,-e.y)):s=b(this.long0-Math.atan2(-e.x,e.y)):s=b(this.long0+Math.atan2(e.x*i,t*this.cos_p12*r-e.y*this.sin_p12*i))),e.x=s,e.y=o,e)):(l=$a(this.es),h=Ya(this.es),u=qa(this.es),c=Ka(this.es),Math.abs(this.sin_p12-1)<=D?(f=this.a*me(l,h,u,c,A),t=Math.sqrt(e.x*e.x+e.y*e.y),g=f-t,o=Lh(g/this.a,l,h,u,c),s=b(this.long0+Math.atan2(e.x,-1*e.y)),e.x=s,e.y=o,e):Math.abs(this.sin_p12+1)<=D?(f=this.a*me(l,h,u,c,A),t=Math.sqrt(e.x*e.x+e.y*e.y),g=t-f,o=Lh(g/this.a,l,h,u,c),s=b(this.long0+Math.atan2(e.x,e.y)),e.x=s,e.y=o,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),v=Math.atan2(e.x,e.y),d=Ws(this.a,this.e,this.sin_p12),_=Math.cos(v),m=this.e*this.cos_p12*_,y=-m*m/(1-this.es),x=3*this.es*(1-y)*this.sin_p12*this.cos_p12*_/(1-this.es),E=t/d,w=E-y*(1+y)*Math.pow(E,3)/6-x*(1+3*y)*Math.pow(E,4)/24,S=1-y*w*w/2-E*w*w*w/6,p=Math.asin(this.sin_p12*Math.cos(w)+this.cos_p12*Math.sin(w)*_),s=b(this.long0+Math.asin(Math.sin(v)*Math.sin(w)/Math.cos(p))),M=Math.sin(p),o=Math.atan2((M-this.es*S*this.sin_p12)*Math.tan(p),M*(1-this.es)),e.x=s,e.y=o,e))}var xP=["Azimuthal_Equidistant","aeqd"];const EP={init:_P,forward:yP,inverse:vP,names:xP};function wP(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function MP(e){var t,n,i,r,s,o,a,l,h=e.x,u=e.y;return i=b(h-this.long0),t=Math.sin(u),n=Math.cos(u),r=Math.cos(i),o=this.sin_p14*t+this.cos_p14*n*r,s=1,(o>0||Math.abs(o)<=D)&&(a=this.a*s*n*Math.sin(i),l=this.y0+this.a*s*(this.cos_p14*t-this.sin_p14*n*r)),e.x=a,e.y=l,e}function SP(e){var t,n,i,r,s,o,a;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),n=Ki(t/this.a),i=Math.sin(n),r=Math.cos(n),o=this.long0,Math.abs(t)<=D?(a=this.lat0,e.x=o,e.y=a,e):(a=Ki(r*this.sin_p14+e.y*i*this.cos_p14/t),s=Math.abs(this.lat0)-A,Math.abs(s)<=D?(this.lat0>=0?o=b(this.long0+Math.atan2(e.x,-e.y)):o=b(this.long0-Math.atan2(-e.x,e.y)),e.x=o,e.y=a,e):(o=b(this.long0+Math.atan2(e.x*i,t*this.cos_p14*r-e.y*this.sin_p14*i)),e.x=o,e.y=a,e))}var CP=["ortho"];const RP={init:wP,forward:MP,inverse:SP,names:CP};var St={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},ft={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function TP(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=A-ct/2?this.face=St.TOP:this.lat0<=-(A-ct/2)?this.face=St.BOTTOM:Math.abs(this.long0)<=ct?this.face=St.FRONT:Math.abs(this.long0)<=A+ct?this.face=this.long0>0?St.RIGHT:St.LEFT:this.face=St.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function IP(e){var t={x:0,y:0},n,i,r,s,o,a,l={value:0};if(e.x-=this.long0,this.es!==0?n=Math.atan(this.one_minus_f_squared*Math.tan(e.y)):n=e.y,i=e.x,this.face===St.TOP)s=A-n,i>=ct&&i<=A+ct?(l.value=ft.AREA_0,r=i-A):i>A+ct||i<=-(A+ct)?(l.value=ft.AREA_1,r=i>0?i-kt:i+kt):i>-(A+ct)&&i<=-ct?(l.value=ft.AREA_2,r=i+A):(l.value=ft.AREA_3,r=i);else if(this.face===St.BOTTOM)s=A+n,i>=ct&&i<=A+ct?(l.value=ft.AREA_0,r=-i+A):i<ct&&i>=-ct?(l.value=ft.AREA_1,r=-i):i<-ct&&i>=-(A+ct)?(l.value=ft.AREA_2,r=-i-A):(l.value=ft.AREA_3,r=i>0?-i+kt:-i-kt);else{var h,u,c,f,g,d,p;this.face===St.RIGHT?i=Cs(i,+A):this.face===St.BACK?i=Cs(i,+kt):this.face===St.LEFT&&(i=Cs(i,-A)),f=Math.sin(n),g=Math.cos(n),d=Math.sin(i),p=Math.cos(i),h=g*p,u=g*d,c=f,this.face===St.FRONT?(s=Math.acos(h),r=Tl(s,c,u,l)):this.face===St.RIGHT?(s=Math.acos(u),r=Tl(s,c,-h,l)):this.face===St.BACK?(s=Math.acos(-h),r=Tl(s,c,-u,l)):this.face===St.LEFT?(s=Math.acos(-u),r=Tl(s,c,h,l)):(s=r=0,l.value=ft.AREA_0)}return a=Math.atan(12/kt*(r+Math.acos(Math.sin(r)*Math.cos(ct))-A)),o=Math.sqrt((1-Math.cos(s))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(r))))),l.value===ft.AREA_1?a+=A:l.value===ft.AREA_2?a+=kt:l.value===ft.AREA_3&&(a+=1.5*kt),t.x=o*Math.cos(a),t.y=o*Math.sin(a),t.x=t.x*this.a+this.x0,t.y=t.y*this.a+this.y0,e.x=t.x,e.y=t.y,e}function AP(e){var t={lam:0,phi:0},n,i,r,s,o,a,l,h,u,c={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,i=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),n=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?c.value=ft.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(c.value=ft.AREA_1,n-=A):e.x<0&&-e.x>=Math.abs(e.y)?(c.value=ft.AREA_2,n=n<0?n+kt:n-kt):(c.value=ft.AREA_3,n+=A),u=kt/12*Math.tan(n),o=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),a=Math.atan(o),r=Math.cos(n),s=Math.tan(i),l=1-r*r*s*s*(1-Math.cos(Math.atan(1/Math.cos(a)))),l<-1?l=-1:l>1&&(l=1),this.face===St.TOP)h=Math.acos(l),t.phi=A-h,c.value===ft.AREA_0?t.lam=a+A:c.value===ft.AREA_1?t.lam=a<0?a+kt:a-kt:c.value===ft.AREA_2?t.lam=a-A:t.lam=a;else if(this.face===St.BOTTOM)h=Math.acos(l),t.phi=h-A,c.value===ft.AREA_0?t.lam=-a+A:c.value===ft.AREA_1?t.lam=-a:c.value===ft.AREA_2?t.lam=-a-A:t.lam=a<0?-a-kt:-a+kt;else{var f,g,d;f=l,u=f*f,u>=1?d=0:d=Math.sqrt(1-u)*Math.sin(a),u+=d*d,u>=1?g=0:g=Math.sqrt(1-u),c.value===ft.AREA_1?(u=g,g=-d,d=u):c.value===ft.AREA_2?(g=-g,d=-d):c.value===ft.AREA_3&&(u=g,g=d,d=-u),this.face===St.RIGHT?(u=f,f=-g,g=u):this.face===St.BACK?(f=-f,g=-g):this.face===St.LEFT&&(u=f,f=g,g=-u),t.phi=Math.acos(-d)-A,t.lam=Math.atan2(g,f),this.face===St.RIGHT?t.lam=Cs(t.lam,-A):this.face===St.BACK?t.lam=Cs(t.lam,-kt):this.face===St.LEFT&&(t.lam=Cs(t.lam,+A))}if(this.es!==0){var p,v,_;p=t.phi<0?1:0,v=Math.tan(t.phi),_=this.b/Math.sqrt(v*v+this.one_minus_f_squared),t.phi=Math.atan(Math.sqrt(this.a*this.a-_*_)/(this.one_minus_f*_)),p&&(t.phi=-t.phi)}return t.lam+=this.long0,e.x=t.lam,e.y=t.phi,e}function Tl(e,t,n,i){var r;return e<D?(i.value=ft.AREA_0,r=0):(r=Math.atan2(t,n),Math.abs(r)<=ct?i.value=ft.AREA_0:r>ct&&r<=A+ct?(i.value=ft.AREA_1,r-=A):r>A+ct||r<=-(A+ct)?(i.value=ft.AREA_2,r=r>=0?r-kt:r+kt):(i.value=ft.AREA_3,r+=A)),r}function Cs(e,t){var n=e+t;return n<-kt?n+=Ta:n>+kt&&(n-=Ta),n}var PP=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const LP={init:TP,forward:IP,inverse:AP,names:PP};var Xf=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Lo=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Wv=.8487,Xv=1.3523,Vv=Pn/5,OP=1/Vv,ds=18,Oh=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},kP=function(e,t){return e[1]+t*(2*e[2]+t*3*e[3])};function NP(e,t,n,i){for(var r=t;i;--i){var s=e(r);if(r-=s,Math.abs(s)<n)break}return r}function DP(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function FP(e){var t=b(e.x-this.long0),n=Math.abs(e.y),i=Math.floor(n*Vv);i<0?i=0:i>=ds&&(i=ds-1),n=Pn*(n-OP*i);var r={x:Oh(Xf[i],n)*t,y:Oh(Lo[i],n)};return e.y<0&&(r.y=-r.y),r.x=r.x*this.a*Wv+this.x0,r.y=r.y*this.a*Xv+this.y0,r}function bP(e){var t={x:(e.x-this.x0)/(this.a*Wv),y:Math.abs(e.y-this.y0)/(this.a*Xv)};if(t.y>=1)t.x/=Xf[ds][0],t.y=e.y<0?-A:A;else{var n=Math.floor(t.y*ds);for(n<0?n=0:n>=ds&&(n=ds-1);;)if(Lo[n][0]>t.y)--n;else if(Lo[n+1][0]<=t.y)++n;else break;var i=Lo[n],r=5*(t.y-i[0])/(Lo[n+1][0]-i[0]);r=NP(function(s){return(Oh(i,s)-t.y)/kP(i,s)},r,D,100),t.x/=Oh(Xf[n],r),t.y=(5*n+r)*Yt,e.y<0&&(t.y=-t.y)}return t.x=b(t.x+this.long0),t}var zP=["Robinson","robin"];const GP={init:DP,forward:FP,inverse:bP,names:zP};function BP(){this.name="geocent"}function jP(e){var t=Pv(e,this.es,this.a);return t}function UP(e){var t=Lv(e,this.es,this.a,this.b);return t}var WP=["Geocentric","geocentric","geocent","Geocent"];const XP={init:BP,forward:jP,inverse:UP,names:WP};var se={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},Eo={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function VP(){if(Object.keys(Eo).forEach((function(n){if(typeof this[n]>"u")this[n]=Eo[n].def;else{if(Eo[n].num&&isNaN(this[n]))throw new Error("Invalid parameter value, must be numeric "+n+" = "+this[n]);Eo[n].num&&(this[n]=parseFloat(this[n]))}Eo[n].degrees&&(this[n]=this[n]*Yt)}).bind(this)),Math.abs(Math.abs(this.lat0)-A)<D?this.mode=this.lat0<0?se.S_POLE:se.N_POLE:Math.abs(this.lat0)<D?this.mode=se.EQUIT:(this.mode=se.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)}function $P(e){e.x-=this.long0;var t=Math.sin(e.y),n=Math.cos(e.y),i=Math.cos(e.x),r,s;switch(this.mode){case se.OBLIQ:s=this.sinph0*t+this.cosph0*n*i;break;case se.EQUIT:s=n*i;break;case se.S_POLE:s=-t;break;case se.N_POLE:s=t;break}switch(s=this.pn1/(this.p-s),r=s*n*Math.sin(e.x),this.mode){case se.OBLIQ:s*=this.cosph0*t-this.sinph0*n*i;break;case se.EQUIT:s*=t;break;case se.N_POLE:s*=-(n*i);break;case se.S_POLE:s*=n*i;break}var o,a;return o=s*this.cg+r*this.sg,a=1/(o*this.sw*this.h1+this.cw),r=(r*this.cg-s*this.sg)*this.cw*a,s=o*a,e.x=r*this.a,e.y=s*this.a,e}function YP(e){e.x/=this.a,e.y/=this.a;var t={x:e.x,y:e.y},n,i,r;r=1/(this.pn1-e.y*this.sw),n=this.pn1*e.x*r,i=this.pn1*e.y*this.cw*r,e.x=n*this.cg+i*this.sg,e.y=i*this.cg-n*this.sg;var s=He(e.x,e.y);if(Math.abs(s)<D)t.x=0,t.y=e.y;else{var o,a;switch(a=1-s*s*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/s+s/this.pn1),o=Math.sqrt(1-a*a),this.mode){case se.OBLIQ:t.y=Math.asin(o*this.sinph0+e.y*a*this.cosph0/s),e.y=(o-this.sinph0*Math.sin(t.y))*s,e.x*=a*this.cosph0;break;case se.EQUIT:t.y=Math.asin(e.y*a/s),e.y=o*s,e.x*=a;break;case se.N_POLE:t.y=Math.asin(o),e.y=-e.y;break;case se.S_POLE:t.y=-Math.asin(o);break}t.x=Math.atan2(e.x,e.y)}return e.x=t.x+this.long0,e.y=t.y,e}var qP=["Tilted_Perspective","tpers"];const KP={init:VP,forward:$P,inverse:YP,names:qP};function HP(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var e=1-this.es,t=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function ZP(e){var t=e.x,n=e.y,i,r,s,o;if(t=t-this.long0,this.shape==="ellipse"){n=Math.atan(this.radius_p2*Math.tan(n));var a=this.radius_p/He(this.radius_p*Math.cos(n),Math.sin(n));if(r=a*Math.cos(t)*Math.cos(n),s=a*Math.sin(t)*Math.cos(n),o=a*Math.sin(n),(this.radius_g-r)*r-s*s-o*o*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;i=this.radius_g-r,this.flip_axis?(e.x=this.radius_g_1*Math.atan(s/He(o,i)),e.y=this.radius_g_1*Math.atan(o/i)):(e.x=this.radius_g_1*Math.atan(s/i),e.y=this.radius_g_1*Math.atan(o/He(s,i)))}else this.shape==="sphere"&&(i=Math.cos(n),r=Math.cos(t)*i,s=Math.sin(t)*i,o=Math.sin(n),i=this.radius_g-r,this.flip_axis?(e.x=this.radius_g_1*Math.atan(s/He(o,i)),e.y=this.radius_g_1*Math.atan(o/i)):(e.x=this.radius_g_1*Math.atan(s/i),e.y=this.radius_g_1*Math.atan(o/He(s,i))));return e.x=e.x*this.a,e.y=e.y*this.a,e}function QP(e){var t=-1,n=0,i=0,r,s,o,a;if(e.x=e.x/this.a,e.y=e.y/this.a,this.shape==="ellipse"){this.flip_axis?(i=Math.tan(e.y/this.radius_g_1),n=Math.tan(e.x/this.radius_g_1)*He(1,i)):(n=Math.tan(e.x/this.radius_g_1),i=Math.tan(e.y/this.radius_g_1)*He(1,n));var l=i/this.radius_p;if(r=n*n+l*l+t*t,s=2*this.radius_g*t,o=s*s-4*r*this.C,o<0)return e.x=Number.NaN,e.y=Number.NaN,e;a=(-s-Math.sqrt(o))/(2*r),t=this.radius_g+a*t,n*=a,i*=a,e.x=Math.atan2(n,t),e.y=Math.atan(i*Math.cos(e.x)/t),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if(this.shape==="sphere"){if(this.flip_axis?(i=Math.tan(e.y/this.radius_g_1),n=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+i*i)):(n=Math.tan(e.x/this.radius_g_1),i=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+n*n)),r=n*n+i*i+t*t,s=2*this.radius_g*t,o=s*s-4*r*this.C,o<0)return e.x=Number.NaN,e.y=Number.NaN,e;a=(-s-Math.sqrt(o))/(2*r),t=this.radius_g+a*t,n*=a,i*=a,e.x=Math.atan2(n,t),e.y=Math.atan(i*Math.cos(e.x)/t)}return e.x=e.x+this.long0,e}var JP=["Geostationary Satellite View","Geostationary_Satellite","geos"];const tL={init:HP,forward:ZP,inverse:QP,names:JP};var Vo=1.340264,$o=-.081106,Yo=893e-6,qo=.003796,kh=Math.sqrt(3)/2;function eL(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function nL(e){var t=b(e.x-this.long0),n=e.y,i=Math.asin(kh*Math.sin(n)),r=i*i,s=r*r*r;return e.x=t*Math.cos(i)/(kh*(Vo+3*$o*r+s*(7*Yo+9*qo*r))),e.y=i*(Vo+$o*r+s*(Yo+qo*r)),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function iL(e){e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a;var t=1e-9,n=12,i=e.y,r,s,o,a,l,h;for(h=0;h<n&&(r=i*i,s=r*r*r,o=i*(Vo+$o*r+s*(Yo+qo*r))-e.y,a=Vo+3*$o*r+s*(7*Yo+9*qo*r),i-=l=o/a,!(Math.abs(l)<t));++h);return r=i*i,s=r*r*r,e.x=kh*e.x*(Vo+3*$o*r+s*(7*Yo+9*qo*r))/Math.cos(i),e.y=Math.asin(Math.sin(i)/kh),e.x=b(e.x+this.long0),e}var rL=["eqearth","Equal Earth","Equal_Earth"];const sL={init:eL,forward:nL,inverse:iL,names:rL};function oL(e){e.Proj.projections.add(Xl),e.Proj.projections.add(Vl),e.Proj.projections.add(a3),e.Proj.projections.add(_3),e.Proj.projections.add(M3),e.Proj.projections.add(I3),e.Proj.projections.add(N3),e.Proj.projections.add(G3),e.Proj.projections.add(X3),e.Proj.projections.add(K3),e.Proj.projections.add(fA),e.Proj.projections.add(yA),e.Proj.projections.add(MA),e.Proj.projections.add(AA),e.Proj.projections.add(NA),e.Proj.projections.add(GA),e.Proj.projections.add(XA),e.Proj.projections.add(KA),e.Proj.projections.add(eP),e.Proj.projections.add(oP),e.Proj.projections.add(cP),e.Proj.projections.add(pP),e.Proj.projections.add(EP),e.Proj.projections.add(RP),e.Proj.projections.add(LP),e.Proj.projections.add(GP),e.Proj.projections.add(XP),e.Proj.projections.add(KP),e.Proj.projections.add(tL),e.Proj.projections.add(sL)}Pe.defaultDatum="WGS84";Pe.Proj=Dn;Pe.WGS84=new Pe.Proj("WGS84");Pe.Point=Us;Pe.toPoint=Ov;Pe.defs=fe;Pe.nadgrid=hI;Pe.transform=Ph;Pe.mgrs=CI;Pe.version="__VERSION__";oL(Pe);function aL(e){const t=Object.keys(e.defs),n=t.length;let i,r;for(i=0;i<n;++i){const s=t[i];if(!Zt(s)){const o=e.defs(s);let a=o.units;!a&&o.projName==="longlat"&&(a="degrees"),Hy(new Vd({code:s,axisOrientation:o.axis,metersPerUnit:o.to_meter,units:a}))}}for(i=0;i<n;++i){const s=t[i],o=Zt(s);for(r=0;r<n;++r){const a=t[r],l=Zt(a);if(!Vy(s,a))if(e.defs[s]===e.defs[a])Mf([o,l]);else{const h=e(s,a);rw(o,l,im(o,l,h.forward),im(l,o,h.inverse))}}}}Pe.defs("EPSG:4284","+proj=longlat +ellps=krass +towgs84=23.57,-140.95,-79.8,0,-0.35,-0.79,-0.22 +no_defs +type=crs");aL(Pe);zs("EPSG:4284","EPSG:4326");zs("EPSG:4326","EPSG:4284");Mc.createRoot(document.getElementById("root")).render(K.jsx(mx.StrictMode,{children:K.jsx(MT,{})}))});export default lL();
